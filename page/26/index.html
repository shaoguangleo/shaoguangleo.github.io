<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"shaoguangleo.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="郭大侠的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="浩瀚宇宙 灿烂星空">
<meta property="og:url" content="http://shaoguangleo.github.io/page/26/index.html">
<meta property="og:site_name" content="浩瀚宇宙 灿烂星空">
<meta property="og:description" content="郭大侠的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="郭大侠">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://shaoguangleo.github.io/page/26/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>浩瀚宇宙 灿烂星空</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=a8cfacb0a536bd846d2fd545cedb4d61"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'a8cfacb0a536bd846d2fd545cedb4d61');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a8cfacb0a536bd846d2fd545cedb4d61";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="浩瀚宇宙 灿烂星空" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">浩瀚宇宙 灿烂星空</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">工作和生活中的七七八八</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/04/03/radio-astronomy-install-casa/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/04/03/radio-astronomy-install-casa/" class="post-title-link" itemprop="url">CASA installation</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-04-03 21:11:00" itemprop="dateCreated datePublished" datetime="2017-04-03T21:11:00+08:00">2017-04-03</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B0%84%E7%94%B5%E5%A4%A9%E6%96%87/" itemprop="url" rel="index"><span itemprop="name">射电天文</span></a>
                </span>
            </span>

          
            <span id="/2017/04/03/radio-astronomy-install-casa/" class="post-meta-item leancloud_visitors" data-flag-title="CASA installation" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/04/03/radio-astronomy-install-casa/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/04/03/radio-astronomy-install-casa/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/04/03/radio-astronomy-install-casa/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/04/03/radio-astronomy-install-casa/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="CASA安装步骤"><a href="#CASA安装步骤" class="headerlink" title="CASA安装步骤"></a>CASA安装步骤</h1><p>下载: <a href="https://casa.nrao.edu/casa_obtaining.shtml">https://casa.nrao.edu/casa_obtaining.shtml</a></p>
<p>安装步骤 ： <a href="https://casa.nrao.edu/casadocs/latest/usingcasa/obtaining-and-installing">https://casa.nrao.edu/casadocs/latest/usingcasa/obtaining-and-installing</a></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">export</span> CASAPATH=/the/path/of/casa/</span><br><span class="line">$ <span class="built_in">cd</span> <span class="variable">$CASAPATH</span></span><br><span class="line">$ tar zxvf casa-release-x.x.x.tar.gz</span><br></pre></td></tr></tbody></table></figure>

<p>把下述内容添加到<code>~/.bashrc</code>，这样就可以自启动了</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> PATH=<span class="variable">$PATH</span>:/usr/local/bin/casa-release-5.4.1-31.el7/bin</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>对于开启了SELinux的Linux而言，可能需要关闭这个功能<br><code>setsebool -P allow_execheap=1</code></p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/03/31/python-matplotlib-basic-plot-functions/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/31/python-matplotlib-basic-plot-functions/" class="post-title-link" itemprop="url">python中文档SPHINX的使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-31 23:29:02" itemprop="dateCreated datePublished" datetime="2017-03-31T23:29:02+08:00">2017-03-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/Matplotlib/" itemprop="url" rel="index"><span itemprop="name">Matplotlib</span></a>
                </span>
            </span>

          
            <span id="/2017/03/31/python-matplotlib-basic-plot-functions/" class="post-meta-item leancloud_visitors" data-flag-title="python中文档SPHINX的使用" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/03/31/python-matplotlib-basic-plot-functions/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/03/31/python-matplotlib-basic-plot-functions/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/03/31/python-matplotlib-basic-plot-functions/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/31/python-matplotlib-basic-plot-functions/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="pyplot基础图表函数概述"><a href="#pyplot基础图表函数概述" class="headerlink" title="pyplot基础图表函数概述"></a>pyplot基础图表函数概述</h4><p>matplotlib可以绘制各种类型的图，基本的几个如下表所示，示例图见下。</p>
<table>
<thead>
<tr>
<th>函数</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>plt.plot(x,y,fmt, …)</td>
<td>绘制一个坐标图</td>
</tr>
<tr>
<td>plt.boxplot(data,notch,position)</td>
<td>绘制一个箱体图</td>
</tr>
<tr>
<td>plt.bar(left,height,width,bottom)</td>
<td>绘制一个条形图</td>
</tr>
<tr>
<td>plt.barh(width,bottom,left,height)</td>
<td>绘制一个横向条形图</td>
</tr>
<tr>
<td>plt.polar(theta,r)</td>
<td>绘制极坐标图</td>
</tr>
<tr>
<td>plt.pie(data,explode)</td>
<td>绘制饼图</td>
</tr>
<tr>
<td>plt.pas(x,NFFT=256,pad_to,Fs)</td>
<td>绘制功率谱密度图</td>
</tr>
<tr>
<td>plt.specgram(x,NFFT=256,pad_to,F)</td>
<td>绘制谱图</td>
</tr>
<tr>
<td>plt.cohere(x,y,NFFT=256,Fs)</td>
<td>绘制X-Y的相关性函数</td>
</tr>
<tr>
<td>plt.scatter(x,y)</td>
<td>绘制散点图，其中，x和y长度相同</td>
</tr>
<tr>
<td>plt.step(x,y,where)</td>
<td>绘制步阶图</td>
</tr>
<tr>
<td>plt.hist(x,bins,normed)</td>
<td>绘制直方图</td>
</tr>
<tr>
<td>plt.contour(X,Y,Z,N)</td>
<td>绘制等值图</td>
</tr>
<tr>
<td>plt.vlines()</td>
<td>绘制垂直图</td>
</tr>
<tr>
<td>plt.stem(x,y,linefmt,markerfmt)</td>
<td>绘制柴火图</td>
</tr>
<tr>
<td>plt.plot_date()</td>
<td>绘制数据日期</td>
</tr>
</tbody></table>
<h2 id="plot-示例图"><a href="#plot-示例图" class="headerlink" title="plot 示例图"></a>plot 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_plot.png"></p>
<h2 id="boxplot-示例图"><a href="#boxplot-示例图" class="headerlink" title="boxplot 示例图"></a>boxplot 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_boxplot.png"></p>
<h2 id="bar-示例图"><a href="#bar-示例图" class="headerlink" title="bar 示例图"></a>bar 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_bar.png"></p>
<h2 id="barh-示例图"><a href="#barh-示例图" class="headerlink" title="barh 示例图"></a>barh 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_barh.png"></p>
<h2 id="polar-示例图"><a href="#polar-示例图" class="headerlink" title="polar 示例图"></a>polar 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_polar.png"></p>
<h2 id="pie-示例图"><a href="#pie-示例图" class="headerlink" title="pie 示例图"></a>pie 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_pie.png"></p>
<h2 id="pas-示例图"><a href="#pas-示例图" class="headerlink" title="pas 示例图"></a>pas 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_pas.png"></p>
<h2 id="specgram-示例图"><a href="#specgram-示例图" class="headerlink" title="specgram 示例图"></a>specgram 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_specgram.png"></p>
<h2 id="cohere-示例图"><a href="#cohere-示例图" class="headerlink" title="cohere 示例图"></a>cohere 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_cohere.png"></p>
<h2 id="scatter-示例图"><a href="#scatter-示例图" class="headerlink" title="scatter 示例图"></a>scatter 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_scatter.png"></p>
<h2 id="step-示例图"><a href="#step-示例图" class="headerlink" title="step 示例图"></a>step 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_step.png"></p>
<h2 id="hist-示例图"><a href="#hist-示例图" class="headerlink" title="hist 示例图"></a>hist 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_hist.png"></p>
<h2 id="contour-示例图"><a href="#contour-示例图" class="headerlink" title="contour 示例图"></a>contour 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_contour.png"></p>
<h2 id="vlines-示例图"><a href="#vlines-示例图" class="headerlink" title="vlines 示例图"></a>vlines 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_vlines.png"></p>
<h2 id="stem-示例图"><a href="#stem-示例图" class="headerlink" title="stem 示例图"></a>stem 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_stem.png"></p>
<h2 id="plot-date-示例图"><a href="#plot-date-示例图" class="headerlink" title="plot_date 示例图"></a>plot_date 示例图</h2><p><img src="/2017/03/31/python-matplotlib-basic-plot-functions/images/python-matplotlib-plot_date.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/03/31/python-matplotlib-plot/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/31/python-matplotlib-plot/" class="post-title-link" itemprop="url">Python开发者Matplotlib指南</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-31 23:29:02" itemprop="dateCreated datePublished" datetime="2017-03-31T23:29:02+08:00">2017-03-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/matplotlib/" itemprop="url" rel="index"><span itemprop="name">matplotlib</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/matplotlib/book/" itemprop="url" rel="index"><span itemprop="name">book</span></a>
                </span>
            </span>

          
            <span id="/2017/03/31/python-matplotlib-plot/" class="post-meta-item leancloud_visitors" data-flag-title="Python开发者Matplotlib指南" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/03/31/python-matplotlib-plot/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/03/31/python-matplotlib-plot/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/03/31/python-matplotlib-plot/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/31/python-matplotlib-plot/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Matplotlib-简介"><a href="#Matplotlib-简介" class="headerlink" title="Matplotlib 简介"></a>Matplotlib 简介</h1><p>至理名言：<strong>A picture is worth a thousand words</strong>。</p>
<p><strong>MatplotLib</strong> 支持交互和非交互的绘图，并且可以保持图像到PNG、PS和其他类型的文件。</p>
<h2 id="支持的输出格式"><a href="#支持的输出格式" class="headerlink" title="支持的输出格式"></a>支持的输出格式</h2><table>
<thead>
<tr>
<th>Format</th>
<th>Type Description</th>
</tr>
</thead>
<tbody><tr>
<td>EPS</td>
<td>Vector Encapsulated PostScript.</td>
</tr>
<tr>
<td>JPG</td>
<td>Raster Graphic format with lossy compression method for photographic output.</td>
</tr>
<tr>
<td>PDF</td>
<td>Vector Portable Document Format (PDF).</td>
</tr>
<tr>
<td>PNG</td>
<td>Raster Portable Network Graphics (PNG), a raster graphics format with a lossless compression method (more adaptable to line art than JPG).</td>
</tr>
<tr>
<td>PS</td>
<td>Vector Language widely used in publishing and as printers jobs format.</td>
</tr>
<tr>
<td>SVG</td>
<td>Vector Scalable Vector Graphics (SVG), XML based.</td>
</tr>
</tbody></table>
<h2 id="支持的后端"><a href="#支持的后端" class="headerlink" title="支持的后端"></a>支持的后端</h2><table>
<thead>
<tr>
<th>Backend</th>
<th>Description</th>
</tr>
</thead>
<tbody><tr>
<td>GTKAgg</td>
<td>GTK+ (The GIMP ToolKit GUI library) canvas with AGG rendering.</td>
</tr>
<tr>
<td>GTK</td>
<td>GTK+ canvas with GDK rendering. GDK rendering is rather primitive, and doesn’t include anti-aliasing for the smoothing of lines.</td>
</tr>
<tr>
<td>GTKCairo</td>
<td>GTK+ canvas with Cairo rendering.</td>
</tr>
<tr>
<td>WxAgg</td>
<td>wxWidgets (cross-platform GUI and tools library for GTK+, Windows, and Mac OS X. It uses native widgets for each operating system, so applications will have the look and feel that users expect on that operating system) canvas with AGG rendering.</td>
</tr>
<tr>
<td>WX</td>
<td>wxWidgets canvas with native wxWidgets rendering.</td>
</tr>
<tr>
<td>TkAgg</td>
<td>Tk (graphical user interface for Tcl and many other dynamic languages) canvas with AGG rendering.</td>
</tr>
<tr>
<td>QtAgg</td>
<td>Qt (cross-platform application framework for desktop and embedded development) canvas with AGG rendering (for Qt version 3 and earlier).</td>
</tr>
<tr>
<td>Qt4Agg</td>
<td>Qt4 canvas with AGG rendering.</td>
</tr>
<tr>
<td>FLTKAgg</td>
<td>FLTK (cross-platform C++ GUI toolkit for UNIX/Linux (X11), Microsoft Windows, and Mac OS X) canvas with Agg rendering.</td>
</tr>
</tbody></table>
<h2 id="渲染器的输出格式为："><a href="#渲染器的输出格式为：" class="headerlink" title="渲染器的输出格式为："></a>渲染器的输出格式为：</h2><table>
<thead>
<tr>
<th>渲染器</th>
<th>文件类型</th>
</tr>
</thead>
<tbody><tr>
<td>AGG</td>
<td>.png</td>
</tr>
<tr>
<td>PS</td>
<td>.eps or .ps</td>
</tr>
<tr>
<td>PDF</td>
<td>.pdf</td>
</tr>
<tr>
<td>SVG</td>
<td>.svg</td>
</tr>
<tr>
<td>Cairo</td>
<td>.png, .ps, .pdf, .svg</td>
</tr>
<tr>
<td>GDK</td>
<td>.png, .jpg</td>
</tr>
</tbody></table>
<blockquote>
<p>python-dateutil - 增强datetime</p>
</blockquote>
<h2 id="可以使用的集成环境IDE"><a href="#可以使用的集成环境IDE" class="headerlink" title="可以使用的集成环境IDE"></a>可以使用的集成环境IDE</h2><ul>
<li>Enthought Python Distribution</li>
<li>Python(x,y)</li>
<li>Sage</li>
<li>Anaconda</li>
</ul>
<h1 id="开始使用-Matplotlib"><a href="#开始使用-Matplotlib" class="headerlink" title="开始使用 Matplotlib"></a>开始使用 Matplotlib</h1><h2 id="三种使用Matplotlib的方式"><a href="#三种使用Matplotlib的方式" class="headerlink" title="三种使用Matplotlib的方式"></a>三种使用Matplotlib的方式</h2><ol>
<li>pyplot: 提供与Matlab类似的函数式环境，state-machine interface。通常用于interactive ploting的模式，例如ipython，可立即看到绘图结果。使用方式如下：<code>from matplotlib import pyplot as plt</code>,pyplot中提供的函数接口见：<a href="http://matplotlib.org/api/pyplot_api.html#pyplot">http://matplotlib.org/api/pyplot_api.html#pyplot</a></li>
<li>pylab：结合了<code>pyplot</code>（用于作图）和<code>numpy</code>（用于数学计算）。在本书中被嫌弃。使用方式如下：<code>ipython -pylab</code></li>
<li>面向对象式的</li>
</ol>
<p>对于面向对象式的，比如下面的代码：</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">x = np.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0.1</span>)</span><br><span class="line">y = np.random.randn(<span class="built_in">len</span>(x))</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">l, = plt.plot(x, y)</span><br><span class="line">t = ax.set_title(<span class="string">'random numbers'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>


<h2 id="用Matplotlib绘制第一幅图片"><a href="#用Matplotlib绘制第一幅图片" class="headerlink" title="用Matplotlib绘制第一幅图片"></a>用Matplotlib绘制第一幅图片</h2><h3 id="源码"><a href="#源码" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">x = []</span><br><span class="line">y = []</span><br><span class="line">z = []</span><br><span class="line">xx = <span class="built_in">range</span>(<span class="built_in">len</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>):</span><br><span class="line">    x.append(np.random.rand())</span><br><span class="line">    y.append(np.random.rand())</span><br><span class="line">    z.append(np.random.rand())</span><br><span class="line"></span><br><span class="line">plt.plot(xx,x)</span><br><span class="line">plt.plot(xx,y)</span><br><span class="line">plt.plot(xx,z)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>


<h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p><img src="/2017/03/31/python-matplotlib-plot/images/matplotlib-simple-plot.png"></p>
<h2 id="用Matplotlib绘制添加各种信息的图片"><a href="#用Matplotlib绘制添加各种信息的图片" class="headerlink" title="用Matplotlib绘制添加各种信息的图片"></a>用Matplotlib绘制添加各种信息的图片</h2><p>在前面的基础上添加上网格，坐标，坐标轴信息和标题等信息</p>
<h3 id="源码-1"><a href="#源码-1" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">x = []</span><br><span class="line">y = []</span><br><span class="line">z = []</span><br><span class="line">xx = <span class="built_in">range</span>(<span class="built_in">len</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>):</span><br><span class="line">    x.append(np.random.rand())</span><br><span class="line">    y.append(np.random.rand())</span><br><span class="line">    z.append(np.random.rand())</span><br><span class="line"></span><br><span class="line">plt.plot(xx,x)</span><br><span class="line">plt.plot(xx,y)</span><br><span class="line">plt.plot(xx,z)</span><br><span class="line">plt.legend([<span class="string">'legend x'</span>,<span class="string">'legend y'</span>,<span class="string">'legend z'</span>],loc=<span class="string">'best'</span>)</span><br><span class="line"></span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Random Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Test data'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-1"><a href="#效果图-1" class="headerlink" title="效果图"></a>效果图</h3><p><img src="/2017/03/31/python-matplotlib-plot/images/matplotlib-simple-plot-with-labels.png"></p>
<h2 id="保存图像到文件"><a href="#保存图像到文件" class="headerlink" title="保存图像到文件"></a>保存图像到文件</h2><figure class="highlight sml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.savefig(<span class="symbol">'plot</span>.png')</span><br></pre></td></tr></tbody></table></figure>

<h2 id="绘图键盘快捷键与功能"><a href="#绘图键盘快捷键与功能" class="headerlink" title="绘图键盘快捷键与功能"></a>绘图键盘快捷键与功能</h2><table>
<thead>
<tr>
<th>键盘快捷键</th>
<th>命令</th>
</tr>
</thead>
<tbody><tr>
<td>h or r or home</td>
<td>Home or Reset</td>
</tr>
<tr>
<td>c or left arrow or backspace</td>
<td>后退</td>
</tr>
<tr>
<td>v or right arrow</td>
<td>前进</td>
</tr>
<tr>
<td>p</td>
<td>Pan or Zoom</td>
</tr>
<tr>
<td>o</td>
<td>Zoom-to-rectangle</td>
</tr>
<tr>
<td>s</td>
<td>保存</td>
</tr>
<tr>
<td>f</td>
<td>全屏</td>
</tr>
<tr>
<td>hold x</td>
<td>Constrain pan or zoom to x-axis</td>
</tr>
<tr>
<td>hold y</td>
<td>Constrain pan or zoom to y-axis</td>
</tr>
<tr>
<td>hold ctrl</td>
<td>Preserve aspect ratio</td>
</tr>
<tr>
<td>g</td>
<td>网格显示</td>
</tr>
<tr>
<td>l</td>
<td>Toggle y-axis scale (log or linear)</td>
</tr>
</tbody></table>
<h2 id="进入matplotlib环境"><a href="#进入matplotlib环境" class="headerlink" title="进入matplotlib环境"></a>进入matplotlib环境</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ ipython -pylab</span><br></pre></td></tr></tbody></table></figure>

<p> 在该命令下，</p>
<ul>
<li>ion ： 打开交互模式</li>
<li>ioff：关闭交互模式</li>
<li>draw：强制重绘</li>
</ul>
<h2 id="配置Matplotlib"><a href="#配置Matplotlib" class="headerlink" title="配置Matplotlib"></a>配置Matplotlib</h2><p>全局配置文件 /etc/matplotlibrc</p>
<blockquote>
<p>在该文件中我们可以看到<code>backend : TkAgg</code>，因为TkAgg不基于任何依赖，所以在大部分平台上都会正常工作，这也是因为python默认使用的就是Tk/Tcl。</p>
</blockquote>
<h3 id="几个小技巧"><a href="#几个小技巧" class="headerlink" title="几个小技巧"></a>几个小技巧</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">plt.hold() <span class="comment"># 是否保留原来图像</span></span><br><span class="line"></span><br><span class="line">plt.interactive(<span class="literal">True</span>) <span class="comment"># 使能交互模式</span></span><br><span class="line"></span><br><span class="line">plt.legend <span class="comment"># 有几个位置，可以使用`loc`参数</span></span><br></pre></td></tr></tbody></table></figure>

<table>
<thead>
<tr>
<th>String</th>
<th>Code</th>
</tr>
</thead>
<tbody><tr>
<td>best</td>
<td>0</td>
</tr>
<tr>
<td>upper right</td>
<td>1</td>
</tr>
<tr>
<td>upper left</td>
<td>2</td>
</tr>
<tr>
<td>lower  left</td>
<td>3</td>
</tr>
<tr>
<td>lower right</td>
<td>4</td>
</tr>
<tr>
<td>right</td>
<td>5</td>
</tr>
<tr>
<td>center left</td>
<td>6</td>
</tr>
<tr>
<td>center right</td>
<td>7</td>
</tr>
<tr>
<td>lower center</td>
<td>8</td>
</tr>
<tr>
<td>upper center</td>
<td>9</td>
</tr>
<tr>
<td>center</td>
<td>10</td>
</tr>
</tbody></table>
<h1 id="绘图的美化"><a href="#绘图的美化" class="headerlink" title="绘图的美化"></a>绘图的美化</h1><p>这一章用来美化绘图咯。</p>
<h2 id="颜色选项"><a href="#颜色选项" class="headerlink" title="颜色选项"></a>颜色选项</h2><p>通过加上简单的一个参数就可以控制图片的线条颜色了。</p>
<h3 id="源码-2"><a href="#源码-2" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">x = []</span><br><span class="line">y = []</span><br><span class="line">z = []</span><br><span class="line"></span><br><span class="line">xx = <span class="built_in">range</span>(<span class="built_in">len</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>):</span><br><span class="line">    x.append(np.random.rand())</span><br><span class="line">    y.append(np.random.rand())</span><br><span class="line">    z.append(np.random.rand())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Adding color parameters</span></span><br><span class="line">plt.plot(xx,x,<span class="string">'y'</span>,label=<span class="string">'legend x'</span>)</span><br><span class="line">plt.plot(xx,y,<span class="string">'m'</span>,label=<span class="string">'legend y'</span>)</span><br><span class="line">plt.plot(xx,z,<span class="string">'c'</span>,label=<span class="string">'legend z'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Random Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Colors'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-2"><a href="#效果图-2" class="headerlink" title="效果图"></a>效果图</h3><p>支持的颜色列表：</p>
<table>
<thead>
<tr>
<th>Color abbreviation</th>
<th>Color Name</th>
</tr>
</thead>
<tbody><tr>
<td>b</td>
<td>blue 蓝色</td>
</tr>
<tr>
<td>c</td>
<td>cyan 蓝绿色</td>
</tr>
<tr>
<td>g</td>
<td>green 绿色</td>
</tr>
<tr>
<td>k</td>
<td>black 黑色</td>
</tr>
<tr>
<td>m</td>
<td>magenta 品红色</td>
</tr>
<tr>
<td>r</td>
<td>red 红色</td>
</tr>
<tr>
<td>w</td>
<td>white 白色</td>
</tr>
<tr>
<td>y</td>
<td>yellow 黄色</td>
</tr>
</tbody></table>
<p>颜色的表示方法除了用缩写，还可以使用颜色名字或者16进制的RGB代码，比如下面的三行代码效果是一样的。</p>
<figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="title">plot</span><span class="params">(xx,x,<span class="string">'r'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">plot</span><span class="params">(xx,x,<span class="string">'red'</span>)</span></span></span><br><span class="line"><span class="function"><span class="title">plot</span><span class="params">(xx,x,<span class="string">'#FF0000'</span>)</span></span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="线条类型"><a href="#线条类型" class="headerlink" title="线条类型"></a>线条类型</h2><h3 id="源码-3"><a href="#源码-3" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">x = []</span><br><span class="line">y = []</span><br><span class="line">z = []</span><br><span class="line"></span><br><span class="line">xx = <span class="built_in">range</span>(<span class="built_in">len</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>):</span><br><span class="line">    x.append(np.random.rand())</span><br><span class="line">    y.append(np.random.rand())</span><br><span class="line">    z.append(np.random.rand())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using different line styles</span></span><br><span class="line">plt.plot(xx,x,<span class="string">'--'</span>,label=<span class="string">'x'</span>)</span><br><span class="line">plt.plot(xx,y,<span class="string">'-.'</span>,label=<span class="string">'y'</span>)</span><br><span class="line">plt.plot(xx,z,<span class="string">':'</span>,label=<span class="string">'z'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Random Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Colors'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-3"><a href="#效果图-3" class="headerlink" title="效果图"></a>效果图</h3><h3 id="线条类型表"><a href="#线条类型表" class="headerlink" title="线条类型表"></a>线条类型表</h3><table>
<thead>
<tr>
<th>类型缩写</th>
<th>类型</th>
</tr>
</thead>
<tbody><tr>
<td>-</td>
<td>实线</td>
</tr>
<tr>
<td>–</td>
<td>虚线</td>
</tr>
<tr>
<td>-.</td>
<td>点划线</td>
</tr>
<tr>
<td>:</td>
<td>点线</td>
</tr>
</tbody></table>
<h2 id="点标记类型"><a href="#点标记类型" class="headerlink" title="点标记类型"></a>点标记类型</h2><h3 id="源码-4"><a href="#源码-4" class="headerlink" title="源码"></a>源码</h3><figure class="highlight routeros"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">len = 10</span><br><span class="line"></span><br><span class="line">x = []</span><br><span class="line">y = []</span><br><span class="line">z = []</span><br><span class="line">m = []</span><br><span class="line">n = []</span><br><span class="line"></span><br><span class="line">xx = range(len)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> range(len):</span><br><span class="line">    x.append(np.random.rand())</span><br><span class="line">    y.append(np.random.rand())</span><br><span class="line">    z.append(np.random.rand())</span><br><span class="line">    m.append(np.random.rand())</span><br><span class="line">    n.append(np.random.rand())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using different line styles</span></span><br><span class="line">plt.plot(xx,x,<span class="string">'o'</span>,<span class="attribute">label</span>=<span class="string">'x'</span>)</span><br><span class="line">plt.plot(xx,y,<span class="string">'^'</span>,<span class="attribute">label</span>=<span class="string">'y'</span>)</span><br><span class="line">plt.plot(xx,z,<span class="string">'x'</span>,<span class="attribute">label</span>=<span class="string">'z'</span>)</span><br><span class="line">plt.plot(xx,m,<span class="string">'s'</span>,<span class="attribute">label</span>=<span class="string">'z'</span>)</span><br><span class="line">plt.plot(xx,n,<span class="string">'D'</span>,<span class="attribute">label</span>=<span class="string">'z'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Random Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Markers'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-4"><a href="#效果图-4" class="headerlink" title="效果图"></a>效果图</h3><h3 id="标记点类型"><a href="#标记点类型" class="headerlink" title="标记点类型"></a>标记点类型</h3><table>
<thead>
<tr>
<th>标记缩写</th>
<th>标记类型</th>
</tr>
</thead>
<tbody><tr>
<td>.</td>
<td>点</td>
</tr>
<tr>
<td>,</td>
<td>像素</td>
</tr>
<tr>
<td>o</td>
<td>圆</td>
</tr>
<tr>
<td>v</td>
<td>倒三角</td>
</tr>
<tr>
<td>^</td>
<td>正三角</td>
</tr>
<tr>
<td>&lt;</td>
<td>左三角</td>
</tr>
<tr>
<td>&gt;</td>
<td>右三角</td>
</tr>
<tr>
<td>1</td>
<td>Tripod down marker</td>
</tr>
<tr>
<td>2</td>
<td>Tripod up marker</td>
</tr>
<tr>
<td>3</td>
<td>Tripod left marker</td>
</tr>
<tr>
<td>4</td>
<td>Tripod right marker</td>
</tr>
<tr>
<td>s</td>
<td>Square marker</td>
</tr>
<tr>
<td>p</td>
<td>Pentagon marker</td>
</tr>
<tr>
<td>*</td>
<td>Star marker</td>
</tr>
<tr>
<td>h</td>
<td>Hexagon marker</td>
</tr>
<tr>
<td>H</td>
<td>Rotated hexagon marker</td>
</tr>
<tr>
<td>+</td>
<td>Plus marker</td>
</tr>
<tr>
<td>x</td>
<td>Cross (x) marker</td>
</tr>
<tr>
<td>D</td>
<td>Diamond marker</td>
</tr>
<tr>
<td>d</td>
<td>Thin diamond marker</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
<tr>
<td>_</td>
<td>Horizontal line (hline symbol) marker</td>
</tr>
</tbody></table>
<h2 id="组合标记和线类型"><a href="#组合标记和线类型" class="headerlink" title="组合标记和线类型"></a>组合标记和线类型</h2><p>其实颜色、线条类型以及点标记是可以组合使用的。</p>
<h3 id="源码-5"><a href="#源码-5" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span> = <span class="number">10</span></span><br><span class="line"></span><br><span class="line">x = []</span><br><span class="line">y = []</span><br><span class="line">z = []</span><br><span class="line">m = []</span><br><span class="line"></span><br><span class="line">xx = <span class="built_in">range</span>(<span class="built_in">len</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>):</span><br><span class="line">    x.append(np.random.rand())</span><br><span class="line">    y.append(np.random.rand())</span><br><span class="line">    z.append(np.random.rand())</span><br><span class="line">    m.append(np.random.rand())</span><br><span class="line"></span><br><span class="line"><span class="comment"># Using different line styles</span></span><br><span class="line">plt.plot(xx,x,<span class="string">'--o'</span>,label=<span class="string">'x'</span>)</span><br><span class="line">plt.plot(xx,y,<span class="string">'-.^'</span>,label=<span class="string">'y'</span>)</span><br><span class="line">plt.plot(xx,z,<span class="string">'-x'</span>,label=<span class="string">'z'</span>)</span><br><span class="line">plt.plot(xx,m,<span class="string">':s'</span>,label=<span class="string">'z'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Random Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Line with Markers'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-5"><a href="#效果图-5" class="headerlink" title="效果图"></a>效果图</h3><h2 id="使用关键词参数来更好地控制绘图"><a href="#使用关键词参数来更好地控制绘图" class="headerlink" title="使用关键词参数来更好地控制绘图"></a>使用关键词参数来更好地控制绘图</h2><p>前面的格式化参数虽然很有用，但是还是有些缺点的，比如，不允许我们分别设置点和线的颜色。<br>所以这里就需要使用关键词参数了。</p>
<h3 id="源码-6"><a href="#源码-6" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span> = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">x = []</span><br><span class="line">y = []</span><br><span class="line">z = []</span><br><span class="line">m = []</span><br><span class="line"></span><br><span class="line">xx = <span class="built_in">range</span>(<span class="built_in">len</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>):</span><br><span class="line">    x.append(np.random.rand())</span><br><span class="line">    y.append(np.random.rand())</span><br><span class="line">    z.append(np.random.rand())</span><br><span class="line"></span><br><span class="line">plt.plot(xx,x,color=<span class="string">'blue'</span>,linestyle=<span class="string">'dashdot'</span>,linewidth=<span class="number">2</span>,marker=<span class="string">'o'</span>,</span><br><span class="line">         markerfacecolor=<span class="string">'red'</span>,markeredgecolor=<span class="string">'black'</span>,label=<span class="string">'x'</span>)</span><br><span class="line">plt.plot(xx,y,color=<span class="string">'green'</span>,linestyle=<span class="string">'solid'</span>,linewidth=<span class="number">3</span>,marker=<span class="string">'s'</span>,</span><br><span class="line">         markerfacecolor=<span class="string">'blue'</span>,markeredgecolor=<span class="string">'red'</span>,label=<span class="string">'y'</span>)</span><br><span class="line">plt.plot(xx,z,color=<span class="string">'cyan'</span>,linestyle=<span class="string">':'</span>,linewidth=<span class="number">2</span>,marker=<span class="string">'^'</span>,</span><br><span class="line">         markerfacecolor=<span class="string">'green'</span>,markeredgecolor=<span class="string">'blue'</span>,label=<span class="string">'z'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Random Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Keyword'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>
<h3 id="效果图-6"><a href="#效果图-6" class="headerlink" title="效果图"></a>效果图</h3><p>其实<code>plot</code>能做出许多美轮美奂的图片，这就取决于你的想象力了。</p>
<h3 id="关键词参数列表"><a href="#关键词参数列表" class="headerlink" title="关键词参数列表"></a>关键词参数列表</h3><table>
<thead>
<tr>
<th>关键词参数</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>color or c</td>
<td>设置线条颜色; accepts any Matplotlib color format.</td>
</tr>
<tr>
<td>linestyle</td>
<td>设置线条类型; accepts the line styles seen previously.</td>
</tr>
<tr>
<td>linewidth</td>
<td>设置线条宽度; accepts a float value in points.</td>
</tr>
<tr>
<td>marker Sets</td>
<td>the line marker style.</td>
</tr>
<tr>
<td>markeredgecolor</td>
<td>设置标记边缘颜色; accepts any Matplotlib color format.</td>
</tr>
<tr>
<td>markeredgewidth</td>
<td>设置标记边缘宽度; accepts float value in points.</td>
</tr>
<tr>
<td>markerfacecolor</td>
<td>设置标记内部颜色; accepts any Matplotlib color format.</td>
</tr>
<tr>
<td>markersize</td>
<td>设置标记点大小; accepts float values.</td>
</tr>
</tbody></table>
<h2 id="设置x轴与y轴的tick标记"><a href="#设置x轴与y轴的tick标记" class="headerlink" title="设置x轴与y轴的tick标记"></a>设置x轴与y轴的tick标记</h2><h3 id="源码-7"><a href="#源码-7" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span> = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">x = []</span><br><span class="line">y = []</span><br><span class="line">z = []</span><br><span class="line">m = []</span><br><span class="line"></span><br><span class="line">xx = <span class="built_in">range</span>(<span class="built_in">len</span>)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>):</span><br><span class="line">    x.append(np.random.rand())</span><br><span class="line">    y.append(np.random.rand())</span><br><span class="line">    z.append(np.random.rand())</span><br><span class="line"></span><br><span class="line">plt.plot(xx,x,color=<span class="string">'blue'</span>,linestyle=<span class="string">'dashdot'</span>,linewidth=<span class="number">2</span>,marker=<span class="string">'o'</span>,</span><br><span class="line">         markerfacecolor=<span class="string">'red'</span>,markeredgecolor=<span class="string">'black'</span>,label=<span class="string">'x'</span>)</span><br><span class="line">plt.plot(xx,y,color=<span class="string">'green'</span>,linestyle=<span class="string">'solid'</span>,linewidth=<span class="number">3</span>,marker=<span class="string">'s'</span>,</span><br><span class="line">         markerfacecolor=<span class="string">'blue'</span>,markeredgecolor=<span class="string">'red'</span>,label=<span class="string">'y'</span>)</span><br><span class="line">plt.plot(xx,z,color=<span class="string">'cyan'</span>,linestyle=<span class="string">':'</span>,linewidth=<span class="number">2</span>,marker=<span class="string">'^'</span>,</span><br><span class="line">         markerfacecolor=<span class="string">'green'</span>,markeredgecolor=<span class="string">'blue'</span>,label=<span class="string">'z'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Random Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Keyword'</span>)</span><br><span class="line"></span><br><span class="line">plt.xticks(<span class="built_in">range</span>(<span class="built_in">len</span>),[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>])</span><br><span class="line">plt.yticks(np.arange(<span class="number">0</span>,<span class="number">1</span>,<span class="number">0.05</span>))</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-7"><a href="#效果图-7" class="headerlink" title="效果图"></a>效果图</h3><h2 id="绘图类型"><a href="#绘图类型" class="headerlink" title="绘图类型"></a>绘图类型</h2><p>前面说的都是线类型，其实matplotlib可以绘制很多类型，如下图所示。</p>
<h2 id="直方图"><a href="#直方图" class="headerlink" title="直方图"></a>直方图</h2><p><strong>直方图</strong> 主要用于显示出现的频率值，将某一部分数据集放在一个category里面，这个category称谓<br><strong>bins</strong> 。默认的bins值为10，可以通过参数bins来修改该值，比如下面的源码将其更改为25。</p>
<h3 id="源码-8"><a href="#源码-8" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">len</span> = <span class="number">1000</span></span><br><span class="line"></span><br><span class="line">y = np.random.randn(<span class="built_in">len</span>)</span><br><span class="line"></span><br><span class="line">plt.hist(y,bins=<span class="number">25</span>,color=<span class="string">'red'</span>,label=<span class="string">'Data'</span>)</span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.grid(<span class="literal">True</span>)</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Random Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Histogram Charts'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-8"><a href="#效果图-8" class="headerlink" title="效果图"></a>效果图</h3><h2 id="误差条形图"><a href="#误差条形图" class="headerlink" title="误差条形图"></a>误差条形图</h2><p>对于实验值，精确的值通常情况下是不存在的，因为有各种各样的误差值，那么此时误差条形图就来了。</p>
<p>且看如何使用该图。</p>
<h3 id="源码-9"><a href="#源码-9" class="headerlink" title="源码"></a>源码</h3><figure class="highlight livecodeserver"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line">import matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">import numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">0</span>,<span class="number">10</span>,<span class="number">0.2</span>)</span><br><span class="line">y = np.<span class="built_in">exp</span>(-x)</span><br><span class="line">e1 = <span class="number">0.1</span> * np.<span class="built_in">abs</span>(np.<span class="built_in">random</span>.randn(<span class="built_in">len</span>(y)))</span><br><span class="line">e2 = <span class="number">0.15</span> * np.<span class="built_in">abs</span>(np.<span class="built_in">random</span>.randn(<span class="built_in">len</span>(y)))</span><br><span class="line"></span><br><span class="line">plt.errorbar(x,y,xerr=e1,yerr=e2,ecolor=<span class="string">'red'</span>,fmt=<span class="string">'-'</span>,label=<span class="string">'error'</span>)</span><br><span class="line"></span><br><span class="line">plt.axis([<span class="number">0</span>,<span class="number">10</span>,<span class="number">-0.5</span>,<span class="number">1.2</span>])</span><br><span class="line"></span><br><span class="line">plt.legend()</span><br><span class="line"></span><br><span class="line">plt.grid(True)</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Random Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Error Bar Charts'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-9"><a href="#效果图-9" class="headerlink" title="效果图"></a>效果图</h3><p>可以看到上面的误差图是对称的，如果是非对称的，只需要将plot的语句更改为如下所示</p>
<figure class="highlight gml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">plt.errorbar(<span class="variable language_">x</span>,<span class="variable language_">y</span>,yerr=[e1,e2],ecolor=<span class="string">'red'</span>,fmt=<span class="string">'-'</span>,label=<span class="string">'error'</span>)</span><br></pre></td></tr></tbody></table></figure>

<h3 id="非对称效果图"><a href="#非对称效果图" class="headerlink" title="非对称效果图"></a>非对称效果图</h3><h2 id="直方图-1"><a href="#直方图-1" class="headerlink" title="直方图"></a>直方图</h2><p>直方图主要用于可视化两组或者多组值。</p>
<h3 id="源码-10"><a href="#源码-10" class="headerlink" title="源码"></a>源码</h3><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.bar([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>],[<span class="number">4</span>,<span class="number">6</span>,<span class="number">3</span>,<span class="number">8</span>])</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.grid(True)</span><br><span class="line"><span class="attribute">plt</span>.xlabel('Points')</span><br><span class="line"><span class="attribute">plt</span>.ylabel('Value')</span><br><span class="line"><span class="attribute">plt</span>.title('Bar Charts')</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="参数"><a href="#参数" class="headerlink" title="参数"></a>参数</h3><ul>
<li>width：bar的宽度</li>
<li>color：bar的颜色</li>
<li>xerr，yerr：bar的误差</li>
<li>bottom：bar的底部坐标</li>
</ul>
<h3 id="效果图-10"><a href="#效果图-10" class="headerlink" title="效果图"></a>效果图</h3><h2 id="更清晰的直方图"><a href="#更清晰的直方图" class="headerlink" title="更清晰的直方图"></a>更清晰的直方图</h2><h2 id="源码-11"><a href="#源码-11" class="headerlink" title="源码"></a>源码</h2><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="built_in">dict</span> = {<span class="string">'A'</span>:<span class="number">40</span>,<span class="string">'B'</span>:<span class="number">70</span>,<span class="string">'C'</span>:<span class="number">35</span>,<span class="string">'D'</span>:<span class="number">86</span>}</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i,key <span class="keyword">in</span> <span class="built_in">enumerate</span>(<span class="built_in">dict</span>):</span><br><span class="line">    <span class="built_in">print</span> i,key</span><br><span class="line">    plt.bar(i,<span class="built_in">dict</span>[key])</span><br><span class="line"></span><br><span class="line"><span class="comment"># 因为宽度默认为0.8，此处的0.4即为每个bar的中间位置</span></span><br><span class="line">plt.xticks(np.arange(<span class="built_in">len</span>(<span class="built_in">dict</span>))+<span class="number">0.4</span>,<span class="built_in">dict</span>.keys())</span><br><span class="line"><span class="comment"># 只显示有用的值</span></span><br><span class="line">plt.yticks(<span class="built_in">dict</span>.values())</span><br><span class="line">plt.xlabel(<span class="string">'Points'</span>)</span><br><span class="line">plt.ylabel(<span class="string">'Value'</span>)</span><br><span class="line">plt.title(<span class="string">'Clear Bar Charts'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-11"><a href="#效果图-11" class="headerlink" title="效果图"></a>效果图</h3><h2 id="复杂直方图"><a href="#复杂直方图" class="headerlink" title="复杂直方图"></a>复杂直方图</h2><h3 id="源码-12"><a href="#源码-12" class="headerlink" title="源码"></a>源码</h3><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="attribute">import</span> numpy as np</span><br><span class="line"></span><br><span class="line"><span class="attribute">data1</span> = <span class="number">10</span>*np.random.rand(<span class="number">5</span>)</span><br><span class="line"><span class="attribute">data2</span> = <span class="number">10</span>*np.random.rand(<span class="number">5</span>)</span><br><span class="line"><span class="attribute">data3</span> = <span class="number">10</span>*np.random.rand(<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line"><span class="attribute">e2</span> = <span class="number">0</span>.<span class="number">5</span> * np.abs(np.random.randn(len(data2)))</span><br><span class="line"></span><br><span class="line"><span class="attribute">locs</span> = np.arange(<span class="number">1</span>,len(data1)+<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line"><span class="attribute">width</span> = <span class="number">0</span>.<span class="number">27</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.bar(locs,data1,width=width)</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.bar(locs+width,data2,yerr=e2,width=width,color='red')</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.bar(locs+<span class="number">2</span>*width,data3,width=width,color='green')</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.xticks(locs + width *<span class="number">1</span>.<span class="number">5</span>,locs)</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.xlabel('Points')</span><br><span class="line"><span class="attribute">plt</span>.ylabel('Value')</span><br><span class="line"><span class="attribute">plt</span>.title('Complex Bar Charts')</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-12"><a href="#效果图-12" class="headerlink" title="效果图"></a>效果图</h3><h2 id="饼状图"><a href="#饼状图" class="headerlink" title="饼状图"></a>饼状图</h2><p>饼状图主要用于表述某一部分在整体中占得比例。</p>
<h3 id="源码-13"><a href="#源码-13" class="headerlink" title="源码"></a>源码</h3><figure class="highlight clean"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding=utf<span class="number">-8</span></span><br><span class="line"></span><br><span class="line"># Author    :   Guo Shaoguang</span><br><span class="line"># Email     :   sgguo@shao.ac.cn</span><br><span class="line"># Institute :   Shanghai Astronomical Observatory</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line">x = [<span class="number">25</span>,<span class="number">35</span>,<span class="number">45</span>]</span><br><span class="line"></span><br><span class="line">labels = [<span class="string">'Good'</span>,<span class="string">'Failed'</span>,<span class="string">'Passed'</span>]</span><br><span class="line"></span><br><span class="line">plt.pie(x,labels=labels)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">'Pie Charts'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-13"><a href="#效果图-13" class="headerlink" title="效果图"></a>效果图</h3><h3 id="参数-1"><a href="#参数-1" class="headerlink" title="参数"></a>参数</h3><ul>
<li>explode : 所属的部分是否相对于半径有偏移，也就是突出显示的意思</li>
<li>colors : 颜色控制</li>
<li>labels ： 标记</li>
<li>shadow ： 是否有阴影渲染</li>
</ul>
<h3 id="源码-14"><a href="#源码-14" class="headerlink" title="源码"></a>源码</h3><figure class="highlight rsl"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env python</span></span><br><span class="line"><span class="meta"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="meta"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="meta"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line">x = [<span class="number">5</span>,<span class="number">25</span>,<span class="number">35</span>,<span class="number">45</span>,<span class="number">10</span>]</span><br><span class="line"></span><br><span class="line">labels = [<span class="string">'Excellent'</span>,<span class="string">'Good'</span>,<span class="string">'Failed'</span>,<span class="string">'Passed'</span>,<span class="string">'Bad'</span>]</span><br><span class="line"></span><br><span class="line">explode = [<span class="number">0.1</span>,<span class="number">0.2</span>,<span class="number">0.0</span>,<span class="number">0.1</span>,<span class="number">0.0</span>]</span><br><span class="line"></span><br><span class="line"><span class="built_in">shadow</span> = [<span class="number">0.0</span>,<span class="number">0.1</span>,<span class="number">0.2</span>,<span class="number">0.1</span>,<span class="number">0.0</span>]</span><br><span class="line"></span><br><span class="line">plt.pie(x,labels=labels,explode=explode,<span class="built_in">shadow</span>=<span class="built_in">shadow</span>)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">'Pie Charts'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>
<h3 id="效果图-14"><a href="#效果图-14" class="headerlink" title="效果图"></a>效果图</h3><h2 id="散点图"><a href="#散点图" class="headerlink" title="散点图"></a>散点图</h2><p>散点图主要用于鉴定两组变量的潜在关系，也就是相关关系。</p>
<h3 id="源码-15"><a href="#源码-15" class="headerlink" title="源码"></a>源码</h3><figure class="highlight haskell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env python</span></span><br><span class="line"><span class="meta"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="meta"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="meta"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line"><span class="title">x</span> = np.random.randn(<span class="number">1000</span>)</span><br><span class="line"><span class="title">y</span> = np.random.randn(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">plt</span>.scatter(x,y)</span><br><span class="line"></span><br><span class="line"><span class="title">plt</span>.title('<span class="type">Scatter</span> <span class="type">Plot'</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-15"><a href="#效果图-15" class="headerlink" title="效果图"></a>效果图</h3><h3 id="修饰散点图"><a href="#修饰散点图" class="headerlink" title="修饰散点图"></a>修饰散点图</h3><p>可以使用下面的几个参数来修饰散点图：</p>
<ul>
<li>s：表示点的大小size</li>
<li>c：表示点的颜色color</li>
<li>marker：表示点的样式，可以参考前面关于Marker的描述</li>
</ul>
<figure class="highlight livecodeserver"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line">import matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line">import numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.<span class="built_in">random</span>.randn(<span class="number">1000</span>)</span><br><span class="line">y = np.<span class="built_in">random</span>.randn(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">size = <span class="number">50</span>*np.<span class="built_in">random</span>.randn(<span class="number">1000</span>)</span><br><span class="line">colors = np.<span class="built_in">random</span>.rand(<span class="number">1000</span>)</span><br><span class="line"></span><br><span class="line">plt.scatter(x,y,s=size,c=colors)</span><br><span class="line"></span><br><span class="line">plt.title(<span class="string">'Scatter Plot'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-16"><a href="#效果图-16" class="headerlink" title="效果图"></a>效果图</h3><h2 id="极坐标图"><a href="#极坐标图" class="headerlink" title="极坐标图"></a>极坐标图</h2><p>极坐标使用了一个完全不同的坐标系，前面的绘图，我们使用的都是笛卡尔坐标系，分别为x与y轴。<br>而极坐标使用的是半径与角度（或弧度，Matplotlib默认使用角度）。</p>
<h3 id="源码-16"><a href="#源码-16" class="headerlink" title="源码"></a>源码</h3><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="attribute">import</span> numpy as np</span><br><span class="line"></span><br><span class="line"><span class="attribute">theta</span> = np.arange(<span class="number">0</span>.,<span class="number">2</span>.,<span class="number">1</span>./<span class="number">180</span>.)*np.pi</span><br><span class="line"></span><br><span class="line"><span class="comment"># Draw a spiral</span></span><br><span class="line"><span class="attribute">plt</span>.polar(<span class="number">3</span>*theta,theta/<span class="number">5</span>)</span><br><span class="line"><span class="comment"># Draw a polar rose, a pretty function that resembles a flower</span></span><br><span class="line"><span class="attribute">plt</span>.polar(theta,np.cos(<span class="number">8</span>*theta))</span><br><span class="line"><span class="comment"># Draw a circular</span></span><br><span class="line"><span class="attribute">plt</span>.polar(theta,[<span class="number">1</span>.<span class="number">4</span>]*len(theta))</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.title('Polar Plot')</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-17"><a href="#效果图-17" class="headerlink" title="效果图"></a>效果图</h3><p>可以通过参数<code>rgrids</code>和<code>thetagrid</code>来控制相关的参数显示，比如下面的代码将绘制一个蝴蝶。</p>
<p><code>rgrids</code>的参数有下面几个：</p>
<ul>
<li>radii：The radial distances at which the grid lines should be drawn.</li>
<li>labels: The labels to display at radii grid. By default, the values from radii would be used, but if not None, then it has to be of the same length as that of radii.</li>
<li>angle: The angle at which the labels are displayed (by default it’s 22.5°).</li>
</ul>
<p><code>thetagrids</code>的参数有下面几个：</p>
<ul>
<li>angles: label的位置</li>
<li>labels: Specifies the labels to be printed at given angles. If None, then the angles values are used, or else the array must be of the same length of angles.</li>
<li>frac: The polar axes radius fraction at which we want the label to be drawn (1 is the edge, 1.1 is outside, and 0.9 is inside).</li>
</ul>
<figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="attribute">import</span> numpy as np</span><br><span class="line"></span><br><span class="line"><span class="attribute">theta</span> = np.arange(<span class="number">0</span>.,<span class="number">2</span>.,<span class="number">1</span>./<span class="number">180</span>.)*np.pi</span><br><span class="line"><span class="attribute">r</span> = np.abs(np.sin(<span class="number">5</span>*theta)-<span class="number">2</span>.*np.cos(theta))</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.polar(theta,r)</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.thetagrids(range(<span class="number">45</span>,<span class="number">360</span>,<span class="number">90</span>))</span><br><span class="line"><span class="attribute">plt</span>.rgrids(np.arange(<span class="number">0</span>.<span class="number">2</span>,<span class="number">3</span>.,.<span class="number">7</span>),angle=<span class="number">90</span>)</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.title('Polar Plot')</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-18"><a href="#效果图-18" class="headerlink" title="效果图"></a>效果图</h3><h1 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h1><p>转载请注明作者及其出处</p>
<p><a href="https://github.com/shaoguangleo">github</a><br><a href="http://shaoguangleo.github.io/">Homepage</a><br><a href="http://guoshaoguang.com/blog/">Homepage</a><br><a href="http://blog.csdn.net/shaoguangleo">CSDN</a></p>
<h2 id="图片中的文字、注释与箭头"><a href="#图片中的文字、注释与箭头" class="headerlink" title="图片中的文字、注释与箭头"></a>图片中的文字、注释与箭头</h2><p>前面的图片我们很简单地添加了x、y轴和标题的问题。<br>这里我们学着添加图片内部的文字。</p>
<p>其中text中的x、y为坐标值；<br>figtext为相对坐标，(0,0)为左下角，(1,1)为左上角；</p>
<p>除了text，用的比较多的应该是annotate，既可以写上文字，也可以标记出来具体的点。</p>
<p>annotate的参数：</p>
<ul>
<li>width: The width of the arrow in points</li>
<li>frac: The fraction of the arrow length occupied by the head</li>
<li>headwidth: The width of the base of the arrow head in points</li>
<li>shrink: Moves the tip and the base of the arrow some percent away from<br>the annotated point and text, in percentage (so 0.05 is equal to 5%)</li>
</ul>
<p>annotate已经很好用了，不过我们还可以通过arrow来任意指定箭头的位置、大小和方向。</p>
<h3 id="源码-17"><a href="#源码-17" class="headerlink" title="源码"></a>源码</h3><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="attribute">import</span> numpy as np</span><br><span class="line"></span><br><span class="line"><span class="attribute">x</span> = np.arange(<span class="number">0</span>,<span class="number">4</span>*np.pi,.<span class="number">01</span>)</span><br><span class="line"><span class="attribute">y</span> = np.sin(x)</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.plot(x,y)</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.text(<span class="number">0</span>.<span class="number">1</span>,-<span class="number">0</span>.<span class="number">05</span>,'Sin(x)')</span><br><span class="line"><span class="attribute">plt</span>.figtext(<span class="number">0</span>.<span class="number">5</span>,.<span class="number">5</span>,'sin(x) center')</span><br><span class="line"><span class="attribute">plt</span>.annotate('This point must be really \nmean something',xy=(np.pi/<span class="number">2</span>.,<span class="number">1</span>),xytext=(<span class="number">2</span>.<span class="number">9</span>,<span class="number">0</span>.<span class="number">7</span>),</span><br><span class="line">             <span class="attribute">arrowprops</span>=dict(facecolor='cyan',shrink=<span class="number">0</span>.<span class="number">05</span>))</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.title('Text &amp;&amp; Annotation')</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<p>Another</p>
<figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.axis([<span class="number">0</span>,<span class="number">10</span>,<span class="number">0</span>,<span class="number">20</span>])</span><br><span class="line"></span><br><span class="line"><span class="attribute">arrstyles</span> =<span class="meta"> ['-','-&gt;','-[','&lt;-','&lt;-&gt;','fancy','simple','wedge']</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">for</span> i,style in enumerate(arrstyles):</span><br><span class="line">    <span class="attribute">plt</span>.annotate(style,xytext=(<span class="number">1</span>,<span class="number">2</span>+<span class="number">2</span>*i),xy=(<span class="number">4</span>,<span class="number">1</span>+<span class="number">2</span>*i),arrowprops=dict(arrowstyle=style))</span><br><span class="line"></span><br><span class="line"><span class="attribute">for</span> i,style in enumerate(arrstyles):</span><br><span class="line">    <span class="attribute">plt</span>.annotate('',xytext=(<span class="number">6</span>,<span class="number">2</span>+<span class="number">2</span>*i),xy=(<span class="number">8</span>,<span class="number">1</span>+<span class="number">2</span>*i),arrowprops=dict(arrowstyle=style))</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.title('Different Arrows')</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>


<h3 id="效果图-19"><a href="#效果图-19" class="headerlink" title="效果图"></a>效果图</h3><h1 id="Matplotlib-进阶"><a href="#Matplotlib-进阶" class="headerlink" title="Matplotlib 进阶"></a>Matplotlib 进阶</h1><h2 id="使用Matplotlib的几种方式"><a href="#使用Matplotlib的几种方式" class="headerlink" title="使用Matplotlib的几种方式"></a>使用Matplotlib的几种方式</h2><p>有三种使用Matplotlib的方法：</p>
<ul>
<li>pyplot</li>
<li>pylab：将Matplotlib和NumPy集合在一起，很像Matlab</li>
<li>面向对象的方式：这也是最好的一种方式，因为可以对返回的结果进行全方位的控制</li>
</ul>
<p> 同一个程序用上面的三种方法，效果图如下所示：</p>
<p> 源码如下所示：</p>
<h3 id="pyplot"><a href="#pyplot" class="headerlink" title="pyplot"></a>pyplot</h3><figure class="highlight gml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"><span class="variable language_">x</span> = np.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0.1</span>)</span><br><span class="line"><span class="variable language_">y</span> = np.<span class="built_in">random</span>.randn(len(<span class="variable language_">x</span>))</span><br><span class="line">plt.plot(<span class="variable language_">x</span>, <span class="variable language_">y</span>)</span><br><span class="line">plt.title(<span class="string">'random numbers'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>
<h3 id="pylab"><a href="#pylab" class="headerlink" title="pylab"></a>pylab</h3><p>使用<code>ipython -pylab</code>，输入代码如下：</p>
<figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">In <span class="selector-attr">[1]</span>: <span class="attribute">x</span> = <span class="built_in">arange</span>(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0.1</span>)</span><br><span class="line">In <span class="selector-attr">[2]</span>: <span class="attribute">y</span> = <span class="built_in">randn</span>(<span class="built_in">len</span>(x))</span><br><span class="line">In <span class="selector-attr">[3]</span>: <span class="built_in">plot</span>(<span class="attribute">x</span>, y)</span><br><span class="line">Out<span class="selector-attr">[3]</span>: <span class="selector-attr">[&lt;matplotlib.lines.Line2D object at 0x4284dd0&gt;]</span></span><br><span class="line">In <span class="selector-attr">[4]</span>: <span class="built_in">title</span>(<span class="string">'random numbers'</span>)</span><br><span class="line">In <span class="selector-attr">[5]</span>: <span class="built_in">show</span>()</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>这里需要特别注意的是 ipython -pylab 与from pylab import * 是不一样的。</p>
</blockquote>
<h3 id="OO"><a href="#OO" class="headerlink" title="OO"></a>OO</h3><p>最后来一个面向对象的，代码如下所示：</p>
<figure class="highlight gml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"><span class="variable language_">x</span> = np.arange(<span class="number">0</span>, <span class="number">10</span>, <span class="number">0.1</span>)</span><br><span class="line"><span class="variable language_">y</span> = np.<span class="built_in">random</span>.randn(len(<span class="variable language_">x</span>))</span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">l, = plt.plot(<span class="variable language_">x</span>, <span class="variable language_">y</span>)</span><br><span class="line">t = ax.set_title(<span class="string">'random numbers'</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="对比"><a href="#对比" class="headerlink" title="对比"></a>对比</h3><p>从上面的代码来看，pylab模式下的代码最少，pyplot次之，面向对象的代码最多。</p>
<p>正如python之禅所说：”Explicit is better than implicit” ，”Simple is better than complex” 。<br>在简单的交互模式下，pylab或者pyplot是最好的选择，因为他们隐藏了很多复杂性，但是如果我们需要更深一步的控制，<br>面向对象的API此时就会派上用场了，因为OO模式会清晰地告诉我们从哪里来，到哪里去。<br>特别是再将Matplotlib嵌入到GUI的时候更是如此。</p>
<h3 id="Matplotlib的几个对象"><a href="#Matplotlib的几个对象" class="headerlink" title="Matplotlib的几个对象"></a>Matplotlib的几个对象</h3><table>
<thead>
<tr>
<th>对象</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>FigureCanvas</td>
<td>Figure实例的容器类</td>
</tr>
<tr>
<td>Figure</td>
<td>Axes实例的容器</td>
</tr>
<tr>
<td>Axes</td>
<td>基本绘画单元诸如线、文字等的矩形区域</td>
</tr>
</tbody></table>
<h2 id="Subplots"><a href="#Subplots" class="headerlink" title="Subplots"></a>Subplots</h2><p>前面的OO模式的代码，来看看几个概念的解释：</p>
<ul>
<li>fig = plt.figure()：figure函数返回一个Figure对象，我们可以在其上增加Axes实例</li>
<li>ax = fig.add_subplot(121)：add_subplot返回一个Axes实例，我们可以在其上绘制图形</li>
</ul>
<p><code>add_subplot</code>的使用有三个参数：</p>
<figure class="highlight scss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">fig<span class="selector-class">.add_subplot</span>(numrow,numcols,fignum)</span><br></pre></td></tr></tbody></table></figure>

<p>比如下面的代码：</p>
<figure class="highlight gml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding=utf<span class="number">-8</span></span><br><span class="line"></span><br><span class="line"># Author    :   Guo Shaoguang</span><br><span class="line"># Email     :   sgguo@shao.ac.cn</span><br><span class="line"># Institute :   Shanghai Astronomical Observatory</span><br><span class="line"></span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line">import numpy as np</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line"></span><br><span class="line"><span class="variable language_">x</span> = np.arange(<span class="number">0</span>,<span class="number">10</span>,<span class="number">0.1</span>)</span><br><span class="line"><span class="variable language_">y</span> = np.<span class="built_in">random</span>.randn(len(<span class="variable language_">x</span>))</span><br><span class="line">ax1 = fig.add_subplot(<span class="number">121</span>)</span><br><span class="line">#l, = plt.plot(<span class="variable language_">x</span>,<span class="variable language_">y</span>)</span><br><span class="line">#l.set_color(<span class="string">'red'</span>)</span><br><span class="line">ax1.plot(<span class="variable language_">x</span>,<span class="variable language_">y</span>,<span class="string">'rs-'</span>)</span><br><span class="line">ax1.set_title(<span class="string">'Random Numbers 1'</span>)</span><br><span class="line">ax1.set_xlabel(<span class="string">'x'</span>)</span><br><span class="line">ax1.set_ylabel(<span class="string">'y'</span>)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">x</span> = np.arange(<span class="number">0</span>,<span class="number">10</span>,<span class="number">0.1</span>)</span><br><span class="line"><span class="variable language_">y</span> = np.<span class="built_in">random</span>.randn(len(<span class="variable language_">x</span>))</span><br><span class="line">ax2 = fig.add_subplot(<span class="number">122</span>)</span><br><span class="line">ax2.plot(<span class="variable language_">x</span>,<span class="variable language_">y</span>)</span><br><span class="line">ax2.set_title(<span class="string">'Random Numbers 2'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>


<h2 id="多个Figure"><a href="#多个Figure" class="headerlink" title="多个Figure"></a>多个Figure</h2><p>Matplotlib 不仅提供了在一个Figure里面绘制多个Axes的功能，还能绘制多幅Figure。</p>
<figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="attribute">fig1</span> = plt.figure()</span><br><span class="line"><span class="attribute">ax1</span> = fig1.add_subplot(<span class="number">111</span>)</span><br><span class="line"><span class="attribute">ax1</span>.plot([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>],<span class="meta"> [1, 2, 3]);</span></span><br><span class="line"><span class="meta">fig2 = plt.figure()</span></span><br><span class="line"><span class="meta">ax2 = fig2.add_subplot(111)</span></span><br><span class="line"><span class="meta">ax2.plot([1, 2, 3], [3, 2, 1]);</span></span><br><span class="line"><span class="meta">plt.show()</span></span><br></pre></td></tr></tbody></table></figure>




<h2 id="两个坐标轴"><a href="#两个坐标轴" class="headerlink" title="两个坐标轴"></a>两个坐标轴</h2><p>有的时候希望在同一副图像上绘制两个数据集。<br>特别是对同一个X变量，具有不同的Y值。</p>
<p>这里的技巧在于twinx函数，它会创建第二套坐标，并且与第一套坐标重合，来绘制图形。<br>不过要注意的是，因为使用了twinx，所有的设置都会重置，包括线条的颜色也会是蓝色，所以为了区分，需要设置颜色。</p>
<h3 id="源码-18"><a href="#源码-18" class="headerlink" title="源码"></a>源码</h3><figure class="highlight clean"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">#!/usr/bin/env python</span><br><span class="line"># coding=utf<span class="number">-8</span></span><br><span class="line"></span><br><span class="line"># Author    :   Guo Shaoguang</span><br><span class="line"># Email     :   sgguo@shao.ac.cn</span><br><span class="line"># Institute :   Shanghai Astronomical Observatory</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"></span><br><span class="line">x = np.arange(<span class="number">0.1</span>,np.e,<span class="number">0.01</span>)</span><br><span class="line">y1 = np.exp(-x)</span><br><span class="line">y2 = np.log(x)</span><br><span class="line"></span><br><span class="line">fig = plt.figure()</span><br><span class="line">ax1 = fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">ax1.plot(x,y1)</span><br><span class="line">ax1.set_ylabel(<span class="string">'Y values for exp(-x)'</span>)</span><br><span class="line"></span><br><span class="line">ax2 = ax1.twinx()</span><br><span class="line">ax2.plot(x,y2,<span class="string">'r'</span>)</span><br><span class="line">ax2.set_xlim([<span class="number">0</span>,np.e])</span><br><span class="line">ax2.set_ylabel(<span class="string">'Y values for ln(x)'</span>)</span><br><span class="line">ax2.set_xlabel(<span class="string">'Same X for both exp(-x) and ln(x)'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-20"><a href="#效果图-20" class="headerlink" title="效果图"></a>效果图</h3><h2 id="对数坐标轴"><a href="#对数坐标轴" class="headerlink" title="对数坐标轴"></a>对数坐标轴</h2><p>对数坐标轴主要针对有对数关系或者数据增长或缩减比较迅速的数据。</p>
<p>其中semilogx/semilogy一样是将plot与set_xscale/set_yscale合并为一个命令。</p>
<p>而loglog是将x/y全部设置为对数坐标。</p>
<h3 id="源码-19"><a href="#源码-19" class="headerlink" title="源码"></a>源码</h3><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="attribute">import</span> numpy as np</span><br><span class="line"></span><br><span class="line"><span class="attribute">x</span> = np.arange(<span class="number">0</span>.,<span class="number">20</span>,<span class="number">0</span>.<span class="number">01</span>)</span><br><span class="line"></span><br><span class="line"><span class="attribute">fig</span> = plt.figure()</span><br><span class="line"></span><br><span class="line"><span class="attribute">ax1</span> = fig.add_subplot(<span class="number">311</span>)</span><br><span class="line"><span class="attribute">y1</span> = np.exp(-x)</span><br><span class="line"><span class="attribute">ax1</span>.plot(x,y1)</span><br><span class="line"><span class="attribute">ax1</span>.grid(True)</span><br><span class="line"><span class="attribute">ax1</span>.set_yscale('log')</span><br><span class="line"><span class="attribute">ax1</span>.set_ylabel('log y')</span><br><span class="line"></span><br><span class="line"><span class="attribute">ax2</span> = fig.add_subplot(<span class="number">312</span>)</span><br><span class="line"><span class="attribute">y2</span> = np.cos(np.pi*x)</span><br><span class="line"><span class="attribute">ax2</span>.semilogx(x,y2)</span><br><span class="line"><span class="attribute">ax2</span>.set_xlim([<span class="number">0</span>,<span class="number">20</span>])</span><br><span class="line"><span class="attribute">ax2</span>.grid(True)</span><br><span class="line"><span class="attribute">ax2</span>.set_ylabel('Log X')</span><br><span class="line"></span><br><span class="line"><span class="attribute">ax3</span> = fig.add_subplot(<span class="number">313</span>)</span><br><span class="line"><span class="attribute">y3</span> = np.exp(x/<span class="number">4</span>.)</span><br><span class="line"><span class="attribute">ax3</span>.loglog(x,y3,basex=<span class="number">3</span>)</span><br><span class="line"><span class="attribute">ax3</span>.grid(True)</span><br><span class="line"><span class="attribute">ax3</span>.set_ylabel('Log x and y')</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-21"><a href="#效果图-21" class="headerlink" title="效果图"></a>效果图</h3><h2 id="共享坐标轴"><a href="#共享坐标轴" class="headerlink" title="共享坐标轴"></a>共享坐标轴</h2><p>有些情况下，我们希望不同的Figure共享同一个坐标轴，这样在一个坐标改变时会联动其他坐标同时改变。</p>
<p>这对于金融数据、硬件测试、健康状态监测都是很有帮助的。</p>
<h3 id="源码-20"><a href="#源码-20" class="headerlink" title="源码"></a>源码</h3><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="attribute">import</span> numpy as np</span><br><span class="line"></span><br><span class="line"><span class="attribute">x</span> = np.arange(<span class="number">20</span>)</span><br><span class="line"></span><br><span class="line"><span class="attribute">fig</span> = plt.figure()</span><br><span class="line"></span><br><span class="line"><span class="attribute">ax1</span> = fig.add_subplot(<span class="number">311</span>)</span><br><span class="line"><span class="attribute">ax1</span>.plot(x,x)</span><br><span class="line"></span><br><span class="line"><span class="attribute">ax2</span> = fig.add_subplot(<span class="number">312</span>,sharex=ax1)</span><br><span class="line"><span class="attribute">ax2</span>.plot(x*<span class="number">2</span>,x*<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="attribute">ax3</span> = fig.add_subplot(<span class="number">313</span>,sharex=ax1)</span><br><span class="line"><span class="attribute">ax3</span>.plot(x*<span class="number">3</span>,x*<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-22"><a href="#效果图-22" class="headerlink" title="效果图"></a>效果图</h3><h2 id="绘制日期"><a href="#绘制日期" class="headerlink" title="绘制日期"></a>绘制日期</h2><p>使用plot_date绘制坐标轴为日期的图形。<br>下面的linestyle会将各个随机点连接起来，下图有个缺点就是x的日期坐标轴会覆盖。</p>
<h3 id="源码-21"><a href="#源码-21" class="headerlink" title="源码"></a>源码</h3><figure class="highlight haskell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/usr/bin/env python</span></span><br><span class="line"><span class="meta"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="meta"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="meta"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="meta"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib <span class="keyword">as</span> mpl</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> datetime <span class="keyword">as</span> dt</span><br><span class="line"></span><br><span class="line"><span class="title">dates</span> = [dt.datetime.today() + dt.timedelta(days=i) for i <span class="keyword">in</span> range(<span class="number">10</span>)]</span><br><span class="line"></span><br><span class="line"><span class="title">values</span> = np.random.rand(len(dates))</span><br><span class="line"></span><br><span class="line"><span class="title">plt</span>.plot_date(mpl.dates.date2num(dates),values,linestyle=<span class="string">'-'</span>)</span><br><span class="line"></span><br><span class="line"><span class="title">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-23"><a href="#效果图-23" class="headerlink" title="效果图"></a>效果图</h3><h2 id="日期格式化"><a href="#日期格式化" class="headerlink" title="日期格式化"></a>日期格式化</h2><p>date的格式如下所示：</p>
<figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">datetime</span>.datetime(<span class="number">2008</span>, <span class="number">7</span>, <span class="number">18</span>, <span class="number">14</span>, <span class="number">36</span>, <span class="number">53</span>, <span class="number">494013</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>为了能让Matplotlib使用日期，我们需要将其更改为浮点类型。</p>
<p>可以参考下面的函数：</p>
<ul>
<li>date2num</li>
<li>num2date</li>
<li>drange</li>
</ul>
<p>drange比较有用的情况：</p>
<figure class="highlight stylus"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">import matplotlib as mpl</span><br><span class="line">from matplotlib import dates</span><br><span class="line">import datetime as <span class="selector-tag">dt</span></span><br><span class="line">date1 = <span class="selector-tag">dt</span><span class="selector-class">.datetime</span>(<span class="number">2008</span>, <span class="number">9</span>, <span class="number">23</span>)</span><br><span class="line">date2 = <span class="selector-tag">dt</span><span class="selector-class">.datetime</span>(<span class="number">2009</span>, <span class="number">4</span>, <span class="number">12</span>)</span><br><span class="line">delta = <span class="selector-tag">dt</span><span class="selector-class">.timedelta</span>(days=<span class="number">10</span>)</span><br><span class="line">dates = mpl<span class="selector-class">.dates</span><span class="selector-class">.drange</span>(date1, date2, delta)</span><br></pre></td></tr></tbody></table></figure>

<p>前面绘制的图片比较丑，是真丑，x轴坐标完全看不到。</p>
<p>此时我们就需要使用locator和formatter来格式化坐标轴。其中：</p>
<ul>
<li>locator : control the tick’s position</li>
<li>formatter : control the formatting of labels</li>
</ul>
<p>因为matplotlib有默认的设置，所以最好将这些设置放在plot_date函数的后面，<br>以防被其重置为原来的值。</p>
<p>解释：</p>
<ul>
<li>fig.autofmt_xdate() 用于美化调整日期显示格式，会旋转以防文字重叠</li>
<li>subplots_adjust() 用于调整plot的空间，可以使用bottom，top，left和right关键词以及wspace和hspace关键词</li>
</ul>
<h3 id="源码-22"><a href="#源码-22" class="headerlink" title="源码"></a>源码</h3><figure class="highlight apache"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="attribute">import</span> matplotlib as mpl</span><br><span class="line"><span class="attribute">import</span> matplotlib.pyplot as plt</span><br><span class="line"><span class="attribute">import</span> numpy as np</span><br><span class="line"><span class="attribute">import</span> datetime as dt</span><br><span class="line"></span><br><span class="line"><span class="attribute">fig</span> = plt.figure()</span><br><span class="line"></span><br><span class="line"><span class="attribute">ax2</span> = fig.add_subplot(<span class="number">212</span>)</span><br><span class="line"><span class="attribute">date2_1</span> = dt.datetime(<span class="number">2008</span>,<span class="number">9</span>,<span class="number">23</span>)</span><br><span class="line"><span class="attribute">date2_2</span> = dt.datetime(<span class="number">2008</span>,<span class="number">10</span>,<span class="number">3</span>)</span><br><span class="line"><span class="attribute">delta2</span> = dt.timedelta(days=<span class="number">1</span>)</span><br><span class="line"><span class="attribute">dates2</span> = mpl.dates.drange(date2_1,date2_2,delta2)</span><br><span class="line"><span class="attribute">y2</span> = np.random.rand(len(dates2))</span><br><span class="line"><span class="attribute">ax2</span>.plot_date(dates2,y2,linestyle='-')</span><br><span class="line"><span class="attribute">dateFmt</span> = mpl.dates.DateFormatter('%Y-%m-%d')</span><br><span class="line"><span class="attribute">ax2</span>.xaxis.set_major_formatter(dateFmt)</span><br><span class="line"><span class="attribute">daysLoc</span> = mpl.dates.DayLocator()</span><br><span class="line"><span class="attribute">hoursLoc</span> = mpl.dates.HourLocator(interval = <span class="number">6</span>)</span><br><span class="line"><span class="attribute">ax2</span>.xaxis.set_major_locator(daysLoc)</span><br><span class="line"><span class="attribute">ax2</span>.xaxis.set_minor_locator(hoursLoc)</span><br><span class="line"><span class="attribute">fig</span>.autofmt_xdate()</span><br><span class="line"></span><br><span class="line"><span class="attribute">fig</span>.subplots_adjust(left=<span class="number">0</span>.<span class="number">18</span>)</span><br><span class="line"><span class="attribute">ax1</span> = fig.add_subplot(<span class="number">211</span>)</span><br><span class="line"><span class="attribute">date1_1</span> = dt.datetime(<span class="number">2008</span>,<span class="number">9</span>,<span class="number">23</span>)</span><br><span class="line"><span class="attribute">date1_2</span> = dt.datetime(<span class="number">2009</span>,<span class="number">2</span>,<span class="number">16</span>)</span><br><span class="line"><span class="attribute">delta1</span> = dt.timedelta(days=<span class="number">10</span>)</span><br><span class="line"><span class="attribute">dates1</span> = mpl.dates.drange(date1_1,date1_2,delta1)</span><br><span class="line"><span class="attribute">y1</span> = np.random.rand(len(dates1))</span><br><span class="line"><span class="attribute">ax1</span>.plot_date(dates1,y1,linestyle='-')</span><br><span class="line"><span class="attribute">monthsLoc</span> = mpl.dates.MonthLocator()</span><br><span class="line"><span class="attribute">weeksLoc</span> = mpl.dates.WeekdayLocator()</span><br><span class="line"><span class="attribute">ax1</span>.xaxis.set_major_locator(monthsLoc)</span><br><span class="line"><span class="attribute">ax1</span>.xaxis.set_minor_locator(weeksLoc)</span><br><span class="line"><span class="attribute">monthsFmt</span> = mpl.dates.DateFormatter('%b')</span><br><span class="line"><span class="attribute">ax1</span>.xaxis.set_major_formatter(monthsFmt)</span><br><span class="line"></span><br><span class="line"><span class="attribute">plt</span>.show()</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-24"><a href="#效果图-24" class="headerlink" title="效果图"></a>效果图</h3><h1 id="Qt4中潜入Matplotlib"><a href="#Qt4中潜入Matplotlib" class="headerlink" title="Qt4中潜入Matplotlib"></a>Qt4中潜入Matplotlib</h1><p>Qt应该是跨平台做的算是很好的了，一次编辑，多次编译跨平台。</p>
<p>这一章会介绍：</p>
<ul>
<li>把Matplotlib的Figure对象嵌入到Qt的组件中</li>
<li>把Matplotlib的Figure和导航工具栏嵌入到Qt的组件中</li>
<li>使用时间来实时更新Matplotlib</li>
<li>使用Qt Designer来绘制GUI，然后调用程序使用Matplotlib</li>
</ul>
<h2 id="Qt4和PyQt4的简介"><a href="#Qt4和PyQt4的简介" class="headerlink" title="Qt4和PyQt4的简介"></a>Qt4和PyQt4的简介</h2><p>Qt是一个跨平台的开发框架，被广泛用于GUI的开发，最有名的应当是KDE桌面环境了。</p>
<p>其实Qt不仅仅是一个GUI开发工具包，它还包含一系列的网络、线程、Unicode、正则表达式、数据库、OpenGL和XML等库。</p>
<p>Qt是跨平台的，可以用与Unix/Linux，Windows，MacOSX。</p>
<p>尽管Qt是用C++来编写的，也可以通过绑定来使用其他语言，诸如Ruby，Java，Perl和Python。</p>
<p>PyQt绑定Qt2和Qt3，PyQt4绑定的是Qt4。</p>
<p>几个比较重要的Qt模块：</p>
<ul>
<li>QtCore：非GUI类</li>
<li>QtGui：GLI类</li>
<li>QtOpenGL，QtSql，QtSvg，QtText，QtXml，QtNetwork等</li>
</ul>
<h2 id="嵌入一个Matplotlib-Figure到一个Qt窗口"><a href="#嵌入一个Matplotlib-Figure到一个Qt窗口" class="headerlink" title="嵌入一个Matplotlib Figure到一个Qt窗口"></a>嵌入一个Matplotlib Figure到一个Qt窗口</h2><p>几个需要注意的事情：</p>
<ul>
<li>from matplotlib.figure import Figure ：这里的Figure是我们绘图的后端独立单元<br>from matplotlib.backends.backend_qt4agg import FigureCanvasQTAgg as FigureCanvas ：这里的FigureCanvas使我们绘图的画布，并且除了是一个Matplotlib类外，还是一个QWidget类，所以可以直接继承使用。</li>
</ul>
<h3 id="源码-23"><a href="#源码-23" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt4 <span class="keyword">import</span> QtGui</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib.figure <span class="keyword">import</span> Figure</span><br><span class="line"><span class="keyword">from</span> matplotlib.backends.backend_qt4agg <span class="keyword">import</span> FigureCanvasQTAgg <span class="keyword">as</span> FigureCanvas</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Qt4MplCanvas</span>(<span class="title class_ inherited__">FigureCanvas</span>):</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    Class to represent the FigureCanvas widget</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="variable language_">self</span>.fig = Figure()</span><br><span class="line">        <span class="variable language_">self</span>.axes = <span class="variable language_">self</span>.fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">        <span class="variable language_">self</span>.x = np.arange(<span class="number">0.</span>,<span class="number">3.</span>,<span class="number">0.01</span>)</span><br><span class="line">        <span class="variable language_">self</span>.y = np.cos(<span class="number">2</span>*np.pi*<span class="variable language_">self</span>.x)</span><br><span class="line">        <span class="variable language_">self</span>.axes.plot(<span class="variable language_">self</span>.x,<span class="variable language_">self</span>.y)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># initialize the canvas where the Figure renders into</span></span><br><span class="line">        FigureCanvas.__init__(<span class="variable language_">self</span>,<span class="variable language_">self</span>.fig)</span><br><span class="line"></span><br><span class="line">qApp = QtGui.QApplication(sys.argv)</span><br><span class="line">mpl = Qt4MplCanvas()</span><br><span class="line">mpl.show()</span><br><span class="line">sys.exit(qApp.exec_())</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-25"><a href="#效果图-25" class="headerlink" title="效果图"></a>效果图</h3><h2 id="PyQt4中嵌入Figure和导航条"><a href="#PyQt4中嵌入Figure和导航条" class="headerlink" title="PyQt4中嵌入Figure和导航条"></a>PyQt4中嵌入Figure和导航条</h2><h3 id="源码-24"><a href="#源码-24" class="headerlink" title="源码"></a>源码</h3><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/env python</span></span><br><span class="line"><span class="comment"># coding=utf-8</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Author    :   Guo Shaoguang</span></span><br><span class="line"><span class="comment"># Email     :   sgguo@shao.ac.cn</span></span><br><span class="line"><span class="comment"># Institute :   Shanghai Astronomical Observatory</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">from</span> PyQt4 <span class="keyword">import</span> QtGui</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> matplotlib.figure <span class="keyword">import</span> Figure</span><br><span class="line"><span class="keyword">from</span> matplotlib.backends.backend_qt4agg <span class="keyword">import</span> FigureCanvasQTAgg <span class="keyword">as</span> FigureCanvas</span><br><span class="line"><span class="keyword">from</span> matplotlib.backends.backend_qt4agg <span class="keyword">import</span> NavigationToolbar2QT <span class="keyword">as</span> NavigationToolbar</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Qt4MplCanvas</span>(<span class="title class_ inherited__">FigureCanvas</span>):</span><br><span class="line">    <span class="string">'''</span></span><br><span class="line"><span class="string">    Class to represent the FigureCanvas widget</span></span><br><span class="line"><span class="string">    '''</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self,parent</span>):</span><br><span class="line">        <span class="variable language_">self</span>.fig = Figure()</span><br><span class="line">        <span class="variable language_">self</span>.axes = <span class="variable language_">self</span>.fig.add_subplot(<span class="number">111</span>)</span><br><span class="line">        <span class="variable language_">self</span>.x = np.arange(<span class="number">0.</span>,<span class="number">3.</span>,<span class="number">0.01</span>)</span><br><span class="line">        <span class="variable language_">self</span>.y = np.cos(<span class="number">2</span>*np.pi*<span class="variable language_">self</span>.x)</span><br><span class="line">        <span class="variable language_">self</span>.axes.plot(<span class="variable language_">self</span>.x,<span class="variable language_">self</span>.y)</span><br><span class="line"></span><br><span class="line">        <span class="comment"># initialize the canvas where the Figure renders into</span></span><br><span class="line">        FigureCanvas.__init__(<span class="variable language_">self</span>,<span class="variable language_">self</span>.fig)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.setParent(parent)</span><br><span class="line"></span><br><span class="line">        FigureCanvas.setSizePolicy(<span class="variable language_">self</span>,QtGui.QSizePolicy.Expanding,QtGui.QSizePolicy.Expanding)</span><br><span class="line">        FigureCanvas.updateGeometry(<span class="variable language_">self</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ApplicationWindow</span>(QtGui.QMainWindow):</span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self</span>):</span><br><span class="line">        QtGui.QMainWindow.__init__(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.setWindowTitle(<span class="string">"Matplotlib Figure in a Qt4 Window With NavigationToolbar"</span>)</span><br><span class="line">        <span class="variable language_">self</span>.main_widget = QtGui.QWidget(<span class="variable language_">self</span>)</span><br><span class="line">        vbl = QtGui.QVBoxLayout(<span class="variable language_">self</span>.main_widget)</span><br><span class="line">        qmc = Qt4MplCanvas(<span class="variable language_">self</span>.main_widget)</span><br><span class="line">        ntb = NavigationToolbar(qmc,<span class="variable language_">self</span>.main_widget)</span><br><span class="line"></span><br><span class="line">        vbl.addWidget(qmc)</span><br><span class="line">        vbl.addWidget(ntb)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.main_widget.setFocus()</span><br><span class="line">        <span class="variable language_">self</span>.setCentralWidget(<span class="variable language_">self</span>.main_widget)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">qApp = QtGui.QApplication(sys.argv)</span><br><span class="line">aw = ApplicationWindow()</span><br><span class="line">aw.show()</span><br><span class="line">sys.exit(qApp.exec_())</span><br></pre></td></tr></tbody></table></figure>

<h3 id="效果图-26"><a href="#效果图-26" class="headerlink" title="效果图"></a>效果图</h3><hr>
<h2 id="直方图-2"><a href="#直方图-2" class="headerlink" title="直方图"></a>直方图</h2><h3 id="源码-25"><a href="#源码-25" class="headerlink" title="源码"></a>源码</h3><h3 id="效果图-27"><a href="#效果图-27" class="headerlink" title="效果图"></a>效果图</h3>
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/03/31/python-matplotlib-scatter/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/31/python-matplotlib-scatter/" class="post-title-link" itemprop="url">Python matplotlib scatter 的使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-31 23:29:02" itemprop="dateCreated datePublished" datetime="2017-03-31T23:29:02+08:00">2017-03-31</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/Matplotlib/" itemprop="url" rel="index"><span itemprop="name">Matplotlib</span></a>
                </span>
            </span>

          
            <span id="/2017/03/31/python-matplotlib-scatter/" class="post-meta-item leancloud_visitors" data-flag-title="Python matplotlib scatter 的使用" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/03/31/python-matplotlib-scatter/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/03/31/python-matplotlib-scatter/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/03/31/python-matplotlib-scatter/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/31/python-matplotlib-scatter/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="scatter简介"><a href="#scatter简介" class="headerlink" title="scatter简介"></a>scatter简介</h1><h2 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h2><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">scatter(x, y, s=<span class="literal">None</span>, c=<span class="literal">None</span>, marker=<span class="literal">None</span>, cmap=<span class="literal">None</span>, norm=<span class="literal">None</span>, vmin=<span class="literal">None</span>, vmax=<span class="literal">None</span>, alpha=<span class="literal">None</span>, linewidths=<span class="literal">None</span>, verts=<span class="literal">None</span>, edgecolors=<span class="literal">None</span>, hold=<span class="literal">None</span>, data=<span class="literal">None</span>, **kwargs)</span><br></pre></td></tr></tbody></table></figure>

<p>其中各个参数的含义如下:</p>
<figure class="highlight julia"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">x，y： 输入数据</span><br><span class="line"></span><br><span class="line">s：指定散点的大小</span><br><span class="line"></span><br><span class="line">c：指定散点的颜色。</span><br><span class="line"></span><br><span class="line">marker：指定散点的图形样式。应参数支持<span class="string">'.'</span>（点标记）、<span class="string">','</span>（像素标记）、<span class="string">'o'</span>（圆形标记）、<span class="string">'v'</span>（向下三角形标记）、<span class="string">'^'</span>（向上三角形标记）、<span class="string">'&lt;'</span>（向左三角形标记）、<span class="string">'&gt;'</span>（向右三角形标记）、<span class="string">'1'</span>（向下三叉标记）、<span class="string">'2'</span>（向上三叉标记）、<span class="string">'3'</span>（向左三叉标记）、<span class="string">'4'</span>（向右三叉标记）、<span class="string">'s'</span>（正方形标记）、<span class="string">'p'</span>（五地形标记）、<span class="string">'*'</span>（星形标记）、<span class="string">'h'</span>（八边形标记）、<span class="string">'H'</span>（另一种八边形标记）、<span class="string">'+'</span>（加号标记）、<span class="string">'x'</span>（x标记）、<span class="string">'D'</span>（菱形标记）、<span class="string">'d'</span>（尖菱形标记）、<span class="string">'|'</span>（竖线标记）、<span class="string">'_'</span>（横线标记）等值。</span><br><span class="line"></span><br><span class="line">cmap：指定散点的颜色映射，会使用不同的颜色来区分散点的值</span><br><span class="line"></span><br><span class="line">norm：<span class="string">`〜matplotlib.colors.Normalize`</span>，可选，默认：无</span><br><span class="line">       <span class="string">`〜matplotlib.colors.Normalize`</span>实例用于缩放</span><br><span class="line">       亮度数据为<span class="number">0</span>,<span class="number">1</span>。<span class="string">`norm`</span>只有在<span class="string">`c`</span>是一个数组时才被使用</span><br><span class="line">       彩车。如果<span class="string">`None'，则使用默认值：func：`</span>normalize<span class="string">`。</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">vmin，vmax：标量，可选，默认值：无</span></span><br><span class="line"><span class="string">       `</span>vmin<span class="string">`和`</span>vmax<span class="string">`与`</span>norm<span class="string">`结合使用来标准化</span></span><br><span class="line"><span class="string">       亮度数据。如果其中任何一个都是`</span>无'，那么最小和最大的</span><br><span class="line">       使用颜色数组。请注意，如果你通过一个“规范”实例，你的</span><br><span class="line">       <span class="string">`vmin`</span>和<span class="string">`vmax`</span>的设置将被忽略。</span><br><span class="line"></span><br><span class="line">alpha：指定散点的透明度，介于<span class="number">0</span>（透明）和<span class="number">1</span>（不透明）之间，</span><br><span class="line"></span><br><span class="line">linewidths：指定散点边框线的宽度</span><br><span class="line"></span><br><span class="line">verts：（x，y）的序列，可选</span><br><span class="line">       如果<span class="string">`marker`</span>为None，这些顶点将用于</span><br><span class="line">       构建标记。标记的中心位于</span><br><span class="line">       在（<span class="number">0</span>,<span class="number">0</span>）为标准化单位。整体标记重新调整</span><br><span class="line">       由<span class="string">``</span>s<span class="string">``</span>完成。</span><br><span class="line"></span><br><span class="line">edgecolors ：指定散点边框的颜色</span><br></pre></td></tr></tbody></table></figure>


<h2 id="示例图1"><a href="#示例图1" class="headerlink" title="示例图1"></a>示例图1</h2><p>从原点开始逐渐增加点的大小</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">x = [i <span class="keyword">for</span> i <span class="keyword">in</span> np.arange(<span class="number">0</span>,<span class="number">10</span>,<span class="number">1</span>)]</span><br><span class="line">y = [<span class="number">0</span>]*<span class="built_in">len</span>(x)</span><br><span class="line">s = [<span class="number">3</span>**n <span class="keyword">for</span> n <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(x))]</span><br><span class="line">plt.scatter(x,y,s=s)</span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<p><img src="/2017/03/31/python-matplotlib-scatter/images/python-matplotlib-plot_scatter_demo1.png"></p>
<h2 id="示意图2"><a href="#示意图2" class="headerlink" title="示意图2"></a>示意图2</h2><p>展示一个随机散点图</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">np.random.seed(<span class="number">5565</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">N = <span class="number">50</span></span><br><span class="line">x = np.random.rand(N)</span><br><span class="line">y = np.random.rand(N)</span><br><span class="line">colors = np.random.rand(N)</span><br><span class="line">area = (<span class="number">30</span> * np.random.rand(N))**<span class="number">2</span>  <span class="comment"># 0 to 15 point radii</span></span><br><span class="line"></span><br><span class="line">plt.scatter(x, y, s=area, c=colors, alpha=<span class="number">0.5</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<p><img src="/2017/03/31/python-matplotlib-scatter/images/python-matplotlib-plot_scatter_random.png"></p>
<h2 id="示意图3"><a href="#示意图3" class="headerlink" title="示意图3"></a>示意图3</h2><p>画个同心圆</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">6</span>))</span><br><span class="line">plt.scatter(<span class="number">2</span>, <span class="number">1</span>, s=<span class="number">4000</span>, c=<span class="string">'r'</span>)</span><br><span class="line">plt.scatter(<span class="number">2</span>, <span class="number">1</span>, s=<span class="number">1000</span> ,c=<span class="string">'b'</span>)</span><br><span class="line">plt.scatter(<span class="number">2</span>, <span class="number">1</span>, s=<span class="number">10</span>, c=<span class="string">'g'</span>)</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<p><img src="/2017/03/31/python-matplotlib-scatter/images/python-matplotlib-plot_scatter_circle.png"></p>
<h2 id="示意图4"><a href="#示意图4" class="headerlink" title="示意图4"></a>示意图4</h2><p>带标记</p>
<figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">plt.figure(figsize=(<span class="number">8</span>,<span class="number">6</span>))</span><br><span class="line">x_coords = [<span class="number">0.13</span>, <span class="number">0.22</span>, <span class="number">0.39</span>, <span class="number">0.59</span>, <span class="number">0.68</span>, <span class="number">0.74</span>,<span class="number">0.93</span>]</span><br><span class="line">y_coords = [<span class="number">0.75</span>, <span class="number">0.34</span>, <span class="number">0.44</span>, <span class="number">0.52</span>, <span class="number">0.80</span>, <span class="number">0.25</span>,<span class="number">0.55</span>]</span><br><span class="line"></span><br><span class="line">plt.scatter(x_coords, y_coords, marker = <span class="string">'s'</span>, s = <span class="number">50</span>)</span><br><span class="line"><span class="keyword">for</span> x, y <span class="keyword">in</span> <span class="built_in">zip</span>(x_coords, y_coords):</span><br><span class="line">    plt.annotate(<span class="string">'(%s,%s)'</span>%(x,y), xy=(x,y),xytext = (<span class="number">0</span>, -<span class="number">10</span>), textcoords = <span class="string">'offset points'</span>,ha = <span class="string">'center'</span>, va = <span class="string">'top'</span>)</span><br><span class="line">plt.xlim([<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line">plt.ylim([<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">plt.show()</span><br></pre></td></tr></tbody></table></figure>

<p><img src="/2017/03/31/python-matplotlib-scatter/images/python-matplotlib-plot_scatter_label.png"></p>
<h2 id="其他示意图"><a href="#其他示意图" class="headerlink" title="其他示意图"></a>其他示意图</h2><p>标记的示意图</p>
<p><img src="/2017/03/31/python-matplotlib-scatter/images/python-matplotlib-plot_scatter_markers.png"></p>
<p>两个分类的示意图</p>
<p><img src="/2017/03/31/python-matplotlib-scatter/images/python-matplotlib-plot_scatter_classfication_line.png"><br><img src="/2017/03/31/python-matplotlib-scatter/images/python-matplotlib-plot_scatter_classfication_curve.png"></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/03/23/linux-command-line-arg-max/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/23/linux-command-line-arg-max/" class="post-title-link" itemprop="url">Linux ARG_MAX, maximum length of arguments for a new process</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-23 22:11:00" itemprop="dateCreated datePublished" datetime="2017-03-23T22:11:00+08:00">2017-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2017/03/23/linux-command-line-arg-max/" class="post-meta-item leancloud_visitors" data-flag-title="Linux ARG_MAX, maximum length of arguments for a new process" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/03/23/linux-command-line-arg-max/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/03/23/linux-command-line-arg-max/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/03/23/linux-command-line-arg-max/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/23/linux-command-line-arg-max/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <blockquote>
<p><a href="https://www.in-ulm.de/~mascheck/various/argmax/">https://www.in-ulm.de/~mascheck/various/argmax/</a></p>
</blockquote>
<p>ARG_MAX, maximum length of arguments for a new process<br>or why do you get<br>command: arg list too long<br>2002-06-06 .. 2016-09-07 (see recent changes)</p>
<p>Here you’ll find</p>
<p>More about the nature of this limit<br>The effectively usable space …and a way to determine it reliably<br>…alternatively: about the GNU autoconf check<br>How to avoid the limit in a shell<br>other limits: number of arguments and maximum length of one argument<br>Actual values for ARG_MAX (with some more details in the footnotes)<br>More pages<br>More about the nature of this limit<br>You will see this error message, if you try to call a program with too many arguments, that is,<br>most likely in connection with pattern matching:</p>
<pre><code>$ command *
</code></pre>
<p>On some systems the limit is even hit with “grep pattern /usr/include/<em>/</em>“ (apart from that using find would be more appropriate).</p>
<p>It’s only the exec() system call and its direct variants, which will yield this error.<br>They return the corresponding error condition E2BIG (&lt;sys/errno.h&gt;).<br>The shell is not to blame, it just delivers this error to you.<br>In fact, shell expansion is not a problem, because here exec() is not needed, yet.<br>Expansion is only limited by the virtual memory system resources [1].</p>
<p>Thus the following commands work smoothly, because instead of handing over too many arguments to a new process,<br>they only make use of a shell built-in (echo) or iterate over the arguments with a control structure (for loop):</p>
<pre><code>/dir-with-many-files$ echo * | wc -c
/dir-with-many-files$ for i in * ; do grep ARG_MAX "$i"; done
</code></pre>
<p>There are different ways to learn the upper limit</p>
<p>command: getconf ARG_MAX [2]<br>system call: sysconf(_SC_ARG_MAX) [3]<br>system header: ARG_MAX in e.g. &lt;[sys/]limits.h&gt; [4]<br>try xargs –show-limits[5], if you use GNU xargs<br>(However, on the few system that have no limit for ARG_MAX, these methods wrongly might print a limit.)</p>
<p>From Version 7 on the limit was defined by NCARGS (usually in &lt;[sys/]params.h&gt;),<br>Later, ARG_MAX was introduced with 4.4BSD and System V.</p>
<p>In contrast to the headers, sysconf and getconf tell the limit which is actually in effect.<br>This is relevant on systems which allow to change it at run time (AIX), by reconfiguration (UnixWare, IRIX),<br>by recompiling (e.g. Linux) or by applying patches (HP-UX 10) - see the end notes for more details.<br>(Usually these are solutions for special requirements only, because increasing the limit doesn’t solve the problem.)</p>
<pre><code>[1]	However, in contrast to such expansions (which includes the literal overall command line length in scripts),
</code></pre>
<p>shells do have a limit for the interactive command line length (that is, what you may type in after the prompt).<br>But this limit is shell specific and not related to ARG_MAX.<br>Interestingly, putenv(3) is only limited by system resources, too. You just can’t exec() anmymore if you are over the limit.<br>    [2]	4.4BSD BSD and the successors ( NetBSD since 1.0, OpenBSD 2.0, FreeBSD 2.0 ) provide: sysctl kern.argmax.<br>getconf in turn was introduced on BSDs with these versions: NetBSD 1.0, OpenBSD 2.0, FreeBSD 4.8.<br>    [3]	example usage of sysconf():<br>#include &lt;stdio.h&gt;<br>#include &lt;unistd.h&gt;<br>int main() {<br>    return printf(“ARG_MAX: %ld\n”, sysconf(_SC_ARG_MAX));<br>}<br>    [4]	A handy way to find the limits in your headers, if you have cpp(1) installed, which doesn’t abort on file not found,<br>(inspired by Era Eriksson’s page about ARG_MAX):</p>
<p>cpp &lt;&lt;EOF<br>#include &lt;limits.h&gt;<br>#include &lt;param.h&gt;<br>#include &lt;params.h&gt;<br>#include &lt;sys/limits.h&gt;<br>#include &lt;sys/param.h&gt;<br>#include &lt;sys/params.h&gt;<br>arg_max: ARG_MAX<br>ncargs: NCARGS<br>EOF<br>If your cpp doesn’t like non-existent files, you might try</p>
<p>for file in limits.h param.h params.h sys/limits.h sys/param.h sys/params.h linux/limits.h linux/limits.h linux/param.h; do<br>cpp &lt;&lt;EOF 2&gt;&amp;1<br>#include &lt;$file&gt;<br>arg_max: ARG_MAX<br>ncargs: NCARGS<br>EOF<br>done|egrep ‘arg_max|ncargs’ |egrep -v ‘ARG_MAX|NCARGS’</p>
<pre><code>[5]	$ xargs --show-limits
</code></pre>
<p>environment variables take up 533 bytes<br>POSIX upper limit on argument length (this system): 2094571<br>POSIX smallest allowable upper limit on argument length (all systems): 4096<br>Maximum length of command we could actually use: 2094038<br>Size of command buffer we are actually using: 131072<br>The effectively usable space<br>When looking at ARG_MAX/NCARGS, you have to consider the space comsumption by both argv[] and envp[] (arguments and environment).<br>Thus you have to decrease ARG_MAX at least by the results of “env|wc -c” and “env|wc -l * 4” [5] for a good estimation of the currently available space.</p>
<pre><code>[5]	 Every entry in envp is terminated with a null byte. The env utility adds a terminating newline instead, so the result of "wc -c" is the same.
</code></pre>
<p>“wc -l” in turn accounts for the number of pointers in envp, i.e., usually 4 bytes each, according to sizeof().<br>Some modern shells allow for exporting functions to the environment. The above slightly miscalculates then,<br>because their definitions tend to contain newlines which are misinterpreted as new envp[].<br>The same applies if variable values contain newlines.<br>You can make wc -l ignore the wrappings and limit it to lines with = at the right place:<br>expr <code>getconf ARG_MAX</code> - <code>env|wc -c</code> - <code>env|egrep '^[^ ]+='|wc -l</code> * 4<br>(thanks to Michael Klement for pointing out the function issue and improving the calculation)</p>
<p>POSIX suggests to subtract 2048 additionally so that the process may savely modify its environment. A quick estimation with the getconf command:<br>(all the calculations inspired by a post from Gunnar Ritter in de.comp.os.unix.shell, <a href="mailto:3B70A6AD.3L8115910@bigfoot.de">3B70A6AD.3L8115910@bigfoot.de</a>)</p>
<p> expr <code>getconf ARG_MAX</code> - <code>env|wc -c</code> - <code>env|wc -l</code> * 4 - 2048<br>        or, if you even want to consider wrapped functions or variable values [5],<br>expr <code>getconf ARG_MAX</code> - <code>env|wc -c</code> - <code>env|egrep '^[^ ]+='|wc -l</code> * 4 - 2048,<br>…and a way to determine it reliably<br>The most reliable way to get the currently available space is to test the success of an exec() with increasing length of arguments until it fails.<br>This might be expensive, but at least you need to check only once, the length of envp[] is considered automatically, and the result is reliable.<br>…alternatively: about the GNU autoconf check<br>There’s an autoconf check “Checking for maximum length of command line arguments…”. It works quite similar.<br>However, it results in a much lower value (it can be a fourth of the actual value only) both by intention and for reasons of simplicity:<br>In a loop with increasing n, the check tries an exec() with an argument length of 2n (but won’t check for n higher than 16, that is 512kB).<br>The maximum is ARG_MAX/2 if ARG_MAX is a power of 2.<br>Finally, the found value is divided by 2 (for safety), with the reason “C++ compilers can tack on massive amounts of additional arguments”.</p>
<p>How to avoid the limit in a shell<br>If command * fails, then you can<br>iterate with the shell:<br>for i in *; do command “$i”; done     (simple, completely robust and portable, may be very slow)<br>printf ‘%s\0’ *|xargs -0 command     (works only if printf is a built-in, but then it can be much faster on high counts. thanks to Michael Klement)<br>iterate with find<br>find . -exec command {} ;     (simple, completely robust and portable, may be very slow)<br>find . -exec command {} +       (optimizes speed, quite portable)<br>find . -print0|xargs -0 command      (optimizes speed, if find doesn’t implement “-exec +” but knows “-print0”)<br>find . -print|xargs command     (if there’s no white space in the arguments)</p>
<p>Note: find descends into directories. To avoid that portably, you can use<br>“find . ! -name . -prune […]”<br>If the major part of the arguments consists of long, absolute or relative paths, then try to move your actions into the directory:<br>cd /directory/with/long/path; command *<br>And another quick fix may be to match fewer arguments:<br>command [a-e]<em>; command [f-m]</em>; …<br>Number of arguments and maximum length of one argument<br>At least on Linux 2.6, there’s also a limit on the maximum number of arguments in argv[].<br>On Linux 2.6.14 the function do_execve() in fs/exec.c tests if the number exceeds<br>  PAGE_SIZE*MAX_ARG_PAGES-sizeof(void *) / sizeof(void *)<br>On a 32-bit Linux, this is ARGMAX/4-1 (32767). This becomes relevant if the average length of arguments is smaller than 4.<br>Since Linux 2.6.23, this function tests if the number exceeds MAX_ARG_STRINGS in &lt;linux/binfmts.h&gt; (2^32-1 = 4294967296-1).</p>
<p>And as additional limit since 2.6.23, one argument must not be longer than MAX_ARG_STRLEN (131072).<br>This might become relevant if you generate a long call like “sh -c ‘automatically generated with many arguments’”.<br>(pointed out by Xan Lopez and Ralf Wildenhues)</p>
<p>Actual values for ARG_MAX (or NCARGS)<br>The maximum length of arguments for a new process is varying so much among unix flavours, that I had a look at some systems:</p>
<p>System	value	getconf<br>available	default value determined by<br>non-competitive: 1st edition (V1)	255+? [1stEd]		experiments<br>non-competitive: V4, V5 and V6	512		documentation of exec(2) in V4, V6 and (no manual) sys1.c in V5<br>Version 7,<br>3 BSD,<br>System III, SVR1,<br>Ultrix 3.1	5120		NCARGS in &lt;sys/param.h&gt;<br>4.0/4.1/4.2 BSD	10240		NCARGS in &lt;sys/param.h&gt;<br>4.3 BSD / and -Tahoe	20480		NCARGS in &lt;sys/syslimits.h&gt;<br>4.3BSD-Reno, 4.3BS-Net2<br>4.4 BSD (alpha/lite/encumbered),<br>386BSD*, NetBSD 0.9,<br>BSD/OS 2.0	20480		ARG_MAX in &lt;sys/syslimits.h&gt; (NCARGS in &lt;sys/param.h&gt;)<br>POSIX/SUSv2,v3,v4 [posix]	4096 (minimum)	+	minimum _POSIX_ARG_MAX in &lt;limits.h&gt; , ARG_MAX<br>AIX 3.x, 4.x, 5.1[aix5]	24576	+	ARG_MAX in &lt;sys/limits.h&gt; (NCARGS in &lt;sys/param.h&gt;)<br>AIX 6.1, 7.2	1048576	+	online documentation (FilesReference/HeaderFiles) 6.1, 7.2 (ARG_MAX in &lt;limits.h&gt;)<br>BSD/OS 4.1,<br>NetBSD 1.0+x,<br>OpenBSD x:	262144	+	ARG_MAX(/NCARGS) in &lt;sys/syslimits.h&gt;<br>Cygwin 1.7.7 (win 5.1) [cygwin]	30000		ARG_MAX in &lt;limits.h&gt;<br>Dynix 3.2	12288		ARG_MAX in &lt;(sys/)limits.h&gt; (NCARGS in &lt;sys/param.h&gt;)<br>EP/IX 2.2.1AA:	20480		ARG_MAX in &lt;sys/limits.h&gt;<br>FreeBSD 2.0-5.5	65536	+	ARG_MAX(/NCARGS) in &lt;sys/syslimits.h&gt; [freebsd]<br>FreeBSD 6.0 (PowerPC 6.2, ARM 6.3)	262144	+	ARG_MAX(/NCARGS) in &lt;sys/syslimits.h&gt; [freebsd]<br>GNU Hurd 0.3 Mach 1.3.99	unlimited [hurd]<br>(stack size?)	+	<br>Haiku OS (2008-05-14) [haiku]	131072	?	MAX_PROCESS_ARGS_SIZE in &lt;system/user_runtime.h&gt;<br>HP-UX 8(.07), 9, 10	20478	+	ARG_MAX in &lt;limits.h&gt;<br>HP-UX 11.00	2048000 [hpux]	+	ARG_MAX in &lt;limits.h&gt;<br>Interix 3.5	1048576	+	-<br>IRIX 4.0.5	10240		NCARGS in &lt;sys/param.h&gt; (fallback: ARG_MAX in &lt;limits.h&gt;: 5120)<br>IRIX 5.x, 6.x	20480 [irix]	+	(fallback: ARG_MAX in &lt;limits.h&gt;: 5120)<br>Linux -2.6.22	131072	+	ARG_MAX in &lt;linux/limits.h&gt; [linux-pre-2.6.23]<br>Linux 2.6.23	(1/4th of stack size)	+	kernel code [linux-2.6.23]<br>MacOS X 10.6.2 (xnu 1486.2.11)	262144	+	ARG_MAX(/NCARGS) in &lt;sys/syslimits.h&gt;<br>MUNIX 3.2	10240	?	ARG_MAX in &lt;sys/syslimits.h&gt;<br>Minix 3.1.1	16384		ARG_MAX in &lt;limits.h&gt;<br>OSF1/V4, V5	38912	+	ARG_MAX in &lt;sys/syslimits.h&gt;<br>SCO UNIX SysV R3.2 V4.0/4.2<br>SCO Open Desktop R2.0/3.0	5120	?	online documentation<br>SCO OpenServer 5.0.x [osr5]	1048576	+	(fallback: ARG_MAX in &lt;limits.h&gt;: 5120)<br>UnixWare 7.1.4,<br>OpenUnix 8	32768 [uw/osr6]	+	(fallback ARG_MAX in &lt;limits.h&gt;: 10240)<br>SCO OpenServer 6.0.0	32768 [uw/osr6]	+	(fallback: ARG_MAX in &lt;limits.h&gt;: 10240)<br>SINIX V5.2	10240	?	ARG_MAX in &lt;limits.h&gt;<br>SunOS 3.x	10240	?	ARG_MAX in &lt;sys/param.h&gt;<br>SunOS 4.1.4	1048576		NCARGS in &lt;sys/param.h&gt; , sysconf(_SC_ARG_MAX)<br>SunOS 5.x (32bit process)	1048320 [sunos5]	+	ARG_MAX in &lt;limits.h&gt; (NCARGS in &lt;sys/param.h&gt;)<br>SunOS 5.7+ (64bit process)	2096640 [sunos5]	+	ARG_MAX in &lt;limits.h&gt; (NCARGS in &lt;sys/param.h&gt;)<br>SVR4.0 v2.1 (386)	5120		? (no ARG_MAX/NCARGS in in &lt;limits.h&gt;/&lt;sys/param.h&gt;)<br>Ultrix 4.3 (vax / mips)	10240 / 20480		NCARGS in &lt;sys/param.h&gt;<br>Unicos 9,<br>Unicos/mk 2	49999	+	ARG_MAX in &lt;sys/param.h&gt;<br>UnixWare 7: see OpenServer 6<br>UWIN 4.3 AT&amp;T Unix Services for Windows	32768	+	ARG_MAX in &lt;limits.h&gt;<br>[posix]	See the online documentation (please register for access) for getconf and &lt;limits.h&gt;.<br>[osr5]	Bela Lubkin points out:<br>The limit on SCO OpenServer 5.0.x is set by ‘unsigned int maxexecargs = 1024*1024;’<br>in /etc/conf/pack.d/kernel/space.c. It can also be changed on a live system with the <code>scodb</code> kernel debugger:</p>
<h1 id="scodb-w"><a href="#scodb-w" class="headerlink" title="scodb -w"></a>scodb -w</h1><p>   scodb&gt; maxexecargs=1000000<br>   scodb&gt; q<br>(0x1000000 = 16MiB.) This is the max size of a new temporary allocation during each exec(), so it’s safe to change on the fly.</p>
<p>Exceeding the limit generates a kernel warning:</p>
<p>   WARNING: table_grow - exec data table page limit of 256 pages (MAXEXECARGS) exceeded by 1 pages<br>   WARNING: Reached MAXEXECARGS limit while adding arguments for executable “ls”<br>Some <code>configure</code> scripts trigger this message as they deliberately probe the limit.<br>Raising `maxexecargs’ will not fix this as the probe will simply try harder.</p>
<p>[uw/osr6]	The limit on UnixWare can be increased by changing the kernel parameter ARG_MAX with /etc/conf/bin/idtune,<br>(probably in the range up to 1MB) regenerating the kernel with “etc/conf/bin/idbuild -B” and rebooting.<br>See also the online documentation.<br>On UnixWare 7.1.4, the run time limit for a default install of “Business Edition” is 32768.</p>
<p>Bela Lubkin points out, that, very basically, OpenServer 6 can be described as a UnixWare 714 kernel with the OpenServer 5.0.7 userland running on top of it.</p>
<p>[irix]	The limit on IRIX can be changed by changing the kernel parameter ncargs with systune<br>(in the range defined in /var/sysgen/mtune/kernel, probably varying from 64KB to 256KB),<br>regenerating the kernel with “autoconfig” and rebooting. See also the online documentation of systune(1M) and intro(2).<br>[aix5]	The limit on AIX 5.1 can be changed at run time with “chdev -l sys0 -a ncargs=value”, in the range from 6<em>4KB to 1024</em>4KB.<br>See also the online documentation for chdev (AIX documentation, Commands reference).<br>[freebsd]	Interesting and everything but academic was the reason for the first of two increases (40960, 65536) on FreeBSD:<br>    “Increase ARG_MAX so that `make clean’ in src/lib/libc works again.<br>    (Adding YP pushed it over the limit.)”<br>quoted from <a href="http://www.freebsd.org/cgi/cvsweb.cgi/src/sys/sys/syslimits.h">http://www.FreeBSD.org/cgi/cvsweb.cgi/src/sys/sys/syslimits.h</a><br>[linux-pre-2.6.23]	On Linux, the maximum almost always has been PAGE_SIZE<em>MAX_ARG_PAGES (4096</em>32) minus 4.<br>However, in Linux-0.0.1, ARG_MAX was not known yet, E2BIG not used yet and exec() returned -1 instead.<br>With linux-0.10 it returned ENOMEM and with Linux-0.99.8 it returned E2BIG.<br>ARG_MAX was introduced with linux-0.96, but it’s not used in the kernel code itself.<br>See do_execve() in fs/exec.c on <a href="http://www.oldlinux.org/Linux.old/">http://www.oldlinux.org/Linux.old/</a>.<br>If you want to increase the limit, you might succeed by carefully increasing MAX_ARG_PAGES (link to a discussion on the linux kernel mailing list 03/‘00)</p>
<p>[linux-2.6.23]	With Linux 2.6.23, ARG_MAX is not hardcoded anymore. See the git entry.<br>It is limited to a 1/4-th of the stack size (ulimit -s), which ensures that the program still can run at all.<br>See also the git diff of fs/exec.c<br>getconf ARG_MAX might still report the former limit (being careful about applications or glibc not catching up, but especially because the kernel &lt;limits.h&gt; still defines it)</p>
<p>[sunos5]	On SunOS 5.5, according to &lt;limits.h&gt;, ARG_MAX is 1M, decreased by the following amount:<br>  “((sizeof(struct arg_hunk <em>))</em>(0x10000/(sizeof)(struct arg_hunk)))<br>   space for other stuff on initial stack like aux vectors, saved<br>   registers, etc..”<br>On SunOS 5.9 this reads<br>  “ARG_MAX is calculated as follows:<br>   NCARGS - space for other stuff on initial stack<br>   like aux vectors, saved registers, etc..”<br>and &lt;sys/param.h&gt; defines NCARGS32/64 to 0x100000/0x200000 with NCARGS being substited at compile time.<br>ARG_MAX is not calculated in the header files but is set directly in &lt;limits.h&gt;, also substitued at compile time from _ARG_MAX32/64.<br>SunOS 5.7 is the first release to support 64bit processes.</p>
<p>[hpux]	HP-UX 11 can also run programs compiled on HP-UX 10. Programs which have ARG_MAX compiled in as buffer length<br>and copy from argv[]/envp[] without boundary checking might crash due to the increased ARG_MAX.<br>See devresource.hp.com<br>[hurd]	NCARGS in contrast is arbitrarily set to INT_MAX (2147483647) in &lt;i386-gnu/sys/param.h&gt;<br>The reason: “ARG_MAX is unlimited, but we define NCARGS for BSD programs that want to compare against some fixed limit.”<br>I don’t know yet, if there are other limits like the stack.<br>[cygwin]	ARG_MAX 32000 was added to &lt;limits.h&gt; on 2006-11-07. It’s a conservative value, having in mind the windows limit of 32k.<br>However, the cygwin internal limit, that is, if you don’t call non-cygwin binaries, is much higher.<br>[haiku]	“Haiku is an open-source operating system […] inspired by the BeOS” (<a href="http://www.haiku-os.org/">www.haiku-os.org</a>). Thanks to Sylvain Kerjean for this pointer!<br>Note that there is also &lt;posix/limits.h&gt; with ARG_MAX / _POSIX_ARG_MAX for sysconf(), with more a more conservative value of 32768.<br>[1stEd]	By judging from experiments in the simh emulator with 1st edition kernel and 2nd edition shell, the results are somewhat undefined.<br>If the length or number of arguments (there is no environment yet) is too high, data corruption may occur, including a kernel crash.<br>The following may or may not indicate the nature of limits:<br>From the BUGS section in the 3rd edition exec(2) manual:<br>Very high core and very low core are used by exec to construct the argument list for the new core image.<br>If the original copies of the arguments reside in these places, problems can result.<br>and a related information about the placement of the arguments<br>(which is also available in 1st ed manual) reads equivalent:<br>1st edition: The arguments are placed as high as possible incore: just below 60000(8).<br>3rd edition: The arguments are placed as high as possible in core: just below 57000(8).</p>
<p>By calling a script which just echoes its arguments (“sh s arguments”), I found:</p>
<ul>
<li>command line (script or interactive) not longer than 255 characters</li>
<li>single argument not longer than 82 characters<br>As there is no working compiler (B) on that system, I haven’t digged further.</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/03/23/microsoft-visual-studio-code/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/23/microsoft-visual-studio-code/" class="post-title-link" itemprop="url">Microsoft Visual Studio Code技巧</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-23 22:11:00" itemprop="dateCreated datePublished" datetime="2017-03-23T22:11:00+08:00">2017-03-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Microsoft/" itemprop="url" rel="index"><span itemprop="name">Microsoft</span></a>
                </span>
            </span>

          
            <span id="/2017/03/23/microsoft-visual-studio-code/" class="post-meta-item leancloud_visitors" data-flag-title="Microsoft Visual Studio Code技巧" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/03/23/microsoft-visual-studio-code/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/03/23/microsoft-visual-studio-code/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/03/23/microsoft-visual-studio-code/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/23/microsoft-visual-studio-code/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Visual-Studio-Code"><a href="#Visual-Studio-Code" class="headerlink" title="Visual Studio Code"></a>Visual Studio Code</h1><h2 id="Extensions"><a href="#Extensions" class="headerlink" title="Extensions"></a>Extensions</h2><ul>
<li>C/C++</li>
<li>Chinese ( Simplified) Language Pack for Visual Studio Code</li>
<li>Doxygen Documentation Generator</li>
<li>Markdown All in One</li>
<li>Python</li>
<li>TODO Highlight</li>
<li>Vim</li>
<li>Wakatime</li>
<li>YAML Support by Red Hat</li>
<li>vscode-icons</li>
<li>autoconf</li>
<li>LaTex Workshop</li>
</ul>
<h1 id="添加-Visual-Studio-Code-命令行到-Mac-OS-X-环境变量"><a href="#添加-Visual-Studio-Code-命令行到-Mac-OS-X-环境变量" class="headerlink" title="添加 Visual Studio Code 命令行到 Mac OS X 环境变量"></a>添加 Visual Studio Code 命令行到 Mac OS X 环境变量</h1><p>在环境变量中加入下面一行，或者bashrc亦或者zsh，然后就可以在终端输入<code>code</code>来启动了。</p>
<figure class="highlight excel"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">code</span> () { VSCODE_CWD=<span class="string">"$PWD"</span> open -<span class="built_in">n</span> -b <span class="string">"com.microsoft.VSCode"</span> --args $* ;}</span><br></pre></td></tr></tbody></table></figure>

<h1 id="增加xelatex用于编译中文文章"><a href="#增加xelatex用于编译中文文章" class="headerlink" title="增加xelatex用于编译中文文章"></a>增加xelatex用于编译中文文章</h1><p>只需要在tex文件的最前面，加上<code>% !TEX program = xelatex</code>，在编译的时候就会直接调用xelatex。</p>
<figure class="highlight latex"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">% !TEX program = xelatex</span></span><br><span class="line"><span class="keyword">\documentclass</span>{article}</span><br><span class="line"></span><br><span class="line"><span class="keyword">\author</span>{Hello}</span><br><span class="line"><span class="keyword">\title</span>{Test of xelatex in VSCode}</span><br><span class="line"></span><br><span class="line"><span class="keyword">\begin</span>{document}</span><br><span class="line"><span class="keyword">\maketitle</span></span><br><span class="line"></span><br><span class="line">你好，世界！</span><br><span class="line"></span><br><span class="line"><span class="keyword">\end</span>{document}</span><br></pre></td></tr></tbody></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/03/22/linux-opencl/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/22/linux-opencl/" class="post-title-link" itemprop="url">OpenCL</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-22 20:51:30" itemprop="dateCreated datePublished" datetime="2017-03-22T20:51:30+08:00">2017-03-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/API/" itemprop="url" rel="index"><span itemprop="name">API</span></a>
                </span>
            </span>

          
            <span id="/2017/03/22/linux-opencl/" class="post-meta-item leancloud_visitors" data-flag-title="OpenCL" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/03/22/linux-opencl/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/03/22/linux-opencl/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/03/22/linux-opencl/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/22/linux-opencl/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="OpenCL"><a href="#OpenCL" class="headerlink" title="OpenCL"></a>OpenCL</h1><p>OpenCL (Open Computing Language，开放计算语言) 是一个为异构平台编写程序的框架，此异构平台可由CPU，<a href="://zh.wikipedia.org/wiki/GPU">GPU</a>或其他类型的处理器组成。OpenCL由一门用于编写kernels （在OpenCL设备上运行的函数）的语言（基于[C99]）和一组用于定义并控制平台的API组成。OpenCL提供了基于任务分区和数据分区的并行计算机制。OpenCL类似于另外两个开放的工业标准OpenGL(跨平台图形API)和OpenAL(跨平台音效API)，这两个标准分别用于三维图形和计算机音频方面。OpenCL扩充了GPU图形生成之外的能力。OpenCL由非盈利性技术组织Khronos Group掌管。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/03/22/linux-opencv/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/03/22/linux-opencv/" class="post-title-link" itemprop="url">OpenCV</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-03-22 20:51:30" itemprop="dateCreated datePublished" datetime="2017-03-22T20:51:30+08:00">2017-03-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/API/" itemprop="url" rel="index"><span itemprop="name">API</span></a>
                </span>
            </span>

          
            <span id="/2017/03/22/linux-opencv/" class="post-meta-item leancloud_visitors" data-flag-title="OpenCV" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/03/22/linux-opencv/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/03/22/linux-opencv/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/03/22/linux-opencv/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/03/22/linux-opencv/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="OpenCV"><a href="#OpenCV" class="headerlink" title="OpenCV"></a>OpenCV</h1><p>OpenCV的全称是Open Source Computer Vision Library，是一个跨平台的计算机视觉库(主要操作对象是图像)。OpenCV是由英特尔公司发起并参与开发，以BSD许可证授权发行，可以在商业和研究领域中免费使用。OpenCV可用于开发实时的图像处理、计算机视觉以及模式识别程序。该程序库也可以使用英特尔公司的IPP进行加速处理。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/01/24/linux-scp-beginner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/01/24/linux-scp-beginner/" class="post-title-link" itemprop="url">Linux 的 scp 命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-01-24 22:11:00" itemprop="dateCreated datePublished" datetime="2017-01-24T22:11:00+08:00">2017-01-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2017/01/24/linux-scp-beginner/" class="post-meta-item leancloud_visitors" data-flag-title="Linux 的 scp 命令" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/01/24/linux-scp-beginner/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/24/linux-scp-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/01/24/linux-scp-beginner/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/01/24/linux-scp-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Linux-scp命令"><a href="#Linux-scp命令" class="headerlink" title="Linux scp命令"></a>Linux scp命令</h1><p>linux <code>scp</code>命令主要用于远程复制传输文件。</p>
<p>官方定义为：</p>
<blockquote>
<p>scp — secure copy (remote file copy program)</p>
</blockquote>
<p>是安全拷贝的缩写，主要是因为<code>scp</code>使用了<code>ssh</code>的安全机制。</p>
<p><code>scp</code>应该是接触<strong>Linux</strong>的第一个用于在2台以上的服务器上做数据传输的不二命选，当然，<code>ftp</code>除外了。</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p>语法看着挺复杂：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp [-12346BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file] [-l <span class="built_in">limit</span>] [-o ssh_option] [-P port] [-S program] [[user@]host1:]file1 ... [[user@]host2:]file2</span><br></pre></td></tr></tbody></table></figure>

<p>其实简化下来就是：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp [options] file_source file_target </span><br></pre></td></tr></tbody></table></figure>

<p>差不多有20个参数，不过常用的有如下几个：</p>
<ul>
<li>-p：保留原文件的修改时间，访问时间和访问权限。</li>
<li>-r： 递归复制整个目录。</li>
<li>-v：详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。</li>
</ul>
<h2 id="无参数传输"><a href="#无参数传输" class="headerlink" title="无参数传输"></a>无参数传输</h2><p>默认情况下，传输一个文件不需要任何参数：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ scp src_file user@192.168.100.123:~/dest_file</span><br><span class="line">user@192.168.100.123<span class="string">'s password:</span></span><br><span class="line"><span class="string">src_file                     100%   44  20.0KB/s   00:00</span></span><br></pre></td></tr></tbody></table></figure>

<p>命令执行后，会提示输入远程机器的密码，后面会显示传输成功的文件。</p>
<h2 id="目录传输"><a href="#目录传输" class="headerlink" title="目录传输"></a>目录传输</h2><p>而传输一个目录不加任何参数的话，会报错如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ scp src_dir user@192.168.100.123:~/dest_dir</span><br><span class="line">user@192.168.100.123<span class="string">'s password:</span></span><br><span class="line"><span class="string">src_dir: not a regular file</span></span><br></pre></td></tr></tbody></table></figure>

<p>提示要传输的不是常规的文件，需要加上参数<code>-r</code>递归传输如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ scp src_dir user@192.168.100.123:~/dest_dir</span><br><span class="line">user@192.168.100.123<span class="string">'s password:</span></span><br><span class="line"><span class="string">a        100%   75    35.1KB/s   00:00    </span></span><br><span class="line"><span class="string">b        100%   48KB  14.7MB/s   00:00    </span></span><br><span class="line"><span class="string">c        100%  581   326.4KB/s   00:00    </span></span><br><span class="line"><span class="string">d        100%   48KB  15.3MB/s   00:00 </span></span><br><span class="line"><span class="string">e        100%   278MB 130.7MB/s  00:02</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="显示详细进度"><a href="#显示详细进度" class="headerlink" title="显示详细进度"></a>显示详细进度</h2><p>对于小文件而言，没有问题，但是如果文件比较大，比如有几个GB，那么此时<code>-v</code>参数就会比较有帮助：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ scp a user@192.168.100.123:~/b</span><br><span class="line">user@192.168.100.123<span class="string">'s password:</span></span><br><span class="line"><span class="string">a        0%          0 0.0KMB/s  --:-- ETA</span></span><br><span class="line"><span class="string">a        30%    110MB 130.7MB/s  00:02</span></span><br><span class="line"><span class="string">a        100%   278MB 130.7MB/s  00:02</span></span><br></pre></td></tr></tbody></table></figure>

<p>会实时更新传输的进度。</p>
<h2 id="保持初始状态"><a href="#保持初始状态" class="headerlink" title="保持初始状态"></a>保持初始状态</h2><p>加上<code>-p</code>参数就会保留文件的修改时间，访问时间和访问权限：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp -p a user@192.168.100.123:~/b</span><br></pre></td></tr></tbody></table></figure>

<p>这个对于有些对时间很有控制欲的人很有帮助。</p>
<p>所以<strong>最常用</strong>的用法是（文件和文件夹均适用）：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp -rvp filename/directory user@192.168.100.123:~/</span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2017/01/24/linux-scp/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2017/01/24/linux-scp/" class="post-title-link" itemprop="url">Linux 的 scp 命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2017-01-24 22:11:00" itemprop="dateCreated datePublished" datetime="2017-01-24T22:11:00+08:00">2017-01-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Linux%E5%85%A5%E9%97%A8/%E6%95%B0%E6%8D%AE%E4%BC%A0%E8%BE%93/" itemprop="url" rel="index"><span itemprop="name">数据传输</span></a>
                </span>
            </span>

          
            <span id="/2017/01/24/linux-scp/" class="post-meta-item leancloud_visitors" data-flag-title="Linux 的 scp 命令" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2017/01/24/linux-scp/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/01/24/linux-scp/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2017/01/24/linux-scp/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2017/01/24/linux-scp/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Linux-scp命令"><a href="#Linux-scp命令" class="headerlink" title="Linux scp命令"></a>Linux scp命令</h1><p>linux <code>scp</code>命令主要用于远程复制传输文件。</p>
<p>官方定义为：</p>
<blockquote>
<p>scp — secure copy (remote file copy program)</p>
</blockquote>
<p>是安全拷贝的缩写，主要是因为<code>scp</code>使用了<code>ssh</code>的安全机制。</p>
<p><code>scp</code>应该是接触<strong>Linux</strong>的第一个用于在2台以上的服务器上做数据传输的不二命选，当然，<code>ftp</code>除外了。</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><p>语法看着挺复杂：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp [-12346BCpqrv] [-c cipher] [-F ssh_config] [-i identity_file] [-l <span class="built_in">limit</span>] [-o ssh_option] [-P port] [-S program] [[user@]host1:]file1 ... [[user@]host2:]file2</span><br></pre></td></tr></tbody></table></figure>

<p>其实简化下来就是：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp [options] file_source file_target </span><br></pre></td></tr></tbody></table></figure>

<p>差不多有20个参数，不过常用的有如下几个：</p>
<ul>
<li>-p：保留原文件的修改时间，访问时间和访问权限。</li>
<li>-r： 递归复制整个目录。</li>
<li>-v：详细方式显示输出。scp和ssh(1)会显示出整个过程的调试信息。这些信息用于调试连接，验证和配置问题。</li>
</ul>
<h2 id="无参数传输"><a href="#无参数传输" class="headerlink" title="无参数传输"></a>无参数传输</h2><p>默认情况下，传输一个文件不需要任何参数：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ scp src_file user@192.168.100.123:~/dest_file</span><br><span class="line">user@192.168.100.123<span class="string">'s password:</span></span><br><span class="line"><span class="string">src_file                     100%   44  20.0KB/s   00:00</span></span><br></pre></td></tr></tbody></table></figure>

<p>命令执行后，会提示输入远程机器的密码，后面会显示传输成功的文件。</p>
<h2 id="目录传输"><a href="#目录传输" class="headerlink" title="目录传输"></a>目录传输</h2><p>而传输一个目录不加任何参数的话，会报错如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ scp src_dir user@192.168.100.123:~/dest_dir</span><br><span class="line">user@192.168.100.123<span class="string">'s password:</span></span><br><span class="line"><span class="string">src_dir: not a regular file</span></span><br></pre></td></tr></tbody></table></figure>

<p>提示要传输的不是常规的文件，需要加上参数<code>-r</code>递归传输如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">$ scp src_dir user@192.168.100.123:~/dest_dir</span><br><span class="line">user@192.168.100.123<span class="string">'s password:</span></span><br><span class="line"><span class="string">a        100%   75    35.1KB/s   00:00    </span></span><br><span class="line"><span class="string">b        100%   48KB  14.7MB/s   00:00    </span></span><br><span class="line"><span class="string">c        100%  581   326.4KB/s   00:00    </span></span><br><span class="line"><span class="string">d        100%   48KB  15.3MB/s   00:00 </span></span><br><span class="line"><span class="string">e        100%   278MB 130.7MB/s  00:02</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="显示详细进度"><a href="#显示详细进度" class="headerlink" title="显示详细进度"></a>显示详细进度</h2><p>对于小文件而言，没有问题，但是如果文件比较大，比如有几个GB，那么此时<code>-v</code>参数就会比较有帮助：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ scp a user@192.168.100.123:~/b</span><br><span class="line">user@192.168.100.123<span class="string">'s password:</span></span><br><span class="line"><span class="string">a        0%          0 0.0KMB/s  --:-- ETA</span></span><br><span class="line"><span class="string">a        30%    110MB 130.7MB/s  00:02</span></span><br><span class="line"><span class="string">a        100%   278MB 130.7MB/s  00:02</span></span><br></pre></td></tr></tbody></table></figure>

<p>会实时更新传输的进度。</p>
<h2 id="保持初始状态"><a href="#保持初始状态" class="headerlink" title="保持初始状态"></a>保持初始状态</h2><p>加上<code>-p</code>参数就会保留文件的修改时间，访问时间和访问权限：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp -p a user@192.168.100.123:~/b</span><br></pre></td></tr></tbody></table></figure>

<p>这个对于有些对时间很有控制欲的人很有帮助。</p>
<p>所以<strong>最常用</strong>的用法是（文件和文件夹均适用）：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp -rvp filename/directory user@192.168.100.123:~/</span><br></pre></td></tr></tbody></table></figure>









<h2 id="指定端口进行远程拷贝"><a href="#指定端口进行远程拷贝" class="headerlink" title="指定端口进行远程拷贝"></a>指定端口进行远程拷贝</h2><p>基于安全考虑，可能需要指定端口进行传输，比如12345</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ scp -P 12345 source_file username@ipaddr:/the/path/of/dest_file</span><br></pre></td></tr></tbody></table></figure>









<p><strong>参数说明：</strong></p>
<ul>
<li>-1： 强制scp命令使用协议ssh1</li>
<li>-2： 强制scp命令使用协议ssh2</li>
<li>-4： 强制scp命令只使用IPv4寻址</li>
<li>-6： 强制scp命令只使用IPv6寻址</li>
<li>-B： 使用批处理模式（传输过程中不询问传输口令或短语）</li>
<li>-C： 允许压缩。（将-C标志传递给ssh，从而打开压缩功能）</li>
<li>-q： 不显示传输进度条。</li>
<li>-c cipher： 以cipher将数据传输进行加密，这个选项将直接传递给ssh。</li>
<li>-F ssh_config： 指定一个替代的ssh配置文件，此参数直接传递给ssh。</li>
<li>-i identity_file： 从指定文件中读取传输时使用的密钥文件，此参数直接传递给ssh。</li>
<li>-l limit： 限定用户所能使用的带宽，以Kbit/s为单位。</li>
<li>-o ssh_option： 如果习惯于使用ssh_config(5)中的参数传递方式，</li>
<li>-P port：注意是大写的P, port是指定数据传输用到的端口号</li>
<li>-S program： 指定加密传输时所使用的程序。此程序必须能够理解ssh(1)的选项。</li>
</ul>
<h3 id="实例"><a href="#实例" class="headerlink" title="实例"></a>实例</h3><h4 id="1、从本地复制到远程"><a href="#1、从本地复制到远程" class="headerlink" title="1、从本地复制到远程"></a>1、从本地复制到远程</h4><p>命令格式：</p>
<figure class="highlight scss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">scp local_file remote_username<span class="keyword">@remote</span>_<span class="attribute">ip</span>:remote_folder </span><br><span class="line">或者 </span><br><span class="line">scp local_file remote_username<span class="keyword">@remote</span>_<span class="attribute">ip</span>:remote_file </span><br><span class="line">或者 </span><br><span class="line">scp local_file remote_<span class="attribute">ip</span>:remote_folder </span><br><span class="line">或者 </span><br><span class="line">scp local_file remote_<span class="attribute">ip</span>:remote_file </span><br></pre></td></tr></tbody></table></figure>



<ul>
<li>第1,2个指定了用户名，命令执行后需要再输入密码，第1个仅指定了远程的目录，文件名字不变，第2个指定了文件名；</li>
<li>第3,4个没有指定用户名，命令执行后需要输入用户名和密码，第3个仅指定了远程的目录，文件名字不变，第4个指定了文件名；</li>
</ul>
<p>应用实例：</p>
<figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">scp <span class="regexp">/home/</span>space<span class="regexp">/music/</span><span class="number">1</span>.mp3 root<span class="meta">@www</span>.runoob.com:<span class="regexp">/home/</span>root<span class="regexp">/others/</span>music </span><br><span class="line">scp <span class="regexp">/home/</span>space<span class="regexp">/music/</span><span class="number">1</span>.mp3 root<span class="meta">@www</span>.runoob.com:<span class="regexp">/home/</span>root<span class="regexp">/others/</span>music<span class="operator">/</span><span class="number">001</span>.mp3 </span><br><span class="line">scp <span class="regexp">/home/</span>space<span class="regexp">/music/</span><span class="number">1</span>.mp3 www.runoob.com:<span class="regexp">/home/</span>root<span class="regexp">/others/</span>music </span><br><span class="line">scp <span class="regexp">/home/</span>space<span class="regexp">/music/</span><span class="number">1</span>.mp3 www.runoob.com:<span class="regexp">/home/</span>root<span class="regexp">/others/</span>music<span class="operator">/</span><span class="number">001</span>.mp3 </span><br></pre></td></tr></tbody></table></figure>

<p>复制目录命令格式：</p>
<figure class="highlight scss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">scp -<span class="attribute">r</span> local_folder remote_username<span class="keyword">@remote</span>_<span class="attribute">ip</span>:remote_folder </span><br><span class="line">或者 </span><br><span class="line">scp -r local_folder remote_<span class="attribute">ip</span>:remote_folder </span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>第1个指定了用户名，命令执行后需要再输入密码；</li>
<li>第2个没有指定用户名，命令执行后需要输入用户名和密码；</li>
</ul>
<p>应用实例：</p>
<figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp <span class="operator">-</span>r <span class="regexp">/home/</span>space<span class="regexp">/music/</span> root<span class="meta">@www</span>.runoob.com:<span class="regexp">/home/</span>root<span class="regexp">/others/</span> </span><br><span class="line">scp <span class="operator">-</span>r <span class="regexp">/home/</span>space<span class="regexp">/music/</span> www.runoob.com:<span class="regexp">/home/</span>root<span class="regexp">/others/</span> </span><br></pre></td></tr></tbody></table></figure>

<p>上面命令将本地 music 目录复制到远程 others 目录下。</p>
<h4 id="2、从远程复制到本地"><a href="#2、从远程复制到本地" class="headerlink" title="2、从远程复制到本地"></a>2、从远程复制到本地</h4><p>从远程复制到本地，只要将从本地复制到远程的命令的后2个参数调换顺序即可，如下实例</p>
<p>应用实例：</p>
<figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">scp root<span class="meta">@www</span>.runoob.com:<span class="regexp">/home/</span>root<span class="regexp">/others/</span>music <span class="regexp">/home/</span>space<span class="regexp">/music/</span><span class="number">1</span>.mp3 </span><br><span class="line">scp <span class="operator">-</span>r www.runoob.com:<span class="regexp">/home/</span>root<span class="regexp">/others/</span> <span class="regexp">/home/</span>space<span class="regexp">/music/</span></span><br></pre></td></tr></tbody></table></figure>

<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>1.如果远程服务器防火墙有为scp命令设置了指定的端口，我们需要使用 -P 参数来设置命令的端口号，命令格式如下：</p>
<figure class="highlight autoit"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#scp 命令使用端口号 4588</span></span><br><span class="line">scp -P <span class="number">4588</span> remote<span class="symbol">@www</span>.runoob.com:/usr/<span class="keyword">local</span>/<span class="built_in">sin</span>.sh /home/administrator</span><br></pre></td></tr></tbody></table></figure>

<p>2.使用scp命令要确保使用的用户具有可读取远程服务器相应文件的权限，否则scp命令是无法起作用的。</p>
<p>scp是 secure copy的缩写, scp是linux系统下基于ssh登陆进行安全的远程文件拷贝命令。linux的scp命令可以在linux服务器之间复制文件和目录。 scp命令用于在Linux下进行远程拷贝文件的命令，和它类似的命令有cp，不过cp只是在本机进行拷贝不能跨服务器，而且scp传输是加密的。可能会稍微影响一下速度。</p>
<p>当你服务器硬盘变为只读read only system时，用scp可以帮你把文件移出来。另外，scp还非常不占资源，不会提高多少系统负荷，在这一点上，rsync就远远不及它了。虽然 rsync比scp会快一点，但当小文件众多的情况下，rsync会导致硬盘I/O非常高，而scp基本不影响系统正常使用。</p>
<p><strong>常用参数：</strong></p>
<table>
<thead>
<tr>
<th>-1</th>
<th>使用ssh协议版本1-2</th>
</tr>
</thead>
<tbody><tr>
<td>-2</td>
<td>使用ssh协议版本2</td>
</tr>
<tr>
<td>-4</td>
<td>使用ipv4</td>
</tr>
<tr>
<td>-6</td>
<td>使用ipv6</td>
</tr>
<tr>
<td>-B</td>
<td>以批处理模式运行</td>
</tr>
<tr>
<td>-C</td>
<td>使用压缩</td>
</tr>
<tr>
<td>-F</td>
<td>指定ssh配置文件</td>
</tr>
<tr>
<td>-l</td>
<td>指定宽带限制</td>
</tr>
<tr>
<td>-o</td>
<td>指定使用的ssh选项</td>
</tr>
<tr>
<td>-P</td>
<td>指定远程主机的端口号</td>
</tr>
<tr>
<td>-p</td>
<td>保留文件的最后修改时间，最后访问时间和权限模式</td>
</tr>
<tr>
<td>-q</td>
<td>不显示复制进度</td>
</tr>
<tr>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>参考实例</strong></p>
<p>从远程复制文件到本地目录：</p>
<figure class="highlight mel"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxcool ~]# scp root@192<span class="number">.168</span><span class="number">.10</span><span class="number">.10</span>:/opt/<span class="keyword">soft</span>/rhel-server<span class="number">-7.3</span>-x86_64.tar.gz /opt/<span class="keyword">soft</span>/</span><br></pre></td></tr></tbody></table></figure>

<p>从远程复制目录到本地：</p>
<figure class="highlight mel"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxcool ~]# scp -r root@10<span class="number">.10</span><span class="number">.10</span><span class="number">.10</span>:/opt/<span class="keyword">soft</span>/mysql /opt/<span class="keyword">soft</span>/</span><br></pre></td></tr></tbody></table></figure>

<p>上传本地文件到远程机器指定目录：</p>
<figure class="highlight mel"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxcool ~]# scp /opt/<span class="keyword">soft</span>/rhel-server<span class="number">-7.3</span>-x86_64.tar.gz root@192<span class="number">.168</span><span class="number">.10</span><span class="number">.10</span>:/opt/<span class="keyword">soft</span>/scptest</span><br></pre></td></tr></tbody></table></figure>

<p>上传本地目录到远程机器指定目录：</p>
<figure class="highlight mel"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxcool ~]# scp -r /opt/<span class="keyword">soft</span>/mysql root@192<span class="number">.168</span><span class="number">.10</span><span class="number">.10</span>:/opt/<span class="keyword">soft</span>/scptest</span><br></pre></td></tr></tbody></table></figure>

<p>保留文件的最后修改时间，最后访问时间和权限模式：</p>
<figure class="highlight mel"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[root@linuxcool ~]# scp -p /root/install.<span class="keyword">log</span> root@192<span class="number">.168</span><span class="number">.10</span><span class="number">.10</span>:/tmp  </span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/25/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/25/">25</a><span class="page-number current">26</span><a class="page-number" href="/page/27/">27</a><span class="space">&hellip;</span><a class="page-number" href="/page/100/">100</a><a class="extend next" rel="next" href="/page/27/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">郭大侠</p>
  <div class="site-description" itemprop="description">郭大侠的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">998</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">181</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1450</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://macshuo.com/" title="http:&#x2F;&#x2F;macshuo.com&#x2F;" rel="noopener" target="_blank">MacTalk</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://huhuidong.wordpress.com/" title="https:&#x2F;&#x2F;huhuidong.wordpress.com&#x2F;" rel="noopener" target="_blank">小胡</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2007 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郭大侠</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz","app_key":"NTHrGJp71GzEGvNUEUFumVcR","server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://shaoguangleo.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz',
      appKey     : 'NTHrGJp71GzEGvNUEUFumVcR',
      placeholder: "路过，即是缘分...",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
