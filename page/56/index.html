<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"shaoguangleo.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="郭大侠的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="浩瀚宇宙 灿烂星空">
<meta property="og:url" content="http://shaoguangleo.github.io/page/56/index.html">
<meta property="og:site_name" content="浩瀚宇宙 灿烂星空">
<meta property="og:description" content="郭大侠的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="郭大侠">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://shaoguangleo.github.io/page/56/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>浩瀚宇宙 灿烂星空</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=a8cfacb0a536bd846d2fd545cedb4d61"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'a8cfacb0a536bd846d2fd545cedb4d61');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a8cfacb0a536bd846d2fd545cedb4d61";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="浩瀚宇宙 灿烂星空" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">浩瀚宇宙 灿烂星空</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">工作和生活中的七七八八</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/06/linux-curl-beginner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/06/linux-curl-beginner/" class="post-title-link" itemprop="url">超多协议传输的 - curl</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-06 22:11:00" itemprop="dateCreated datePublished" datetime="2013-03-06T22:11:00+08:00">2013-03-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2013/03/06/linux-curl-beginner/" class="post-meta-item leancloud_visitors" data-flag-title="超多协议传输的 - curl" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/06/linux-curl-beginner/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/06/linux-curl-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/06/linux-curl-beginner/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/06/linux-curl-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="超多协议传输的-curl"><a href="#超多协议传输的-curl" class="headerlink" title="超多协议传输的 - curl"></a>超多协议传输的 - curl</h1><p>.. _linux_curl_beginner:</p>
<p>.. note::<br>  锦瑟无端五十弦，一弦一柱思华年。<br>  李商隐《锦瑟》</p>
<p>Linux <code>curl</code>命令是一款用于从一个server端传输的工具。</p>
<p>很强力，支持众多协议，比如：DICT, FILE, FTP, FTPS, GOPHER, HTTP, HTTPS, IMAP, IMAPS, LDAP, LDAPS, POP3, POP3S, RTMP, RTSP,  SCP,  SFTP,  SMB,  SMBS,  SMTP,SMTPS, TELNET 和 TFTP. </p>
<p>说实话，有些协议我也不知道，不过我们只需要知道这个命令设计之初是希望不需要用户的交互和介入，就可以完成数据的传输。</p>
<p>所以这个命令被广泛应用于数据传输、测试、调试和自动化脚本中。</p>
<p>官方定义为：</p>
<blockquote>
<p>curl - transfer a URL</p>
</blockquote>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl [options / URLs]</span><br></pre></td></tr></tbody></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li><code>-O</code> : 把输出写到该文件中，保留远程文件的文件名</li>
<li><code>-u</code> : 通过服务端配置的用户名和密码授权访问</li>
</ul>
<h2 id="默认传输下载文件"><a href="#默认传输下载文件" class="headerlink" title="默认传输下载文件"></a>默认传输下载文件</h2><p>默认情况下，将下载的数据写入到文件，并且使用服务器上的名字，这里以下载Linux的内核代码为例。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ curl https://mirrors.edge.kernel.org/pub/linux/kernel/v2.4/linux-2.4.32.tar.gz -O</span><br><span class="line">  % Total    % Received % Xferd  Average Speed   Time    Time     Time  Current</span><br><span class="line">                                 Dload  Upload   Total   Spent    Left  Speed</span><br><span class="line">  1 36.7M    1  575k    0     0  17431      0  0:36:50  0:00:33  0:36:17 27222</span><br></pre></td></tr></tbody></table></figure>

<h2 id="需要授权的网站"><a href="#需要授权的网站" class="headerlink" title="需要授权的网站"></a>需要授权的网站</h2><p>部分网站可能需要访问的授权，此时可以使用<code>-u</code>选项提供用户名和密码进行授权：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ curl -u username https://www.website.com/</span><br><span class="line"> Enter host password <span class="keyword">for</span> user <span class="string">'username'</span>:</span><br></pre></td></tr></tbody></table></figure>



<h2 id="批量下载"><a href="#批量下载" class="headerlink" title="批量下载"></a>批量下载</h2><p>当然，这么强力的工具，肯定是支持批量下载的，并且是正则表达式的支持。</p>
<p>比如：<a href="ftp://ftp.example.com/%E7%9A%84file1%EF%BC%8Cfile5%E5%92%8Cfile7%EF%BC%8C%E6%96%B9%E6%B3%95%E5%A6%82%E4%B8%8B%EF%BC%9A">ftp://ftp.example.com/的file1，file5和file7，方法如下：</a></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl ftp://ftp.example.com/file{1,5,7}.txt</span><br></pre></td></tr></tbody></table></figure>



<p>如果下载<a href="ftp://ftp.example.com/%E7%9A%84%E4%BB%8Efile1%E5%88%B0file100%E7%9A%84100%E7%BB%84%E6%96%87%E4%BB%B6%EF%BC%8C%E6%96%B9%E6%B3%95%E5%A6%82%E4%B8%8B%EF%BC%9A">ftp://ftp.example.com/的从file1到file100的100组文件，方法如下：</a></p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ curl ftp://ftp.example.com/file[1-100].txt</span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/06/linux-decode/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/06/linux-decode/" class="post-title-link" itemprop="url">Linux base64命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-06 22:11:00" itemprop="dateCreated datePublished" datetime="2013-03-06T22:11:00+08:00">2013-03-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2013/03/06/linux-decode/" class="post-meta-item leancloud_visitors" data-flag-title="Linux base64命令" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/06/linux-decode/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/06/linux-decode/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/06/linux-decode/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/06/linux-decode/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="linux-base64命令"><a href="#linux-base64命令" class="headerlink" title="linux base64命令"></a>linux base64命令</h1><p>可以直接输入<code>base64</code>从标准输入中读取数据，按<code>Ctrl+D</code>结束输入。将输入的内容编码为<code>base64</code>字符串输出。</p>
<p>也可以使用管道符号，比如 <code>echo "str" | base64</code> ，将字符串<code>str+换行</code> 编码为<code>base64</code>字符串输出。</p>
<p>如果希望省略换行符，可以使用<code>echo -n "str" | base64</code>，同样<code>base64</code>还可以编码文件，比如<code>base64 file</code>，输出编码为<code>base64</code>字符串输出，解码为<code>-d</code>即可。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/06/linux-diff-beginner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/06/linux-diff-beginner/" class="post-title-link" itemprop="url">远看高低各不同 diff</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-06 22:11:00" itemprop="dateCreated datePublished" datetime="2013-03-06T22:11:00+08:00">2013-03-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2013/03/06/linux-diff-beginner/" class="post-meta-item leancloud_visitors" data-flag-title="远看高低各不同 diff" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/06/linux-diff-beginner/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/06/linux-diff-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/06/linux-diff-beginner/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/06/linux-diff-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="远看高低各不同-diff"><a href="#远看高低各不同-diff" class="headerlink" title="远看高低各不同 diff"></a>远看高低各不同 diff</h1><p>.. _linux_diff_beginner:</p>
<p>.. note::<br>  草色烟光残照里，无言谁会凭阑意<br>  宋代 柳永《蝶恋花·伫倚危楼风细细》</p>
<p>Linux <code>diff</code> 命令用于比较文件的差异。</p>
<p>当然还有很多比较文件的专业工具，但是如果在Linux命令行，这个是最原始最初的，也是开机即用的。</p>
<p>官方定义为：</p>
<blockquote>
<p>GNU diff - compare files line by line</p>
</blockquote>
<p><code>diff</code> 会以逐行的方式，比较文本文件的不同。</p>
<p>如果指定要比较目录，则 <code>diff</code> 会比较目录中相同文件名的文件，但不会比较其中子目录。</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ diff [OPTION]... FILES</span><br></pre></td></tr></tbody></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li><code>-c</code> 显示所有内容，并标出不同之处。</li>
<li><code>-u</code> 以合并的方式来显示文件内容的不同。</li>
<li><code>-y</code>或<code>--side-by-side</code> 　两列输出显示文件的异同之处。</li>
</ul>
<p>假定有两个文件<u>a</u>和<u>b</u>，内容分别为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> a</span><br><span class="line">This is a.</span><br><span class="line">Hello a.</span><br><span class="line">Hello World.</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> b</span><br><span class="line">This is b.</span><br><span class="line">Hello b.</span><br><span class="line">Hello World.</span><br></pre></td></tr></tbody></table></figure>



<h2 id="默认比较两个文件"><a href="#默认比较两个文件" class="headerlink" title="默认比较两个文件"></a>默认比较两个文件</h2><p>默认情况下，直接输入下面命令即可：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$  diff a b</span><br><span class="line">1,2c1,2</span><br><span class="line">&lt; This is a.</span><br><span class="line">&lt; Hello a.</span><br><span class="line">---</span><br><span class="line">&gt; This is b.</span><br><span class="line">&gt; Hello b.</span><br><span class="line">3a4</span><br><span class="line">&gt; One more line.</span><br></pre></td></tr></tbody></table></figure>

<p>可以看到<strong>1,2c1,2</strong>，中间有一个字母<u>c</u>；<strong>3a4</strong>，中间有一个字母<u>a</u>。</p>
<p>那么<u>a</u>和<u>c</u>什么含义呢，中间的字母表示需要在第一个文件上做的操作(<u>a=add,c=change,d=delete</u>)，然后才有后面的文件一致。</p>
<p>所以<strong>1,2c1,2</strong>表示1,2行更换后一致；<strong>3a4</strong>表示，增加一行后一致。</p>
<h2 id="并排显示方便比较"><a href="#并排显示方便比较" class="headerlink" title="并排显示方便比较"></a>并排显示方便比较</h2><p>这种方式相对而言，就很亲民了，左右两边两列方便比对。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ diff a b -y</span><br><span class="line">This is a.                                                    | This is b.</span><br><span class="line">Hello a.                                                      | Hello b.</span><br><span class="line">Hello World.                                                    Hello World.</span><br><span class="line">                                                              &gt; One more line.</span><br></pre></td></tr></tbody></table></figure>

<p>那么：</p>
<ul>
<li><p>“|”表示前后2个文件内容有不同；</p>
</li>
<li><p>“&lt;”表示后面文件比前面文件少了1行内容</p>
</li>
<li><p>“&gt;”表示后面文件比前面文件多了1行内容</p>
</li>
</ul>
<h2 id="context模式比较"><a href="#context模式比较" class="headerlink" title="context模式比较"></a>context模式比较</h2><p>这种模式会输出所有的文件内容，并显示不同之处，还包括具体的时间。</p>
<p>如下<code>***</code> 表示a的内容，<code>---</code> 表示b的内容。 </p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ diff a b -c</span><br><span class="line">*** a   2013-03-04 23:20:20.322345200 +0800</span><br><span class="line">--- b   2013-03-04 23:26:30.712130000 +0800</span><br><span class="line">***************</span><br><span class="line">*** 1,3 ****</span><br><span class="line">! This is a.</span><br><span class="line">! Hello a.</span><br><span class="line">  Hello World.</span><br><span class="line">--- 1,4 ----</span><br><span class="line">! This is b.</span><br><span class="line">! Hello b.</span><br><span class="line">  Hello World.</span><br><span class="line">+ One more line.</span><br></pre></td></tr></tbody></table></figure>



<h2 id="unified模式比较"><a href="#unified模式比较" class="headerlink" title="unified模式比较"></a>unified模式比较</h2><p>这种模式会混合输出所有的文件内容，并显示不同之处，还包括具体的时间。</p>
<p>如下<code>---</code> 表示<u>a</u>的内容，<code>+++</code> 表示<u>b</u>的内容。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$  diff a b -u</span><br><span class="line">--- a   2013-03-04 23:20:20.322345200 +0800</span><br><span class="line">--- b   2013-03-04 23:26:30.712130000 +0800</span><br><span class="line">@@ -1,3 +1,4 @@</span><br><span class="line">-This is a.</span><br><span class="line">-Hello a.</span><br><span class="line">+This is b.</span><br><span class="line">+Hello b.</span><br><span class="line"> Hello World.</span><br><span class="line">+One more line.</span><br></pre></td></tr></tbody></table></figure>

<h2 id="对比时忽略空格"><a href="#对比时忽略空格" class="headerlink" title="对比时忽略空格"></a>对比时忽略空格</h2><figure class="highlight mipsasm"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># diff -w name_list.txt name_list_new.txt</span></span><br><span class="line"></span><br><span class="line"><span class="number">2</span>c2,<span class="number">3</span></span><br><span class="line">&lt; <span class="keyword">John </span>Doe --- &gt; <span class="keyword">John </span>M Doe</span><br><span class="line">&gt; <span class="keyword">Jason </span><span class="keyword">Bourne</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="快速找出两个目录的不同"><a href="#快速找出两个目录的不同" class="headerlink" title="快速找出两个目录的不同"></a>快速找出两个目录的不同</h2><p>diff命令会按行比较文件。但是它也可以比较两个目录：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -l /tmp/r</span><br><span class="line"><span class="built_in">ls</span> -l /tmp/s</span><br><span class="line"><span class="comment"># 使用 diff 比较两个文件夹</span></span><br><span class="line">diff /tmp/r/ /tmp/s/</span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/06/linux-diff/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/06/linux-diff/" class="post-title-link" itemprop="url">Linux diff命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-06 22:11:00" itemprop="dateCreated datePublished" datetime="2013-03-06T22:11:00+08:00">2013-03-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2013/03/06/linux-diff/" class="post-meta-item leancloud_visitors" data-flag-title="Linux diff命令" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/06/linux-diff/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/06/linux-diff/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/06/linux-diff/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/06/linux-diff/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Linux-diff-命令"><a href="#Linux-diff-命令" class="headerlink" title="Linux diff 命令"></a>Linux diff 命令</h1><p>Linux <code>diff</code> 命令用于比较文件的差异。</p>
<p>当然还有很多比较文件的专业工具，但是如果在Linux命令行，这个是最原始最初的，也是开机即用的。</p>
<p>官方定义为：</p>
<blockquote>
<p>GNU diff - compare files line by line</p>
</blockquote>
<p><code>diff</code> 会以逐行的方式，比较文本文件的不同。</p>
<p>如果指定要比较目录，则 <code>diff</code> 会比较目录中相同文件名的文件，但不会比较其中子目录。</p>
<h2 id="语法"><a href="#语法" class="headerlink" title="语法"></a>语法</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ diff [OPTION]... FILES</span><br></pre></td></tr></tbody></table></figure>

<p><strong>参数</strong>：</p>
<ul>
<li><code>-c</code> 显示所有内容，并标出不同之处。</li>
<li><code>-u</code> 以合并的方式来显示文件内容的不同。</li>
<li><code>-y</code>或<code>--side-by-side</code> 　两列输出显示文件的异同之处。</li>
</ul>
<p>假定有两个文件<u>a</u>和<u>b</u>，内容分别为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> a</span><br><span class="line">This is a.</span><br><span class="line">Hello a.</span><br><span class="line">Hello World.</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> b</span><br><span class="line">This is b.</span><br><span class="line">Hello b.</span><br><span class="line">Hello World.</span><br></pre></td></tr></tbody></table></figure>



<h2 id="默认比较两个文件"><a href="#默认比较两个文件" class="headerlink" title="默认比较两个文件"></a>默认比较两个文件</h2><p>默认情况下，直接输入下面命令即可：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$  diff a b</span><br><span class="line">1,2c1,2</span><br><span class="line">&lt; This is a.</span><br><span class="line">&lt; Hello a.</span><br><span class="line">---</span><br><span class="line">&gt; This is b.</span><br><span class="line">&gt; Hello b.</span><br><span class="line">3a4</span><br><span class="line">&gt; One more line.</span><br></pre></td></tr></tbody></table></figure>

<p>可以看到<strong>1,2c1,2</strong>，中间有一个字母<u>c</u>；<strong>3a4</strong>，中间有一个字母<u>a</u>。</p>
<p>那么<u>a</u>和<u>c</u>什么含义呢，中间的字母表示需要在第一个文件上做的操作(<u>a=add,c=change,d=delete</u>)，然后才有后面的文件一致。</p>
<p>所以<strong>1,2c1,2</strong>表示1,2行更换后一致；<strong>3a4</strong>表示，增加一行后一致。</p>
<h2 id="并排显示方便比较"><a href="#并排显示方便比较" class="headerlink" title="并排显示方便比较"></a>并排显示方便比较</h2><p>这种方式相对而言，就很亲民了，左右两边两列方便比对。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ diff a b -y</span><br><span class="line">This is a.                                                    | This is b.</span><br><span class="line">Hello a.                                                      | Hello b.</span><br><span class="line">Hello World.                                                    Hello World.</span><br><span class="line">                                                              &gt; One more line.</span><br></pre></td></tr></tbody></table></figure>

<p>那么：</p>
<ul>
<li><p>“|”表示前后2个文件内容有不同；</p>
</li>
<li><p>“&lt;”表示后面文件比前面文件少了1行内容</p>
</li>
<li><p>“&gt;”表示后面文件比前面文件多了1行内容</p>
</li>
</ul>
<h2 id="context模式比较"><a href="#context模式比较" class="headerlink" title="context模式比较"></a>context模式比较</h2><p>这种模式会输出所有的文件内容，并显示不同之处，还包括具体的时间。</p>
<p>如下<code>***</code> 表示a的内容，<code>---</code> 表示b的内容。 </p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">$ diff a b -c</span><br><span class="line">*** a   2013-03-04 20:30:20.322345200 +0800</span><br><span class="line">+++ b   2013-03-04 20:26:30.712130000 +0800</span><br><span class="line">***************</span><br><span class="line">*** 1,3 ****</span><br><span class="line">! This is a.</span><br><span class="line">! Hello a.</span><br><span class="line">  Hello World.</span><br><span class="line">--- 1,4 ----</span><br><span class="line">! This is b.</span><br><span class="line">! Hello b.</span><br><span class="line">  Hello World.</span><br><span class="line">+ One more line.</span><br></pre></td></tr></tbody></table></figure>



<h2 id="unified模式比较"><a href="#unified模式比较" class="headerlink" title="unified模式比较"></a>unified模式比较</h2><p>这种模式会混合输出所有的文件内容，并显示不同之处，还包括具体的时间。</p>
<p>如下<code>---</code> 表示<u>a</u>的内容，<code>+++</code> 表示<u>b</u>的内容。</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">$  diff a b -u</span><br><span class="line">--- a   2013-03-04 20:30:20.322345200 +0800</span><br><span class="line">+++ b   2013-03-04 20:26:30.712130000 +0800</span><br><span class="line">@@ -1,3 +1,4 @@</span><br><span class="line">-This is a.</span><br><span class="line">-Hello a.</span><br><span class="line">+This is b.</span><br><span class="line">+Hello b.</span><br><span class="line"> Hello World.</span><br><span class="line">+One more line.</span><br></pre></td></tr></tbody></table></figure>









<ul>
<li><p>-&lt;行数&gt; 　指定要显示多少行的文本。此参数必须与-c或-u参数一并使用。</p>
</li>
<li><p>-a或–text 　diff预设只会逐行比较文本文件。</p>
</li>
<li><p>-b或–ignore-space-change 　不检查空格字符的不同。</p>
</li>
<li><p>-B或–ignore-blank-lines 　不检查空白行。</p>
</li>
<li></li>
<li><p>-C&lt;行数&gt;或–context&lt;行数&gt; 　与执行”-c-&lt;行数&gt;”指令相同。</p>
</li>
<li><p>-d或–minimal 　使用不同的演算法，以较小的单位来做比较。</p>
</li>
<li><p>-D&lt;巨集名称&gt;或ifdef&lt;巨集名称&gt; 　此参数的输出格式可用于前置处理器巨集。</p>
</li>
<li><p>-e或–ed 　此参数的输出格式可用于ed的script文件。</p>
</li>
<li><p>-f或-forward-ed 　输出的格式类似ed的script文件，但按照原来文件的顺序来显示不同处。</p>
</li>
<li><p>-H或–speed-large-files 　比较大文件时，可加快速度。</p>
</li>
<li><p>-I&lt;字符或字符串&gt;或–ignore-matching-lines&lt;字符或字符串&gt; 　若两个文件在某几行有所不同，而这几行同时都包含了选项中指定的字符或字符串，则不显示这两个文件的差异。</p>
</li>
<li><p>-i或–ignore-case 　不检查大小写的不同。</p>
</li>
<li><p>-l或–paginate 　将结果交由pr程序来分页。</p>
</li>
<li><p>-n或–rcs 　将比较结果以RCS的格式来显示。</p>
</li>
<li><p>-N或–new-file 　在比较目录时，若文件A仅出现在某个目录中，预设会显示：</p>
</li>
<li><p>Only in目录：文件A若使用-N参数，则diff会将文件A与一个空白的文件比较。</p>
</li>
<li><p>-p 　若比较的文件为C语言的程序码文件时，显示差异所在的函数名称。</p>
</li>
<li><p>-P或–unidirectional-new-file 　与-N类似，但只有当第二个目录包含了一个第一个目录所没有的文件时，才会将这个文件与空白的文件做比较。</p>
</li>
<li><p>-r或–recursive 　比较子目录中的文件。</p>
</li>
<li><p>-s或–report-identical-files 　若没有发现任何差异，仍然显示信息。</p>
</li>
<li><p>-S&lt;文件&gt;或–starting-file&lt;文件&gt; 　在比较目录时，从指定的文件开始比较。</p>
</li>
<li><p>-t或–expand-tabs 　在输出时，将tab字符展开。</p>
</li>
<li><p>-T或–initial-tab 　在每行前面加上tab字符以便对齐。</p>
</li>
<li><p>-w或–ignore-all-space 　忽略全部的空格字符。</p>
</li>
<li><p>-W&lt;宽度&gt;或–width&lt;宽度&gt; 　在使用-y参数时，指定栏宽。</p>
</li>
<li><p>-x&lt;文件名或目录&gt;或–exclude&lt;文件名或目录&gt; 　不比较选项中所指定的文件或目录。</p>
</li>
<li><p>-X&lt;文件&gt;或–exclude-from&lt;文件&gt; 　您可以将文件或目录类型存成文本文件，然后在=&lt;文件&gt;中指定此文本文件。</p>
</li>
<li><p>–left-column 　在使用-y参数时，若两个文件某一行内容相同，则仅在左侧的栏位显示该行内容。</p>
</li>
<li><p>–suppress-common-lines 　在使用-y参数时，仅显示不同之处。</p>
<pre><code> Mandatory arguments to long options are mandatory for short options too.

 --normal
        output a normal diff (the default)

 -q, --brief
        report only when files differ

 -s, --report-identical-files
        report when two files are the same

 -c, -C NUM, --context[=NUM]
        output NUM (default 3) lines of copied context

 -e, --ed
        output an ed script

 -n, --rcs
        output an RCS format diff

 -W, --width=NUM
        output at most NUM (default 130) print columns

 --left-column
        output only the left column of common lines

 --suppress-common-lines
        do not output common lines

 -p, --show-c-function
        show which C function each change is in
         -F, --show-function-line=RE
            show the most recent line matching RE

     --label LABEL
            use LABEL instead of file name and timestamp (can be repeated)

     -t, --expand-tabs
            expand tabs to spaces in output

     -T, --initial-tab
            make tabs line up by prepending a tab

     --tabsize=NUM
            tab stops every NUM (default 8) print columns

     --suppress-blank-empty
            suppress space or tab before empty output lines

     -l, --paginate
            pass output through 'pr' to paginate it

     -r, --recursive
            recursively compare any subdirectories found

     --no-dereference
            don't follow symbolic links

     -N, --new-file
            treat absent files as empty

     --unidirectional-new-file
            treat absent first files as empty

     --ignore-file-name-case
            ignore case when comparing file names

     --no-ignore-file-name-case
            consider case when comparing file names

     -x, --exclude=PAT
            exclude files that match PAT

     -X, --exclude-from=FILE
            exclude files that match any pattern in FILE

     -S, --starting-file=FILE
            start with FILE when comparing directories
            
             --from-file=FILE1
            compare FILE1 to all operands; FILE1 can be a directory

     --to-file=FILE2
            compare all operands to FILE2; FILE2 can be a directory

     -i, --ignore-case
            ignore case differences in file contents

     -E, --ignore-tab-expansion
            ignore changes due to tab expansion

     -Z, --ignore-trailing-space
            ignore white space at line end

     -b, --ignore-space-change
            ignore changes in the amount of white space

     -w, --ignore-all-space
            ignore all white space

     -B, --ignore-blank-lines
            ignore changes where lines are all blank

     -I, --ignore-matching-lines=RE
            ignore changes where all lines match RE

     -a, --text
            treat all files as text

     --strip-trailing-cr
            strip trailing carriage return on input

     -D, --ifdef=NAME
            output merged file with '#ifdef NAME' diffs

     --GTYPE-group-format=GFMT
            format GTYPE input groups with GFMT

     --line-format=LFMT
            format all input lines with LFMT
            
                  These format options provide fine-grained control over the output

            of diff, generalizing -D/--ifdef.

     LTYPE is 'old', 'new', or 'unchanged'.
            GTYPE is LTYPE or 'changed'.

            GFMT (only) may contain:

     %&lt;     lines from FILE1

     %&gt;     lines from FILE2

     %=     lines common to FILE1 and FILE2

     %[-][WIDTH][.[PREC]]{doxX}LETTER
            printf-style spec for LETTER

            LETTERs are as follows for new group, lower case for old group:

     F      first line number

     L      last line number

     N      number of lines = L-F+1

     E      F-1

     M      L+1

     %(A=B?T:E)
            if A equals B then T else E

            LFMT (only) may contain:

     %L     contents of line

     %l     contents of line, excluding any trailing newline

     %[-][WIDTH][.[PREC]]{doxX}n
            printf-style spec for input line number

            Both GFMT and LFMT may contain:

     %%     %
     
      %c'C'  the single character C

     %c'\OOO'
            the character with octal code OOO

     C      the character C (other characters represent themselves)

     -d, --minimal
            try hard to find a smaller set of changes

     --horizon-lines=NUM
            keep NUM lines of the common prefix and suffix

     --speed-large-files
            assume large files and many scattered small changes

     --color[=WHEN]
            colorize the output; WHEN can be 'never', 'always', or 'auto' (the default)

     --palette=PALETTE
            the colors to use when --color is active; PALETTE is a colon-separated list of terminfo capabilities



     FILES  are  'FILE1  FILE2'  or 'DIR1 DIR2' or 'DIR FILE' or 'FILE DIR'.  If --from-file or --to-file is given,
     there are no restrictions on FILE(s).  If a FILE is '-', read standard input.  Exit status is 0 if inputs  are
     the same, 1 if different, 2 if trouble.
</code></pre>
</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/05/linux-command-line-shortcut/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/05/linux-command-line-shortcut/" class="post-title-link" itemprop="url">Linux 命令行快捷键</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-05 22:11:00" itemprop="dateCreated datePublished" datetime="2013-03-05T22:11:00+08:00">2013-03-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2013/03/05/linux-command-line-shortcut/" class="post-meta-item leancloud_visitors" data-flag-title="Linux 命令行快捷键" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/05/linux-command-line-shortcut/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/05/linux-command-line-shortcut/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/05/linux-command-line-shortcut/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/05/linux-command-line-shortcut/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="linux命令行快捷键"><a href="#linux命令行快捷键" class="headerlink" title="linux命令行快捷键"></a>linux命令行快捷键</h1><ul>
<li>C-k: 先按住Ctrl键，然后再按k键；</li>
<li>M-k：先单击Esc键，然后再按k键。</li>
</ul>
<h2 id="移动光标"><a href="#移动光标" class="headerlink" title="移动光标"></a>移动光标</h2><ul>
<li>C-a：移到行首</li>
<li>C-e：移到行尾</li>
<li>C-b：往回(左)移动一个字符</li>
<li>C-f：往后(右)移动一个字符</li>
<li>M-b：往回(左)移动一个单词</li>
<li>M-f：往后(右)移动一个单词</li>
</ul>
<h2 id="删除字符"><a href="#删除字符" class="headerlink" title="删除字符"></a>删除字符</h2><ul>
<li>C-h：删除光标左方位置的字符</li>
<li>C-d：删除光标右方位置的字符（注意：当前命令行没有任何字符时，会注销系统或结束终端）</li>
</ul>
<h2 id="删除单词"><a href="#删除单词" class="headerlink" title="删除单词"></a>删除单词</h2><ul>
<li>M-d：由光标位置开始，删除单词，直到该单词结束。</li>
<li>C-w：由光标位置开始，往左删除单词。</li>
</ul>
<h2 id="删除行"><a href="#删除行" class="headerlink" title="删除行"></a>删除行</h2><ul>
<li>C-k：由光标所在位置开始，删除右方所有的字符，直到该行结束。</li>
<li>C-u：由光标所在位置开始，删除左方所有的字符，直到该行开始。</li>
<li>C-a C-k  或  C-e C-u 或 C-k C-u 组合可删除整行。</li>
<li>C-l：清除屏幕，然后，在最上面重新显示目前光标所在的这一行的内容。</li>
</ul>
<h2 id="复原操作"><a href="#复原操作" class="headerlink" title="复原操作"></a>复原操作</h2><ul>
<li>C-_：回复之前的状态。撤销操作。</li>
</ul>
<h2 id="粘贴"><a href="#粘贴" class="headerlink" title="粘贴"></a>粘贴</h2><p>C-y：把之前删除的字符或字符串，贴到光标所在位置。</p>
<h2 id="重复执行操作动作："><a href="#重复执行操作动作：" class="headerlink" title="重复执行操作动作："></a>重复执行操作动作：</h2><ul>
<li>M-操作次数  操作动作： 指定操作次数，重复执行指定的操作。</li>
</ul>
<h2 id="查找历史命令"><a href="#查找历史命令" class="headerlink" title="查找历史命令"></a>查找历史命令</h2><ul>
<li>C-p：显示当前命令的上一条历史命令</li>
<li>C-n：显示当前命令的下一条历史命令</li>
<li>C-r：搜索历史命令，随着输入会显示历史命令中的一条匹配命令，Enter键执行匹配命令；ESC键在命令行显示而不执行匹配命令。</li>
</ul>
<h2 id="执行历史命令中的特定命令"><a href="#执行历史命令中的特定命令" class="headerlink" title="执行历史命令中的特定命令"></a>执行历史命令中的特定命令</h2><p>在下面的例子中，如果你想再次执行第四条命令，执行！4即可</p>
<figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># history | more</span></span><br><span class="line"></span><br><span class="line"><span class="number">1</span> service network restart</span><br><span class="line"></span><br><span class="line"><span class="number">2</span> <span class="keyword">exit</span></span><br><span class="line"></span><br><span class="line"><span class="number">3</span> id</span><br><span class="line"></span><br><span class="line"><span class="number">4</span> cat <span class="regexp">/etc/</span>redhat-release</span><br><span class="line"></span><br><span class="line"><span class="comment"># !4</span></span><br><span class="line"></span><br><span class="line">cat <span class="regexp">/etc/</span>redhat-release</span><br><span class="line"></span><br><span class="line">Fedora release <span class="number">9</span> (Sulphur)</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/04/linux-ide/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/04/linux-ide/" class="post-title-link" itemprop="url">Linux IDE</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-04 22:11:00" itemprop="dateCreated datePublished" datetime="2013-03-04T22:11:00+08:00">2013-03-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2013/03/04/linux-ide/" class="post-meta-item leancloud_visitors" data-flag-title="Linux IDE" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/04/linux-ide/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/04/linux-ide/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/04/linux-ide/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/04/linux-ide/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="开发IDE环境"><a href="#开发IDE环境" class="headerlink" title="开发IDE环境"></a>开发IDE环境</h1><h2 id="xwpe"><a href="#xwpe" class="headerlink" title="xwpe"></a>xwpe</h2><p>xwpe：Fred Kruse开发的一个基于字符的文件管理器和文件编辑器，网址为：<a href="http://www.identicalsoftware.com/xwpe/">http://www.identicalsoftware.com/xwpe/</a> ，</p>
<h2 id="c-Forge-IDE"><a href="#c-Forge-IDE" class="headerlink" title="c-Forge IDE"></a>c-Forge IDE</h2><p>C-Forge是一个集成的开发工具，支持多种语言开发环境，能够为你提供完善的开发环境，支持的语言包括C、C++、HTML、QT、GTK等等。</p>
<h2 id="Kdevelop"><a href="#Kdevelop" class="headerlink" title="Kdevelop"></a>Kdevelop</h2><p>KDevelop，是一个支持多程序设计语言的集成开发环境。它运行于Linux和其它类Unix环境。它本身不包含编译器，而是调用其它编译器来编译程序。<br>目前的版本4.3.0。它建立在 KDE 4 技术之上，并有良好的 C、C++ 和 PHP 开发支援。<br>KDevelop 3.5.5已支持Ada、Bash、C、C++、Fortran、Haskell、Java、Pascal、Perl、Python、Ruby、SQL等程序设计语言。<br>gbuilder</p>
<h2 id="anjuta"><a href="#anjuta" class="headerlink" title="anjuta"></a>anjuta</h2><p>Anjuta是一个建立在GNU/Linux下为C、C++提供编译的集成开发环境。它最初旨在为GTK/GNOME设计，并且自身具有很好的编程属性。这其中包括项目管理、应用开发、交互调试以及强大的代码编辑和语法增彩的性质。<br>Anjuta成为Gnome环境下最理想的开发工具，其主要功能和KDE下的Kdevelop相似，目前最新的版本是3.2.0。</p>
<h2 id="Kylix"><a href="#Kylix" class="headerlink" title="Kylix"></a>Kylix</h2><p>Kylix是Borland公司推出的GNU/Linux版的开发环境，相对于Windows下的Delphi以及C＋＋ Builder。通过Kylix，程序员可以在GNU/Linux下使用Object Pascal、C++或者C语言，进行软件开发</p>
<h2 id="Eclipse"><a href="#Eclipse" class="headerlink" title="Eclipse"></a>Eclipse</h2><p>Eclipse是著名的跨平台开源集成开发环境（IDE）。最初主要用来Java语言开发，目前亦有人通过插件使其作为C++、Python、PHP等其他语言的开发工具。<br>Eclipse的本身只是一个框架平台，但是众多插件的支持，使得Eclipse拥有较佳的灵活性。许多软件开发商以Eclipse为框架开发自己的IDE。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/02/c-learn-methods/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/02/c-learn-methods/" class="post-title-link" itemprop="url">c语言 漫谈C语言及如何学习C语言</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-02 17:01:32" itemprop="dateCreated datePublished" datetime="2013-03-02T17:01:32+08:00">2013-03-02</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2013/03/02/c-learn-methods/" class="post-meta-item leancloud_visitors" data-flag-title="c语言 漫谈C语言及如何学习C语言" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/02/c-learn-methods/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/02/c-learn-methods/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/02/c-learn-methods/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/02/c-learn-methods/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C语言学习方法"><a href="#C语言学习方法" class="headerlink" title="C语言学习方法"></a>C语言学习方法</h1><p>参考 <a href="http://sunxiunan.com/?p=1661sunxiunan">http://sunxiunan.com/?p=1661sunxiunan</a></p>
<p>C语言学习顺序：阅读参考书，阅读代码，编写调试实际程序，上网参与讨论，研究高级话题。</p>
<h2 id="1，参考书籍"><a href="#1，参考书籍" class="headerlink" title="1，参考书籍"></a>1，参考书籍</h2><ul>
<li>《The C Programming Language》 如果你只想买一本书学习C语言，只需要买这一本就够了。用三个词语来形容它就是：经典！经典！经典！这本薄薄的只有二百多页的小书涵盖了C语言的方方面面，前无古人而且后无来者，任何溢美之词都不足以形容它。</li>
<li>《C程序设计语言（第2版·新版）》这是K&amp;R的中文译本，可以先从中文译本看起，然后再读一遍英文原版，既可以学习英文，又可以体会原文那种简约优美的风格。</li>
<li>《C陷阱与缺陷》 《C专家编程》 这两本书也是学习及使用C语言的朋友必备的两本书，比如《C专家编程》，专门用两三个章节详细介绍C语言中数组与指针的不同之处，这两本书在某种程度上算是对K&amp;R略过的地方做了详细补充，强烈推荐。</li>
<li>《C语言参考手册》可以看作是C语言编程的《新华字典》，全面而权威。里面还涵盖了C99的内容，紧跟时代潮流。</li>
<li>《C和指针》 指针的重要性如何，学过C语言（或者C++）的朋友都知道，这本书更是把指针拔高到了与C语言平起平坐的地位，其实也是从头开始介绍，作为教学参考书也是可以的。</li>
<li>《C标准库》 这本书是专门介绍C语言的标准库如何实现的，比如malloc算法，用标准的C语言该如何写？strlen这个函数应该如何实现？尽管书中不少代码与真实的C标准库相差很多（由于标准库需要考虑性能优化，很多函数有一些特定的trick），但是绝对值得参考。</li>
<li>《你必须知道的495个C语言问题》 这本书其实就是C-FAQ的印刷版本，C-FAQ在各种编程语言的FAQ中可以称得上质量一流。如果你想应聘或者招聘C语言相关程序员，这本书一定要参考。</li>
<li>《Linux C编程一站式学习》 这本书是基于特定操作系统Linux来介绍C语言编程，可作为计算机相关专业的教科书或入门参考书，也是书单里面唯一一本国人原创的编程书籍，非常难得。书中几乎所有内容都在网上直接公开，针对读者的意见进行修改，这也是非常难得的一种开放态度。非常推荐大家买一本。</li>
</ul>
<p>学习C语言，一定不能只读书，应该动手练习完成书里面的项目需求（比如编写一个目录浏览器）以及每章的练习题目。这就需要有可以实验的环境，下面针对不同操作系统简单做一下介绍。</p>
<h2 id="2，开发环境"><a href="#2，开发环境" class="headerlink" title="2，开发环境"></a>2，开发环境</h2><p>Windows系统下推荐大家使用Code::blocks这个软件。这个软件最大优点是自带了基于mingw的GCC以及GDB，只要下载70M左右软件包，就可以完整支持C++、C语言编程了。各种功能（比如调试功能）也很强大，版本更新也比较快。注意下载选择名字有mingw的文件，比如最新版本是codeblocks-10.05mingw-setup.exe（版本也许有所不同）。</p>
<p>主页：<a href="http://www.codeblocks.org/">http://www.codeblocks.org/</a></p>
<p>另外推荐codelite，相比codeblock，这个更新的更频繁一些。也支持各种比较有用的插件、调试特性、WX等等。</p>
<p>主页 <a href="http://codelite.org/">http://codelite.org/</a></p>
<p>如果需要做Windows操作系统的开发，可以下载Visual C++ 2010 Express。</p>
<p>因为Code::Blocks不包含Windows编程头文件（实际是因为没有Windows SDK），无法编写Windows操作系统相关的界面应用程序或者服务类程序。而VC++Express自带了这些头文件以及编程库，虽然功能稍微简陋，但对于练习使用基本够用。</p>
<p>主页：<a href="http://www.microsoft.com/express/windows/">http://www.microsoft.com/express/windows/</a></p>
<p>对于计算机专业的学生朋友，建议大家使用Linux操作系统，或者更详细一点是使用Xubuntu操作系统作为桌面，使用Netbeans和GCC这个组合（当然也可以选择Code::Blocks）。在Xubuntu下可以通过apt-get install build-essential这个命令安装gcc相关程序，已经可以在Terminal下编译C语言程序了，但为了使用方便，大家可以选择Netbeans的C++支持包，在Netbeans网站上就能下载。</p>
<p>主页：<a href="http://netbeans.org/features/cpp/index.html">http://netbeans.org/features/cpp/index.html</a></p>
<p>如果使用苹果Mac系统，毫无疑问XCode就是编程的绝佳选择，XCode可以在苹果开发者网站上免费下载，在IPhone SDK中也包含了XCode。</p>
<p>主页：<a href="http://developer.apple.com/technologies/tools/xcode.html">http://developer.apple.com/technologies/tools/xcode.html</a></p>
<p>如果手头没有合适的编程环境，还需要实验一些简单的代码，可以用<a href="http://codepad.org/%E6%8F%90%E4%BE%9B%E7%9A%84%E6%9C%8D%E5%8A%A1%EF%BC%8C%E5%9C%A8%E7%BA%BF%E7%BC%96%E5%86%99%E8%BF%90%E8%A1%8C%E4%BB%A3%E7%A0%81%E3%80%82">http://codepad.org/提供的服务，在线编写运行代码。</a></p>
<p>另外建议大家申请一个github.com的账号，在gist.github.com可以保存自己的练习代码，就不需要随身带着U盘了。</p>
<h2 id="C语言编程电子书及教程："><a href="#C语言编程电子书及教程：" class="headerlink" title="C语言编程电子书及教程："></a>C语言编程电子书及教程：</h2><ul>
<li><a href="http://publications.gbdirect.co.uk/c_book/">http://publications.gbdirect.co.uk/c_book/</a> 这一本写的非常详细，你可以把它看成是类似谭浩强版的教科书。</li>
<li><a href="http://www.knosof.co.uk/cbook/cbook.html">http://www.knosof.co.uk/cbook/cbook.html</a> 这一本云风曾经推荐过，相当深入的介绍了C99标准，深入细节时候需要读读。</li>
<li><a href="http://www.duckware.com/bugfreec/index.html">http://www.duckware.com/bugfreec/index.html</a> 这本书在网上流传一个中文版本，《编写优化、高效、无错地代码》，另外也有英文影印版《编程精粹》。</li>
<li><a href="http://wangcong.org/blog/?page_id=196">http://wangcong.org/blog/?page_id=196</a> 作者王聪，也是相当hard geek，从两个样章看，包含了相当多的内容。</li>
<li>《C语言深度解剖》这本可以在百度文库或google搜到，可以读读，有些参考性。</li>
<li>《C标准和实现》作者姚新颜，他的《深度探索C、C++》算是当年比较有深度的书籍，可惜已经绝版了。这本书也可以在百度文库搜到。这本书也比较值得读。</li>
<li>良葛格C语言学习笔记 <a href="http://caterpillar.onlyfun.net/Gossip/CGossip/CGossip.html">http://caterpillar.onlyfun.net/Gossip/CGossip/CGossip.html</a></li>
<li>C与C++的兼容性问题 <a href="http://en.wikipedia.org/wiki/Compatibility_of_C_and_C%2B%2B">http://en.wikipedia.org/wiki/Compatibility_of_C_and_C%2B%2B</a></li>
<li>另一个文档关于C与C++标准兼容性问题：<a href="http://david.tribble.com/text/cdiffs.htm">http://david.tribble.com/text/cdiffs.htm</a></li>
<li>《C Elements of Style》<a href="http://www.oualline.com/books.free/style/index.html">http://www.oualline.com/books.free/style/index.html</a></li>
<li>《Linux安全编程》<a href="http://www.dwheeler.com/secure-programs/">http://www.dwheeler.com/secure-programs/</a></li>
<li>《C Craft》电子版 <a href="http://crypto.stanford.edu/~blynn/c/">http://crypto.stanford.edu/~blynn/c/</a></li>
<li>《The function pointer tutorials》函数指针教程。<a href="http://www.newty.de/fpt/index.html">http://www.newty.de/fpt/index.html</a></li>
<li>C语言编程及Unix系统调用，想用C在Unix或者Linux编程的朋友可以参考。<a href="http://www.cs.cf.ac.uk/Dave/C/">http://www.cs.cf.ac.uk/Dave/C/</a></li>
<li>优化C、C++代码<a href="http://www.eventhelix.com/RealtimeMantra/Basics/OptimizingCAndCPPCode.htm">http://www.eventhelix.com/RealtimeMantra/Basics/OptimizingCAndCPPCode.htm</a></li>
<li>图文并茂介绍C语言的指针 <a href="http://boredzo.org/pointers/">http://boredzo.org/pointers/</a></li>
<li>另外一篇介绍C语言优化的文章 <a href="http://www.prism.uvsq.fr/~cedb/local_copies/lee.html">http://www.prism.uvsq.fr/~cedb/local_copies/lee.html</a></li>
<li>一个C语言教学ppt <a href="http://www.slideshare.net/petdance/just-enough-c-for-open-source-programmers">http://www.slideshare.net/petdance/just-enough-c-for-open-source-programmers</a></li>
<li>一些Unix下C语言编程相关的文章 <a href="http://users.actcom.co.il/~choo/lupg/tutorials/index.html">http://users.actcom.co.il/~choo/lupg/tutorials/index.html</a></li>
<li>Unix下如何建立静态、动态C语言函数库 <a href="http://users.actcom.co.il/~choo/lupg/tutorials/libraries/unix-c-libraries.html">http://users.actcom.co.il/~choo/lupg/tutorials/libraries/unix-c-libraries.html</a></li>
<li>如何使用GDB <a href="http://users.actcom.co.il/~choo/lupg/tutorials/debugging/debugging-with-gdb.html">http://users.actcom.co.il/~choo/lupg/tutorials/debugging/debugging-with-gdb.html</a></li>
<li>一些C语言编程技巧 <a href="http://users.bestweb.net/~ctips/">http://users.bestweb.net/~ctips/</a></li>
<li>Advanced C programming，高级C语言编程，可以提高水平，非常有帮助<a href="http://www.mpi-inf.mpg.de/departments/rg1/teaching/advancedc-ws08/literature.html">http://www.mpi-inf.mpg.de/departments/rg1/teaching/advancedc-ws08/literature.html</a></li>
<li>C语言问答，这些题目也可用于面试 <a href="http://www.gowrikumar.com/c/">http://www.gowrikumar.com/c/</a></li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/02/24/c-file-type/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/02/24/c-file-type/" class="post-title-link" itemprop="url">C语言 gcc对文件扩展名的解释</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-02-24 14:54:20" itemprop="dateCreated datePublished" datetime="2013-02-24T14:54:20+08:00">2013-02-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
            </span>

          
            <span id="/2013/02/24/c-file-type/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 gcc对文件扩展名的解释" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/02/24/c-file-type/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/02/24/c-file-type/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/02/24/c-file-type/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/02/24/c-file-type/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="gcc对文件扩展名的解释"><a href="#gcc对文件扩展名的解释" class="headerlink" title="gcc对文件扩展名的解释"></a>gcc对文件扩展名的解释</h1><ul>
<li>.c：c语言源代码</li>
<li>.cc：c++源代码</li>
<li>.i：预处理后的C源代码</li>
<li>.ii：预处理后的C++源代码</li>
<li>.S，.s：汇编语言源代码</li>
<li>.o：编译后的目标代码</li>
<li>.a，.so：编译后的库代码</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/02/18/dell/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/02/18/dell/" class="post-title-link" itemprop="url">Dell 显示器型号</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-02-18 12:47:00" itemprop="dateCreated datePublished" datetime="2013-02-18T12:47:00+08:00">2013-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Dell/" itemprop="url" rel="index"><span itemprop="name">Dell</span></a>
                </span>
            </span>

          
            <span id="/2013/02/18/dell/" class="post-meta-item leancloud_visitors" data-flag-title="Dell 显示器型号" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/02/18/dell/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/02/18/dell/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/02/18/dell/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/02/18/dell/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="前缀："><a href="#前缀：" class="headerlink" title="前缀："></a>前缀：</h2><ul>
<li>UP=Ultra-sharp with Premier color 最高端、出厂带校正颜色</li>
<li>U=Ultra-sharp 最高端</li>
<li>P=Productivity 生产力，面向商用</li>
<li>S=Stylish 时尚，面向家用</li>
<li>E=Essential 基本款</li>
</ul>
<h2 id="四位数字："><a href="#四位数字：" class="headerlink" title="四位数字："></a>四位数字：</h2><ul>
<li>前两位=尺寸后两位=首发财年（比实际年份晚一年左右）</li>
</ul>
<h2 id="后缀："><a href="#后缀：" class="headerlink" title="后缀："></a>后缀：</h2><ul>
<li>H：FullHD 1920*1080，16：9</li>
<li>M：WUXGA 1920*1200，16：10</li>
<li>Q：4K</li>
<li>W：Wide 21：9 带鱼屏</li>
<li>D：QHD 2560*1440</li>
</ul>
<p>作者：王昭<br>链接：<a href="https://www.zhihu.com/question/23978102/answer/293333495">https://www.zhihu.com/question/23978102/answer/293333495</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/02/12/linux-dup2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/02/12/linux-dup2/" class="post-title-link" itemprop="url">复制文件描述符的`dup2` 函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-02-12 23:28:00" itemprop="dateCreated datePublished" datetime="2013-02-12T23:28:00+08:00">2013-02-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
            </span>

          
            <span id="/2013/02/12/linux-dup2/" class="post-meta-item leancloud_visitors" data-flag-title="复制文件描述符的`dup2` 函数" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/02/12/linux-dup2/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/02/12/linux-dup2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/02/12/linux-dup2/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/02/12/linux-dup2/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="复制文件描述符的dup2-函数"><a href="#复制文件描述符的dup2-函数" class="headerlink" title="复制文件描述符的dup2 函数"></a>复制文件描述符的<code>dup2</code> 函数</h1><p><code>dup2</code> 是 Unix/Linux 系统中用于复制文件描述符的函数，它允许将一个文件描述符复制到另一个文件描述符上，实现输入输出流的重定向操作，比如将<code>stdout</code>重定向到一个文件，亦或者是把一个文件作为输入来对待。</p>
<h2 id="函数原型与头文件"><a href="#函数原型与头文件" class="headerlink" title="函数原型与头文件"></a><strong>函数原型与头文件</strong></h2><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">dup2</span><span class="params">(<span class="type">int</span> oldfd, <span class="type">int</span> newfd)</span>;</span><br></pre></td></tr></tbody></table></figure>



<h3 id="参数说明"><a href="#参数说明" class="headerlink" title="参数说明"></a><strong>参数说明</strong></h3><ul>
<li>**<code>oldfd</code>**：需要复制的源文件描述符（比如已经打开的文件、管道、套接字等）。</li>
<li>**<code>newfd</code>**：目标文件描述符，用于接收<code>oldfd</code>的副本或者重定向的描述符。若<code>newfd</code>已打开，系统会先关闭它，再进行复制。</li>
</ul>
<h3 id="返回值"><a href="#返回值" class="headerlink" title="返回值"></a><strong>返回值</strong></h3><ul>
<li>成功时：返回新的文件描述符（即<code>newfd</code>，若<code>newfd</code>之前已关闭则可能返回其他值）。</li>
<li>失败时：返回<code>-1</code>，并设置<code>errno</code>错误码（如<code>EBADF</code>表示<code>oldfd</code>无效，<code>EMFILE</code>表示文件描述符耗尽）。</li>
</ul>
<h2 id="核心功能与原理"><a href="#核心功能与原理" class="headerlink" title="核心功能与原理"></a><strong>核心功能与原理</strong></h2><p><code>dup2</code> 的核心作用是让<code>newfd</code>成为<code>oldfd</code>的副本，即让两个文件描述符指向同一个文件表项，从而共享文件偏移量和状态标志。例如：</p>
<ul>
<li>将<code>newfd</code>重定向为<code>oldfd</code>的副本后，对<code>newfd</code>的读写操作等同于对<code>oldfd</code>的操作。</li>
<li>常见场景是重定向标准输入（<code>STDIN_FILENO=0</code>）、标准输出（<code>STDOUT_FILENO=1</code>）、标准错误（<code>STDERR_FILENO=2</code>）。</li>
</ul>
<h2 id="示例1：重定向标准输出到文件"><a href="#示例1：重定向标准输出到文件" class="headerlink" title="示例1：重定向标准输出到文件"></a><strong>示例1：重定向标准输出到文件</strong></h2><p>下面的这个程序会将原本输出到终端的重定向输出到一个文件。</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @file linux-dup2-to-file.c</span></span><br><span class="line"><span class="comment"> * @brief redirect stdout to file</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> {</span><br><span class="line">    <span class="type">int</span> fd, old_stdout;</span><br><span class="line">    <span class="type">char</span> *filename = <span class="string">"dup2-to-file-output.txt"</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// keep the original stdout for restore</span></span><br><span class="line">    old_stdout = dup(STDOUT_FILENO);</span><br><span class="line">    <span class="keyword">if</span> (old_stdout == <span class="number">-1</span>) {</span><br><span class="line">        perror(<span class="string">"dup failed"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// open the file for writing</span></span><br><span class="line">    fd = open(filename, O_CREAT | O_WRONLY | O_TRUNC, <span class="number">0644</span>);</span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) {</span><br><span class="line">        perror(<span class="string">"open failed"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// redirect stdout to file</span></span><br><span class="line">    <span class="keyword">if</span> (dup2(fd, STDOUT_FILENO) == <span class="number">-1</span>) {</span><br><span class="line">        perror(<span class="string">"dup2 failed"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    }</span><br><span class="line">    close(fd);  <span class="comment">// close fd, because STDOUT_FILENO is now pointing to it</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// now printf's output will be written to file</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"This text will be written to %s\n"</span>, filename);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Another line for testing...\n"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Remember to flush the buffer otherwise the output will be buffered</span></span><br><span class="line">    fflush(<span class="built_in">stdout</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// restore original stdout</span></span><br><span class="line">    <span class="keyword">if</span> (dup2(old_stdout, STDOUT_FILENO) == <span class="number">-1</span>) {</span><br><span class="line">        perror(<span class="string">"dup2 restore failed"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    }</span><br><span class="line">    <span class="comment">// close the backup descriptor</span></span><br><span class="line">    close(old_stdout);  </span><br><span class="line">    </span><br><span class="line">    <span class="comment">// after restore, output to terminal</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Now back to terminal output\n"</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>编译使用的方法如下所示：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -o linux-dup2-to-file linux-dup2-to-file.c</span><br><span class="line"></span><br><span class="line">$ ./linux-dup2-to-file       </span><br><span class="line">Now back to terminal output</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cat</span> dup2-to-file-output.txt</span><br><span class="line">This text will be written to dup2-to-file-output.txt</span><br><span class="line">Another line <span class="keyword">for</span> testing...</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>需要注意的是，在执行完操作后，需要调用<code>fflush(stdout)</code>强制刷新，不然可能不是你希望的现象。</p>
</blockquote>
<h2 id="示例2：重定向标准输入从文件"><a href="#示例2：重定向标准输入从文件" class="headerlink" title="示例2：重定向标准输入从文件"></a><strong>示例2：重定向标准输入从文件</strong></h2><p>下面的这个程序会将文件的内容作为终端输入的信息。</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @file linux-dup2-from-file.c</span></span><br><span class="line"><span class="comment"> * @brief redirect stdin from file</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdlib.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;unistd.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;fcntl.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span> {</span><br><span class="line">    <span class="type">int</span> fd, old_stdin;</span><br><span class="line">    <span class="type">char</span> *filename = <span class="string">"dup2-from-file-input.txt"</span>;</span><br><span class="line">    <span class="type">char</span> buffer[<span class="number">1024</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// keep the original stdin for restore</span></span><br><span class="line">    old_stdin = dup(STDIN_FILENO);</span><br><span class="line">    <span class="keyword">if</span> (old_stdin == <span class="number">-1</span>) {</span><br><span class="line">        perror(<span class="string">"dup failed"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// open the file for reading</span></span><br><span class="line">    fd = open(filename, O_RDONLY);</span><br><span class="line">    <span class="keyword">if</span> (fd == <span class="number">-1</span>) {</span><br><span class="line">        perror(<span class="string">"open failed"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    }</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// redirect stdin to file</span></span><br><span class="line">    <span class="keyword">if</span> (dup2(fd, STDIN_FILENO) == <span class="number">-1</span>) {</span><br><span class="line">        perror(<span class="string">"dup2 failed"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    }</span><br><span class="line">    close(fd);  <span class="comment">// close fd, because STDIN_FILENO is now pointing to it</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// now scanf will read data from file</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Reading from %s:\n"</span>, filename);</span><br><span class="line">    <span class="keyword">while</span> (fgets(buffer, <span class="keyword">sizeof</span>(buffer), <span class="built_in">stdin</span>) != <span class="literal">NULL</span>) {</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"[Read] : %s"</span>, buffer);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    fflush(<span class="built_in">stdin</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// restore original stdin</span></span><br><span class="line">    <span class="keyword">if</span> (dup2(old_stdin, STDIN_FILENO) == <span class="number">-1</span>) {</span><br><span class="line">        perror(<span class="string">"dup2 restore failed"</span>);</span><br><span class="line">        <span class="built_in">exit</span>(EXIT_FAILURE);</span><br><span class="line">    }</span><br><span class="line">    close(old_stdin);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// after restore, input from terminal</span></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n\n[Terminal] Enter something: "</span>);</span><br><span class="line">    <span class="built_in">strcpy</span>(buffer, <span class="string">"hello world"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"\n[Terminal] You entered: %s\n"</span>, buffer);</span><br><span class="line">    fflush(<span class="built_in">stdout</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>编译使用的方法如下所示：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cat</span> dup2-from-file-input.txt </span><br><span class="line">Roses are red,</span><br><span class="line">Violets are blue,</span><br><span class="line">Testing dup2,</span><br><span class="line">And stdin too.%     </span><br><span class="line"></span><br><span class="line">$ gcc -o linux-dup2-from-file  linux-dup2-from-file.c</span><br><span class="line"></span><br><span class="line">$ ./linux-dup2-from-file      </span><br><span class="line">Reading from dup2-from-file-input.txt:</span><br><span class="line">[Read] : Roses are red,</span><br><span class="line">[Read] : Violets are blue,</span><br><span class="line">[Read] : Testing dup2,</span><br><span class="line">[Read] : And stdin too.</span><br><span class="line"></span><br><span class="line">[Terminal] Enter something: </span><br><span class="line">[Terminal] You entered: hello world</span><br></pre></td></tr></tbody></table></figure>





<h2 id="与dup函数的区别"><a href="#与dup函数的区别" class="headerlink" title="与dup函数的区别"></a><strong>与<code>dup</code>函数的区别</strong></h2><p><code>dup</code> 函数（<code>int dup(int oldfd)</code>）也是用于复制文件描述符，但两者还是有一些区别的。比如<code>dup</code> 返回最小的未使用文件描述符，而<code>dup2</code>可以指定目标描述符<code>newfd</code>。</p>
<ul>
<li><pre><code>dup2(newfd, oldfd)
<figure class="highlight scss"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"> </span><br><span class="line"></span><br><span class="line">```c</span><br><span class="line"><span class="built_in">close</span>(newfd);</span><br><span class="line">return <span class="built_in">dup</span>(oldfd);</span><br></pre></td></tr></tbody></table></figure>
</code></pre>
</li>
</ul>
<h2 id="应用场景"><a href="#应用场景" class="headerlink" title="应用场景"></a><strong>应用场景</strong></h2><p>这个函数主要用在比如，IO重定向（类似于shell的<code>&gt; file</code>）、管道通信（父子进程的通信）、日志系统（同时写到终端和日志文件）或者网络编程中（将网络套接字重定向到输入和输出）。</p>
<h2 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a><strong>注意事项</strong></h2><ol>
<li><strong>文件描述符关闭顺序</strong>：重定向时若<code>newfd</code>已打开，<code>dup2</code>会先关闭它，可能导致数据丢失。</li>
<li><strong>原子性</strong>：<code>dup2</code>是原子操作，无需担心多线程环境下的竞争条件。</li>
<li><strong>资源管理</strong>：复制的描述符共享文件表项，需确保正确关闭（避免文件描述符泄漏）。</li>
<li><strong>错误处理</strong>：始终检查<code>dup2</code>的返回值，处理可能的错误（如文件不存在、权限不足）。</li>
</ol>
<p>通过合理使用<code>dup2</code>，可以灵活控制程序的输入输出流向，实现复杂的系统编程需求。</p>
<p>在实际开发中，它常与管道、套接字等结合使用，是构建进程间通信和重定向机制的核心工具。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/55/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/55/">55</a><span class="page-number current">56</span><a class="page-number" href="/page/57/">57</a><span class="space">&hellip;</span><a class="page-number" href="/page/100/">100</a><a class="extend next" rel="next" href="/page/57/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">郭大侠</p>
  <div class="site-description" itemprop="description">郭大侠的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">998</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">181</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1450</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://macshuo.com/" title="http:&#x2F;&#x2F;macshuo.com&#x2F;" rel="noopener" target="_blank">MacTalk</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://huhuidong.wordpress.com/" title="https:&#x2F;&#x2F;huhuidong.wordpress.com&#x2F;" rel="noopener" target="_blank">小胡</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2007 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郭大侠</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz","app_key":"NTHrGJp71GzEGvNUEUFumVcR","server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://shaoguangleo.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz',
      appKey     : 'NTHrGJp71GzEGvNUEUFumVcR',
      placeholder: "路过，即是缘分...",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
