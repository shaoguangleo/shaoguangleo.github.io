<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"shaoguangleo.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="郭大侠的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="浩瀚宇宙 灿烂星空">
<meta property="og:url" content="http://shaoguangleo.github.io/page/55/index.html">
<meta property="og:site_name" content="浩瀚宇宙 灿烂星空">
<meta property="og:description" content="郭大侠的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="郭大侠">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://shaoguangleo.github.io/page/55/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>浩瀚宇宙 灿烂星空</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=a8cfacb0a536bd846d2fd545cedb4d61"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'a8cfacb0a536bd846d2fd545cedb4d61');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a8cfacb0a536bd846d2fd545cedb4d61";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="浩瀚宇宙 灿烂星空" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">浩瀚宇宙 灿烂星空</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">工作和生活中的七七八八</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/12/linux-killall-beginner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/12/linux-killall-beginner/" class="post-title-link" itemprop="url">一个不留 的 killall</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-12 22:28:00" itemprop="dateCreated datePublished" datetime="2013-03-12T22:28:00+08:00">2013-03-12</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2013/03/12/linux-killall-beginner/" class="post-meta-item leancloud_visitors" data-flag-title="一个不留 的 killall" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/12/linux-killall-beginner/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/12/linux-killall-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/12/linux-killall-beginner/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/12/linux-killall-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="一个不留-的-killall"><a href="#一个不留-的-killall" class="headerlink" title="一个不留 的 killall"></a>一个不留 的 killall</h1><p>.. _linux-beginner-killall:</p>
<p>.. note::<br>  及时当勉励，岁月不待人。<br>  陶渊明《杂诗·人生无根蒂》</p>
<h2 id="命令概述"><a href="#命令概述" class="headerlink" title="命令概述"></a>命令概述</h2><p>在Linux系统中，有许多命令可用于进程管理和控制。</p>
<p>其中一个常用的命令是<code>killall</code>，它允许用户通过进程名字来终止运行中的进程。</p>
<p>官方定义为：</p>
<blockquote>
<p> killall – kill processes by name</p>
</blockquote>
<p><code>killall</code>命令用于向操作系统发送信号以终止指定进程。与<code>kill</code>命令不同，<code>killall</code>根据进程名字而不是进程ID来选择要终止的进程。这对于同时终止多个同名进程非常有用。</p>
<p>超级管理员可以kill掉任何进程。</p>
<h2 id="基本语法"><a href="#基本语法" class="headerlink" title="基本语法"></a>基本语法</h2><p><code>killall</code>命令的基本语法如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ killall [选项] 进程名</span><br></pre></td></tr></tbody></table></figure>

<p>可以使用以下选项对<code>killall</code>命令进行调整：</p>
<ul>
<li><code>-i</code>：交互式模式，要求用户确认终止每个进程。</li>
<li><code>-e</code>：精确匹配进程名，不匹配进程名的任何子串。</li>
<li><code>-s</code>：指定要发送的信号类型，如<code>-s HUP</code>。</li>
<li><code>-v</code>：显示详细的终止进程的输出。</li>
</ul>
<h2 id="使用示例"><a href="#使用示例" class="headerlink" title="使用示例"></a>使用示例</h2><h3 id="终止单个进程"><a href="#终止单个进程" class="headerlink" title="终止单个进程"></a>终止单个进程</h3><p>要终止单个进程，可以使用以下命令：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ killall 进程名</span><br></pre></td></tr></tbody></table></figure>

<p>比如：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ killall firefox</span><br></pre></td></tr></tbody></table></figure>



<p>这将终止所有名为<code>firefox</code>的进程。</p>
<h3 id="终止多个进程"><a href="#终止多个进程" class="headerlink" title="终止多个进程"></a>终止多个进程</h3><p>要同时终止多个同名进程，可以使用以下命令：</p>
<figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>killall -r 进程名</span><br></pre></td></tr></tbody></table></figure>

<p>示例：</p>
<figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>killall -r chrome</span><br></pre></td></tr></tbody></table></figure>

<p>这将终止所有以<code>chrome</code>为名的进程，包括<code>chrome</code>和<code>chromium</code>等等。</p>
<h3 id="交互式模式"><a href="#交互式模式" class="headerlink" title="交互式模式"></a>交互式模式</h3><p>使用<code>-i</code>选项可以在终止每个进程之前要求用户确认。示例：</p>
<figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ </span>killall -i firefox</span><br></pre></td></tr></tbody></table></figure>

<p>在执行此命令时，系统将逐个显示要终止的进程，并要求用户确认是否继续，这个对于不确定是否一定中止的优点用哟。</p>
<h3 id="指定信号类型"><a href="#指定信号类型" class="headerlink" title="指定信号类型"></a>指定信号类型</h3><p>可以使用<code>-s</code>选项来指定要发送的信号类型。示例：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ killall -s HUP nginx</span><br></pre></td></tr></tbody></table></figure>

<p>这将向所有名为<code>nginx</code>的进程发送<code>HUP</code>信号，以重新加载配置。</p>
<h2 id="综上"><a href="#综上" class="headerlink" title="综上"></a>综上</h2><p><code>killall</code>命令是一个强大的进程管理工具，可帮助用户终止指定名称的进程。它简化了终止多个同名进程的操作，并提供了一些有用的选项，如交互式模式和指定信号类型。在日常的系统管理和故障排除中，<code>killall</code>是一个重要的工具，</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/08/c-autoacceleration/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/08/c-autoacceleration/" class="post-title-link" itemprop="url">C语言 assert的使用</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-08 19:47:00" itemprop="dateCreated datePublished" datetime="2013-03-08T19:47:00+08:00">2013-03-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <span id="/2013/03/08/c-autoacceleration/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 assert的使用" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/08/c-autoacceleration/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/08/c-autoacceleration/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/08/c-autoacceleration/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/08/c-autoacceleration/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="i-和-i的区别"><a href="#i-和-i的区别" class="headerlink" title="i++和++i的区别"></a>i++和++i的区别</h1><p>i++:对i增加1，但返回的是原来的未增加的值；</p>
<p>++i:在i存储的值上增加1并向使用它的表达式“返回”新的、增加后的值；</p>
<blockquote>
<p>Mark：在c++中应该优先使用++i。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/08/c-cpp-doxygen-comments/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/08/c-cpp-doxygen-comments/" class="post-title-link" itemprop="url">C语言 基于Doxygen的C/C++注释原则</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-08 19:47:00" itemprop="dateCreated datePublished" datetime="2013-03-08T19:47:00+08:00">2013-03-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <span id="/2013/03/08/c-cpp-doxygen-comments/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 基于Doxygen的C/C++注释原则" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/08/c-cpp-doxygen-comments/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/08/c-cpp-doxygen-comments/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/08/c-cpp-doxygen-comments/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/08/c-cpp-doxygen-comments/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="基于Doxygen的C-x2F-C-注释原则"><a href="#基于Doxygen的C-x2F-C-注释原则" class="headerlink" title="基于Doxygen的C/C++注释原则"></a>基于Doxygen的C/C++注释原则</h1><p>#define OST_TIMESTAMP                <strong>DATE</strong> “ “ <strong>TIME</strong></p>
<figure class="highlight php"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment">## 1. 文件头的标注</span></span><br><span class="line"></span><br><span class="line">```c</span><br><span class="line"><span class="comment">/*****************************************************************************</span></span><br><span class="line"><span class="comment">*  The ATAS Library                                                          *</span></span><br><span class="line"><span class="comment">*  Copyright (C) 2010 Shaoguang Guo  sgguo<span class="doctag">@shao</span>.ac.cn                        *</span></span><br><span class="line"><span class="comment">*                                                                            *</span></span><br><span class="line"><span class="comment">*                                                                            *</span></span><br><span class="line"><span class="comment">*  This program is free software; you can redistribute it and/or modify      *</span></span><br><span class="line"><span class="comment">*  it under the terms of the GNU General Public License version 3 as         *</span></span><br><span class="line"><span class="comment">*  published by the Free Software Foundation.                                *</span></span><br><span class="line"><span class="comment">*                                                                            *</span></span><br><span class="line"><span class="comment">*  You should have received a copy of the GNU General Public License         *</span></span><br><span class="line"><span class="comment">*  along with SHAO. If not, see &lt;http://www.gnu.org/licenses/&gt;.              *</span></span><br><span class="line"><span class="comment">*                                                                            *</span></span><br><span class="line"><span class="comment">*  Unless required by applicable law or agreed to in writing, software       *</span></span><br><span class="line"><span class="comment">*  distributed under the License is distributed on an "AS IS" BASIS,         *</span></span><br><span class="line"><span class="comment">*  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.  *</span></span><br><span class="line"><span class="comment">*  See the License for the specific language governing permissions and       *</span></span><br><span class="line"><span class="comment">*  limitations under the License.                                            *</span></span><br><span class="line"><span class="comment">*                                                                            *</span></span><br><span class="line"><span class="comment">*  <span class="doctag">@file</span>     Example.h                                                       *</span></span><br><span class="line"><span class="comment">*  <span class="doctag">@brief</span>    brief introduction                                              *</span></span><br><span class="line"><span class="comment">*  Details.                                                                  *</span></span><br><span class="line"><span class="comment">*                                                                            *</span></span><br><span class="line"><span class="comment">*  <span class="doctag">@author</span>   Shaoguang Guo                                                   *</span></span><br><span class="line"><span class="comment">*  <span class="doctag">@email</span>    sgguo<span class="doctag">@shao</span>.ac.cn                                                *</span></span><br><span class="line"><span class="comment">*  <span class="doctag">@version</span>  0.1(version)                                                    *</span></span><br><span class="line"><span class="comment">*  <span class="doctag">@date</span>     2010.07.16                                                      *</span></span><br><span class="line"><span class="comment">*  <span class="doctag">@license</span>  GNU General Public License (GPL)                                *</span></span><br><span class="line"><span class="comment">*                                                                            *</span></span><br><span class="line"><span class="comment">*----------------------------------------------------------------------------*</span></span><br><span class="line"><span class="comment">*  Remark         : Description                                              *</span></span><br><span class="line"><span class="comment">*----------------------------------------------------------------------------*</span></span><br><span class="line"><span class="comment">*  Change History : &lt; can omit if using VCS &gt;                                *</span></span><br><span class="line"><span class="comment">*  &lt;Date&gt;     | &lt;Version&gt; | &lt;Author&gt;       | &lt;Description&gt;                   *</span></span><br><span class="line"><span class="comment">*----------------------------------------------------------------------------*</span></span><br><span class="line"><span class="comment">*  2010/07/16 |   0.1     | Shaoguang Guo  | Init the repo                   *</span></span><br><span class="line"><span class="comment">*----------------------------------------------------------------------------*</span></span><br><span class="line"><span class="comment">*                                                                            *</span></span><br><span class="line"><span class="comment">*****************************************************************************/</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="2-命名空间"><a href="#2-命名空间" class="headerlink" title="2.命名空间"></a>2.命名空间</h2><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @brief 命名空间的简单概述 \n(换行)</span></span><br><span class="line"><span class="comment">* 命名空间的详细概述</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">namespace OST</span><br><span class="line">{</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="3-类、结构、枚举标注"><a href="#3-类、结构、枚举标注" class="headerlink" title="3. 类、结构、枚举标注"></a>3. 类、结构、枚举标注</h2><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @brief 类的简单概述 \n(换行)</span></span><br><span class="line"><span class="comment">* 类的详细概述</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">};</span><br></pre></td></tr></tbody></table></figure>

<p>枚举类型定义、结构体类型定义注释风格类似</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @brief 简要说明文字</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> 结构体名字</span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">   成员<span class="number">1</span>, <span class="comment">/*!&lt; 简要说明文字 */</span> or <span class="comment">///&lt;说明， /**&lt;说明 */ 如果不加&lt;，则会认为是成员2的注释</span></span><br><span class="line">   成员<span class="number">2</span>, <span class="comment">/*!&lt; 简要说明文字 */</span> or <span class="comment">///&lt;说明， /**&lt;说明 */</span></span><br><span class="line">   成员<span class="number">3</span>, <span class="comment">/*!&lt; 简要说明文字 */</span> or <span class="comment">///&lt;说明， /**&lt;说明 */</span></span><br><span class="line">}结构体别名；</span><br></pre></td></tr></tbody></table></figure>

<h2 id="4-函数注释原则"><a href="#4-函数注释原则" class="headerlink" title="4. 函数注释原则"></a>4. 函数注释原则</h2><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @brief 函数简要说明-测试函数</span></span><br><span class="line"><span class="comment">* @param index    参数1</span></span><br><span class="line"><span class="comment">* @param t            参数2 @see CTest</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* @return 返回说明</span></span><br><span class="line"><span class="comment">*        -&lt;em&gt;false&lt;/em&gt; fail</span></span><br><span class="line"><span class="comment">*        -&lt;em&gt;true&lt;/em&gt; succeed</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></tbody></table></figure>

<pre><code>bool Test(int index, const CTest&amp; t);

note：指定函数注意项事或重要的注解指令操作符
note格式如下：
        @note 简要说明

retval：指定函数返回值说明指令操作符。(注:更前面的return有点不同.这里是返回值说明)
retval格式如下：
        @retval 返回值 简要说明

pre：指定函数前置条件指令操作符
pre格式如下：
        @pre 简要说明

par：指定扩展性说明指令操作符讲。（它一般跟code、endcode一起使用 ）
par格式如下：
      @par 扩展名字

code、endcode：指定
code、endcode格式如下：
        @code
            简要说明(内容)
        @endcode

see：指定参考信息。
see格式如下：
        @see 简要参考内容

deprecated：指定函数过时指令操作符。
deprecated格式如下：
      @deprecated 简要说明　
</code></pre>
<p>　　调试Bug说明<br>　　　　解决的bug说明，@bug<br>　　警告说明 (warning)<br>　　　　定义一些关于这个函数必须知道的事情，@warning<br>　　备注说明 (remarks)<br>　　　　定义一些关于这个函数的备注信息，@remarks<br>　　将要完成的工作 (todo)<br>　　　　说明哪些事情将在不久以后完成，@todo<br>　　使用例子说明 (example)<br>　　　　例子说明，@example example.cpp</p>
<h2 id="5-变量注释"><a href="#5-变量注释" class="headerlink" title="5. 变量注释"></a>5. 变量注释</h2><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">/// 简述</span></span><br><span class="line">  <span class="comment">/** 详细描述. */</span></span><br><span class="line">  或者</span><br><span class="line">  <span class="comment">//! 简述</span></span><br><span class="line">  <span class="comment">//! 详细描述</span></span><br><span class="line">  <span class="comment">//! 从这里开始</span></span><br><span class="line">  <span class="type">int</span> m_variable_1; <span class="comment">///&lt; 成员变量m_variable_1说明</span></span><br><span class="line">  <span class="type">int</span> m_variable_2; <span class="comment">///&lt; 成员变量m_variable_1说明</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @brief 成员变量m_c简要说明</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* 成员变量m_variable_3的详细说明，这里可以对变量进行</span></span><br><span class="line"><span class="comment">* 详细的说明和描述，具体方法和函数的标注是一样的</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">bool</span> m_variable_3;</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>如果变量需要详细说明的可已按照m_varibale_3的写法写，注意，m_variable_2和m_variable_3之间一定需要空行，否则会导致m_variable_2的简述消失</p>
</blockquote>
<h2 id="6-模块标注"><a href="#6-模块标注" class="headerlink" title="6. 模块标注"></a>6. 模块标注</h2><p>模块定义格式:</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @defgroup 模块名  页的标题名 (模块名只能英文,这个可以随便取.在一个源文件里不能相同)</span></span><br><span class="line"><span class="comment">* @{ (跟c语言{一样起作用域功能)</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">… 定义的内容 …</span><br><span class="line"><span class="comment">/** @} */</span></span><br><span class="line"></span><br><span class="line">例：</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @defgroup HenryWen Example.cpp</span></span><br><span class="line"><span class="comment">* @{</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">  … 定义的内容 …</span><br><span class="line"><span class="comment">/** @} */</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="7-分组标注"><a href="#7-分组标注" class="headerlink" title="7. 分组标注"></a>7. 分组标注</h2><p>分组定义格式：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @name 分组说明文字</span></span><br><span class="line"><span class="comment">* @{</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">… 定义的内容 …</span><br><span class="line"><span class="comment">/** @} */</span></span><br><span class="line"></span><br><span class="line">例：</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @name PI常量</span></span><br><span class="line"><span class="comment">* @{</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">define</span> PI 3.1415926737</span></span><br><span class="line"><span class="comment">/** @} */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* @name 数组固定长度常量</span></span><br><span class="line"><span class="comment">* @{</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="type">const</span> <span class="type">int</span> g_ARRAY_MAX = <span class="number">1024</span>;</span><br><span class="line"><span class="comment">/** @} */</span></span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/08/c-sizeof-strlen/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/08/c-sizeof-strlen/" class="post-title-link" itemprop="url">C语言 sizeof和strlen的区别</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-08 12:47:00" itemprop="dateCreated datePublished" datetime="2013-03-08T12:47:00+08:00">2013-03-08</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/C/" itemprop="url" rel="index"><span itemprop="name">C++</span></a>
                </span>
            </span>

          
            <span id="/2013/03/08/c-sizeof-strlen/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 sizeof和strlen的区别" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/08/c-sizeof-strlen/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/08/c-sizeof-strlen/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/08/c-sizeof-strlen/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/08/c-sizeof-strlen/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="sizeof和strlen的区别"><a href="#sizeof和strlen的区别" class="headerlink" title="sizeof和strlen的区别"></a>sizeof和strlen的区别</h1><p><code>sizeof</code>函数返回的是变量声明后所占的内存数，不是实际长度；</p>
<p><code>sizeof</code>是一个编译时执行的运算符，所以它不会导致额外的运行时开销。</p>
<p><code>strlen</code>函数求的是字符串的实际长度;</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/07/linux-passwd-beginner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/07/linux-passwd-beginner/" class="post-title-link" itemprop="url">不要告诉别人的passwd</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-07 23:11:00" itemprop="dateCreated datePublished" datetime="2013-03-07T23:11:00+08:00">2013-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2013/03/07/linux-passwd-beginner/" class="post-meta-item leancloud_visitors" data-flag-title="不要告诉别人的passwd" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/07/linux-passwd-beginner/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/07/linux-passwd-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/07/linux-passwd-beginner/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/07/linux-passwd-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="不要告诉别人的passwd"><a href="#不要告诉别人的passwd" class="headerlink" title="不要告诉别人的passwd"></a>不要告诉别人的passwd</h1><p><code>passwd</code>用于创建或者更新用户密码，是管理员必备的命令之一。</p>
<p>这个命令最终的实现是通过调用Linux-PAM 和Libuser API来实现的。</p>
<p>官方的定义为：</p>
<blockquote>
<p>passwd - update user’s authentication tokens</p>
</blockquote>
<p>使用的方法为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ passwd [-k] [-l] [-u [-f]] [-d] [-e] [-n mindays] [-x maxdays] [-w warndays] [-i inactivedays] [-S] [--stdin] [username]</span><br></pre></td></tr></tbody></table></figure>

<p>其中很常用的options为：</p>
<ul>
<li><code>-S, --status</code>：显示密码的状态信息</li>
<li><code>-d, --delete</code>：删除用户密码，此时该用户将处于无密码状态</li>
</ul>
<p>不太常用的options为：</p>
<ul>
<li><code>--stdin</code>：可以通过标准输入，亦可以为一个pipe</li>
<li><code>-l, --lock</code>：锁定账号，不过也不是完全锁定，因为用户可以通过ssh key来继续访问</li>
<li><code>-u, --unlock</code>：与上面的<code>-l</code>选项相反，属于解锁用户</li>
<li><code>-w, --warning DAYS</code>：口令到期前通知用户，具备password lifetime的才支持</li>
</ul>
<h2 id="修改或更新密码"><a href="#修改或更新密码" class="headerlink" title="修改或更新密码"></a>修改或更新密码</h2><p>这个是最常用的用法，用于设置或者修改更新用户密码</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> passwd user  		<span class="comment">#设置用户user的密码</span></span><br><span class="line">Enter new UNIX password:  	<span class="comment">#输入新密码，输入的密码不显示</span></span><br><span class="line">Retype new UNIX password:  	<span class="comment">#再次输入确认密码</span></span><br><span class="line">passwd: password updated successfully</span><br><span class="line"><span class="comment"># 此时设置成功</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="删除用户密码"><a href="#删除用户密码" class="headerlink" title="删除用户密码"></a>删除用户密码</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> passwd -d user </span><br><span class="line">passwd: password expiry information changed.</span><br></pre></td></tr></tbody></table></figure>

<p>此时用户处于无密码的状态，很类似最近说的，没有密码就是最安全的密码。</p>
<h2 id="查看密码的状态"><a href="#查看密码的状态" class="headerlink" title="查看密码的状态"></a>查看密码的状态</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> passwd -S user</span><br><span class="line">[<span class="built_in">sudo</span>] password <span class="keyword">for</span> oper: </span><br><span class="line">user PS 2013-02-11 0 99999 7 -1 (Password <span class="built_in">set</span>, SHA512 crypt.)</span><br></pre></td></tr></tbody></table></figure>



<p>​      </p>
<p>说到密码，有两个比较<strong>重要的原则</strong>：</p>
<ol>
<li>保护好你的密码，不写下来而是记在脑海里，定时修改；</li>
<li>选择一个很难猜的密码，而不是最容易被攻破的top密码；</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/07/linux-passwd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/07/linux-passwd/" class="post-title-link" itemprop="url">Linux passwd</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-07 23:11:00" itemprop="dateCreated datePublished" datetime="2013-03-07T23:11:00+08:00">2013-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2013/03/07/linux-passwd/" class="post-meta-item leancloud_visitors" data-flag-title="Linux passwd" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/07/linux-passwd/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/07/linux-passwd/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/07/linux-passwd/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/07/linux-passwd/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="linux中创建或更新用户密码"><a href="#linux中创建或更新用户密码" class="headerlink" title="linux中创建或更新用户密码"></a>linux中创建或更新用户密码</h1><p><code>passwd</code>用于创建或者更新用户密码，是管理员必备的命令之一。</p>
<p>这个命令最终的实现是通过调用Linux-PAM 和Libuser API来实现的。</p>
<p>官方的定义为：</p>
<blockquote>
<p>passwd - update user’s authentication tokens</p>
</blockquote>
<p>使用的方法为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ passwd [-k] [-l] [-u [-f]] [-d] [-e] [-n mindays] [-x maxdays] [-w warndays] [-i inactivedays] [-S] [--stdin] [username]</span><br></pre></td></tr></tbody></table></figure>

<p>其中很常用的options为：</p>
<ul>
<li><code>-S, --status</code>：显示密码的状态信息</li>
<li><code>-d, --delete</code>：删除用户密码，此时该用户将处于无密码状态</li>
</ul>
<p>不太常用的options为：</p>
<ul>
<li><code>--stdin</code>：可以通过标准输入，亦可以为一个pipe</li>
<li><code>-l, --lock</code>：锁定账号，不过也不是完全锁定，因为用户可以通过ssh key来继续访问</li>
<li><code>-u, --unlock</code>：与上面的<code>-l</code>选项相反，属于解锁用户</li>
<li><code>-w, --warning DAYS</code>：口令到期前通知用户，具备password lifetime的才支持</li>
</ul>
<h2 id="修改或更新密码"><a href="#修改或更新密码" class="headerlink" title="修改或更新密码"></a>修改或更新密码</h2><p>这个是最常用的用法，用于设置或者修改更新用户密码</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> passwd user  		<span class="comment">#设置用户user的密码</span></span><br><span class="line">Enter new UNIX password:  	<span class="comment">#输入新密码，输入的密码不显示</span></span><br><span class="line">Retype new UNIX password:  	<span class="comment">#再次输入确认密码</span></span><br><span class="line">passwd: password updated successfully</span><br><span class="line"><span class="comment"># 此时设置成功</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="删除用户密码"><a href="#删除用户密码" class="headerlink" title="删除用户密码"></a>删除用户密码</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> passwd -d user </span><br><span class="line">passwd: password expiry information changed.</span><br></pre></td></tr></tbody></table></figure>

<p>此时用户处于无密码的状态，很类似最近说的，没有密码就是最安全的密码。</p>
<h2 id="查看密码的状态"><a href="#查看密码的状态" class="headerlink" title="查看密码的状态"></a>查看密码的状态</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> passwd -S user</span><br><span class="line">[<span class="built_in">sudo</span>] password <span class="keyword">for</span> oper: </span><br><span class="line">user PS 2013-02-11 0 99999 7 -1 (Password <span class="built_in">set</span>, SHA512 crypt.)</span><br></pre></td></tr></tbody></table></figure>



<p>​      </p>
<p>说到密码，有两个比较<strong>重要的原则</strong>：</p>
<ol>
<li>保护好你的密码，不写下来而是记在脑海里，定时修改；</li>
<li>选择一个很难猜的密码，而不是最容易被攻破的top密码；</li>
</ol>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/07/linux-useradd-beginner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/07/linux-useradd-beginner/" class="post-title-link" itemprop="url">Linux useradd</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-07 23:11:00" itemprop="dateCreated datePublished" datetime="2013-03-07T23:11:00+08:00">2013-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2013/03/07/linux-useradd-beginner/" class="post-meta-item leancloud_visitors" data-flag-title="Linux useradd" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/07/linux-useradd-beginner/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/07/linux-useradd-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/07/linux-useradd-beginner/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/07/linux-useradd-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="linux中创建新用户useradd"><a href="#linux中创建新用户useradd" class="headerlink" title="linux中创建新用户useradd"></a>linux中创建新用户useradd</h1><p><code>useradd</code>用于创建或者更新用户账号信息，是管理员必备的命令之一。</p>
<p>官方的定义为：</p>
<blockquote>
<p>useradd - create a new user or update default new user information</p>
</blockquote>
<p>使用的方法为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ useradd [options] LOGIN</span><br><span class="line"></span><br><span class="line">$ useradd -D</span><br><span class="line">    </span><br><span class="line">$ useradd -D [options]</span><br></pre></td></tr></tbody></table></figure>


<p>在使用 -D 选项的时候，useradd 命令将使用系统默认、用户命令行指定的参数创建一个新的用户账户。依赖于命令行选项，useradd命令会更新系统文件或者创建用户的home目录并拷贝初始文件，<u>这个除非相当专业，慎用</u>。</p>
<p>默认情况下，useradd会创建一个同名的group。</p>
<p>常用的一些选项为：</p>
<ul>
<li><code>-c, --comment COMMENT</code> ：备注，通常会报错在passwd的备注栏中，一般为用户的全名。</li>
<li><code>-d, --home-dir HOME_DIR</code>：指定用户登陆时候的HOME目录</li>
<li><code>-e, --expiredate EXPIRE_DATE</code>：用户账户被禁用的日期，格式为： <u>YYYY-MM-DD</u>。如果不指定，将使用 /etc/default/useradd的值，或者默认取空不过期</li>
<li><code>-s, --shell SHELL</code>：指定登陆后使用的shell，对于不同于默认设定的shell比较有用</li>
</ul>
<h2 id="默认添加用户"><a href="#默认添加用户" class="headerlink" title="默认添加用户"></a>默认添加用户</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd username</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">id</span> username </span><br><span class="line">uid=1001(username) gid=1001(username) <span class="built_in">groups</span>=1001(username)</span><br></pre></td></tr></tbody></table></figure>

<p>正常情况下，创建用户<strong>user</strong>，会自动在<u>/home</u>目录创建，通过<code>id</code>命令可以看到有同名的group也创建了。</p>
<h2 id="加上备注"><a href="#加上备注" class="headerlink" title="加上备注"></a>加上备注</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd username -c <span class="string">"USER NAME"</span></span><br></pre></td></tr></tbody></table></figure>

<p>通过这个参数可以设置用户的备注名或者昵称，可以在<u>/etc/passwd</u>中看到，这个对于用户管理而言很方便，而GUI登陆来说比较方便，会显示备注名。</p>
<h2 id="设定登陆的目录"><a href="#设定登陆的目录" class="headerlink" title="设定登陆的目录"></a>设定登陆的目录</h2><p>默认情况下创建的目录位于/home ，但是如果希望更改到，比如/home1，那么此时使用-d参数即可，如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd  -d /home1/ username</span><br></pre></td></tr></tbody></table></figure>



<h2 id="更改默认的SHELL"><a href="#更改默认的SHELL" class="headerlink" title="更改默认的SHELL"></a>更改默认的SHELL</h2><p>有些用户可能对csh情有独钟，那么此时可以使用-s来更改，如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd -s /usr/bin/csh username</span><br></pre></td></tr></tbody></table></figure>

<p>目前默认均为bash。</p>
<h2 id="设定失效日期"><a href="#设定失效日期" class="headerlink" title="设定失效日期"></a>设定失效日期</h2><p>这个选项通常对于临时账户很有效，比如来了一个实习生，实习一个月就离开，此时2013-03-07，那么一个月以后失效的命令为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd username -e 2013-04-07</span><br></pre></td></tr></tbody></table></figure>

<p>那么一个月以后，该账户将被禁用登陆。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/07/linux-useradd/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/07/linux-useradd/" class="post-title-link" itemprop="url">Linux useradd</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-07 23:11:00" itemprop="dateCreated datePublished" datetime="2013-03-07T23:11:00+08:00">2013-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2013/03/07/linux-useradd/" class="post-meta-item leancloud_visitors" data-flag-title="Linux useradd" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/07/linux-useradd/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/07/linux-useradd/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/07/linux-useradd/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/07/linux-useradd/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="linux中创建新用户useradd"><a href="#linux中创建新用户useradd" class="headerlink" title="linux中创建新用户useradd"></a>linux中创建新用户useradd</h1><p><code>useradd</code>用于创建或者更新用户账号信息，是管理员必备的命令之一。</p>
<p>官方的定义为：</p>
<blockquote>
<p>useradd - create a new user or update default new user information</p>
</blockquote>
<p>使用的方法为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ useradd [options] LOGIN</span><br><span class="line"></span><br><span class="line">$ useradd -D</span><br><span class="line">    </span><br><span class="line">$ useradd -D [options]</span><br></pre></td></tr></tbody></table></figure>


<p>在使用 -D 选项的时候，useradd 命令将使用系统默认、用户命令行指定的参数创建一个新的用户账户。依赖于命令行选项，useradd命令会更新系统文件或者创建用户的home目录并拷贝初始文件，<u>这个除非相当专业，慎用</u>。</p>
<p>默认情况下，useradd会创建一个同名的group。</p>
<p>常用的一些选项为：</p>
<ul>
<li><code>-c, --comment COMMENT</code> ：备注，通常会报错在passwd的备注栏中，一般为用户的全名。</li>
<li><code>-d, --home-dir HOME_DIR</code>：指定用户登陆时候的HOME目录</li>
<li><code>-e, --expiredate EXPIRE_DATE</code>：用户账户被禁用的日期，格式为： <u>YYYY-MM-DD</u>。如果不指定，将使用 /etc/default/useradd的值，或者默认取空不过期</li>
<li><code>-s, --shell SHELL</code>：指定登陆后使用的shell，对于不同于默认设定的shell比较有用</li>
</ul>
<h2 id="默认添加用户"><a href="#默认添加用户" class="headerlink" title="默认添加用户"></a>默认添加用户</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd username</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">id</span> username </span><br><span class="line">uid=1001(username) gid=1001(username) <span class="built_in">groups</span>=1001(username)</span><br></pre></td></tr></tbody></table></figure>

<p>正常情况下，创建用户<strong>user</strong>，会自动在<u>/home</u>目录创建，通过<code>id</code>命令可以看到有同名的group也创建了。</p>
<h2 id="加上备注"><a href="#加上备注" class="headerlink" title="加上备注"></a>加上备注</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd username -c <span class="string">"USER NAME"</span></span><br></pre></td></tr></tbody></table></figure>

<p>通过这个参数可以设置用户的备注名或者昵称，可以在<u>/etc/passwd</u>中看到，这个对于用户管理而言很方便，而GUI登陆来说比较方便，会显示备注名。</p>
<h2 id="设定登陆的目录"><a href="#设定登陆的目录" class="headerlink" title="设定登陆的目录"></a>设定登陆的目录</h2><p>默认情况下创建的目录位于/home ，但是如果希望更改到，比如/home1，那么此时使用-d参数即可，如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd  -d /home1/ username</span><br></pre></td></tr></tbody></table></figure>



<h2 id="更改默认的SHELL"><a href="#更改默认的SHELL" class="headerlink" title="更改默认的SHELL"></a>更改默认的SHELL</h2><p>有些用户可能对csh情有独钟，那么此时可以使用-s来更改，如下：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd -s /usr/bin/csh username</span><br></pre></td></tr></tbody></table></figure>

<p>目前默认均为bash。</p>
<h2 id="设定失效日期"><a href="#设定失效日期" class="headerlink" title="设定失效日期"></a>设定失效日期</h2><p>这个选项通常对于临时账户很有效，比如来了一个实习生，实习一个月就离开，此时2013-03-07，那么一个月以后失效的命令为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> useradd username -e 2013-04-07</span><br></pre></td></tr></tbody></table></figure>

<p>那么一个月以后，该账户将被禁用登陆。</p>
<h2 id="useradd-用户名"><a href="#useradd-用户名" class="headerlink" title="useradd 用户名"></a>useradd 用户名</h2><ul>
<li>-u　 指定用户uid</li>
<li>-g 　指定用户所属主组</li>
<li>-G 　指定用户所属附属组</li>
</ul>
<ol>
<li>使用useradd时，如果后面不添加任何参数选项，例如： #sudo useradd test创建出来的用户将是默认“三无”用户：一无Home Directory，二无密码，三无系统Shell。</li>
<li>使用adduser时，创建用户的过程更像是一种人机对话，系统会提示你输入各种信息，然后会根据这些信息帮你创建新用户。</li>
<li>所以，<strong>adduser更适合初级使用者</strong>，因为不用去记那些繁琐的参数选项，只要跟着系统的提示一步一步进行下去就行，缺点就是整个创建过程比较复杂而漫长；<strong>而useradd比较适合有些高阶经验的使用者</strong>，往往一行命令加参数就能解决很多问题，所以创建起来十分方便。</li>
</ol>
<p>例1：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">useradd -d /usr/leo -m leo</span></span><br></pre></td></tr></tbody></table></figure>

<p>此命令创建了一个用户leo -d和-m选项用来为登录名leo产生一个主目录/usr/leo（/usr为默认的用户主目录所在的父目录）。</p>
<p>例2：</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">useradd -d /home/leo -s /usr/bin/bash -g leo -G admin,root leo</span></span><br></pre></td></tr></tbody></table></figure>

<p>此命令新建了一个用户leo/bin/sh，他属于group用户组，同时又属于admin和root用户组，其中group用户组是其主组。<br>这里可能新建组：groupadd group 及 groupadd admin<br>增加用户账号就是在/etc/passwd文件中为新用户增加一条记录，同时更新其他系统文件，如/etc/shadow，/etc/group等。<br>Linux提供了集成的系统管理工具userconf，他能用来对用户账号进行统一管理。</p>
<blockquote>
<p>注： 用户帐户本身在 /etc/passwd 中定义。Linux 系统包含一个 /etc/passwd 的同伴文件，叫做 /etc/shadow。该文件不像 /etc/passwd，只有对于 root 用户来说是可读的，并且包含加密的密码信息</p>
</blockquote>
<p>​       </p>
<p>OPTIONS<br>       The options which apply to the useradd command are:</p>
<pre><code>   -b, --base-dir BASE_DIR
       The default base directory for the system if -d HOME_DIR is not specified.  BASE_DIR is concatenated with the account name to define
       the home directory. If the -m option is not used, BASE_DIR must exist.

       If this option is not specified, useradd will use the base directory specified by the HOME variable in /etc/default/useradd, or
       /home by default.
       
# useradd defaults file
GROUP=100
HOME=/home
INACTIVE=-1
EXPIRE=
SHELL=/bin/bash
SKEL=/etc/skel
CREATE_MAIL_SPOOL=yes
</code></pre>
<p>​<br>​<br>​<br>​<br>​<br>       -D, –defaults<br>           See below, the subsection “Changing the default values”.</p>
<p>​<br>​<br>       -f, –inactive INACTIVE<br>           The number of days after a password expires until the account is permanently disabled. A value of 0 disables the account as soon as<br>           the password has expired, and a value of -1 disables the feature.</p>
<pre><code>       If not specified, useradd will use the default inactivity period specified by the INACTIVE variable in /etc/default/useradd, or -1
       by default.

   -g, --gid GROUP
       The group name or number of the user's initial login group. The group name must exist. A group number must refer to an already       existing group.

       If not specified, the behavior of useradd will depend on the USERGROUPS_ENAB variable in /etc/login.defs. If this variable is set to
       yes (or -U/--user-group is specified on the command line), a group will be created for the user, with the same name as her
       loginname. If the variable is set to no (or -N/--no-user-group is specified on the command line), useradd will set the primary group
       of the new user to the value specified by the GROUP variable in /etc/default/useradd, or 100 by default.

   -G, --groups GROUP1[,GROUP2,...[,GROUPN]]]
       A list of supplementary groups which the user is also a member of. Each group is separated from the next by a comma, with no
       intervening whitespace. The groups are subject to the same restrictions as the group given with the -g option. The default is for
       the user to belong only to the initial group.

   -k, --skel SKEL_DIR
       The skeleton directory, which contains files and directories to be copied in the user's home directory, when the home directory is        created by useradd.

       This option is only valid if the -m (or --create-home) option is specified.

       If this option is not set, the skeleton directory is defined by the SKEL variable in /etc/default/useradd or, by default, /etc/skel.

       If possible, the ACLs and extended attributes are copied.

   -K, --key KEY=VALUE
       Overrides /etc/login.defs defaults (UID_MIN, UID_MAX, UMASK, PASS_MAX_DAYS and others).

       Example: -K PASS_MAX_DAYS=-1 can be used when creating system account to turn off password aging, even though system account has no
       password at all. Multiple -K options can be specified, e.g.: -K UID_MIN=100  -K UID_MAX=499

   -l, --no-log-init
       Do not add the user to the lastlog and faillog databases.

       By default, the user's entries in the lastlog and faillog databases are reset to avoid reusing the entry from a previously deleted       user.

   -m, --create-home
       Create the user's home directory if it does not exist. The files and directories contained in the skeleton directory (which can be        defined with the -k option) will be copied to the home directory.

       By default, if this option is not specified and CREATE_HOME is not enabled, no home directories are created.

       The directory where the user's home directory is created must exist and have proper SELinux context and permissions. Otherwise the
       user's home directory cannot be created or accessed.

   -M, --no-create-home
       Do no create the user's home directory, even if the system wide setting from /etc/login.defs (CREATE_HOME) is set to yes.

   -N, --no-user-group
       Do not create a group with the same name as the user, but add the user to the group specified by the -g option or by the GROUP       variable in /etc/default/useradd.

       The default behavior (if the -g, -N, and -U options are not specified) is defined by the USERGROUPS_ENAB variable in       /etc/login.defs.

   -o, --non-unique
       Allow the creation of a user account with a duplicate (non-unique) UID.

       This option is only valid in combination with the -u option.

   -p, --password PASSWORD
       The encrypted password, as returned by crypt(3). The default is to disable the password.

       Note: This option is not recommended because the password (or encrypted password) will be visible by users listing the processes.

       You should make sure the password respects the system's password policy.

   -r, --system
       Create a system account.

       System users will be created with no aging information in /etc/shadow, and their numeric identifiers are chosen in the       SYS_UID_MIN-SYS_UID_MAX range, defined in /etc/login.defs, instead of UID_MIN-UID_MAX (and their GID counterparts for the creation       of groups).

       Note that useradd will not create a home directory for such a user, regardless of the default setting in /etc/login.defs       (CREATE_HOME). You have to specify the -m options if you want a home directory for a system account to be created.

   -R, --root CHROOT_DIR
       Apply changes in the CHROOT_DIR directory and use the configuration files from the CHROOT_DIR directory.

   -P, --prefix PREFIX_DIR
       Apply changes in the PREFIX_DIR directory and use the configuration files from the PREFIX_DIR directory. This option does not chroot       and is intended for preparing a cross-compilation target. Some limitations: NIS and LDAP users/groups are not verified. PAM       authentication is using the host files. No SELINUX support.
</code></pre>
<p>​<br>​<br>       -u, –uid UID<br>           The numerical value of the user’s ID. This value must be unique, unless the -o option is used. The value must be non-negative. The<br>           default is to use the smallest ID value greater than or equal to UID_MIN and greater than every other user.</p>
<pre><code>       See also the -r option and the UID_MAX description.

   -U, --user-group
       Create a group with the same name as the user, and add the user to this group.

       The default behavior (if the -g, -N, and -U options are not specified) is defined by the USERGROUPS_ENAB variable in
       /etc/login.defs.

   -Z, --selinux-user SEUSER
       The SELinux user for the user's login. The default is to leave this field blank, which causes the system to select the default
       SELinux user.
</code></pre>
<p>   Changing the default values<br>       When invoked with only the -D option, useradd will display the current default values. When invoked with -D plus other options, useradd       will update the default values for the specified options. Valid default-changing options are:</p>
<pre><code>   -b, --base-dir BASE_DIR
       The path prefix for a new user's home directory. The user's name will be affixed to the end of BASE_DIR to form the new user's home
       directory name, if the -d option is not used when creating a new account.

       This option sets the HOME variable in /etc/default/useradd.

   -e, --expiredate EXPIRE_DATE
       The date on which the user account is disabled.

       This option sets the EXPIRE variable in /etc/default/useradd.

   -f, --inactive INACTIVE
       The number of days after a password has expired before the account will be disabled.

       This option sets the INACTIVE variable in /etc/default/useradd.

   -g, --gid GROUP
       The group name or ID for a new user's initial group (when the -N/--no-user-group is used or when the USERGROUPS_ENAB variable is set
       to no in /etc/login.defs). The named group must exist, and a numerical group ID must have an existing entry.

       This option sets the GROUP variable in /etc/default/useradd.

   -s, --shell SHELL
       The name of a new user's login shell.

       This option sets the SHELL variable in /etc/default/useradd.
</code></pre>
<p>NOTES<br>       The system administrator is responsible for placing the default user files in the /etc/skel/ directory (or any other skeleton directory        specified in /etc/default/useradd or on the command line).</p>
<p>CAVEATS<br>       You may not add a user to a NIS or LDAP group. This must be performed on the corresponding server.</p>
<pre><code>   Similarly, if the username already exists in an external user database such as NIS or LDAP, useradd will deny the user account creation   request.

   Usernames may contain only lower and upper case letters, digits, underscores, or dashes. They can end with a dollar sign. Dashes are not   allowed at the beginning of the username. Fully numeric usernames and usernames . or .. are also disallowed. It is not recommended to   use usernames beginning with . character as their home directories will be hidden in the ls output. In regular expression terms:
   [a-zA-Z0-9_.][a-zA-Z0-9_.-]*[$]?

   Usernames may only be up to 32 characters long.
</code></pre>
<p>CONFIGURATION<br>       The following configuration variables in /etc/login.defs change the behavior of this tool:</p>
<pre><code>   CREATE_HOME (boolean)
       Indicate if a home directory should be created by default for new users.

       This setting does not apply to system users, and can be overridden on the command line.

   GID_MAX (number), GID_MIN (number)
       Range of group IDs used for the creation of regular groups by useradd, groupadd, or newusers.

       The default value for GID_MIN (resp.  GID_MAX) is 1000 (resp. 60000).

   MAIL_DIR (string)
       The mail spool directory. This is needed to manipulate the mailbox when its corresponding user account is modified or deleted. If
       not specified, a compile-time default is used.

   MAIL_FILE (string)
       Defines the location of the users mail spool files relatively to their home directory.

   The MAIL_DIR and MAIL_FILE variables are used by useradd, usermod, and userdel to create, move, or delete the user's mail spool.

   If MAIL_CHECK_ENAB is set to yes, they are also used to define the MAIL environment variable.

   MAX_MEMBERS_PER_GROUP (number)
       Maximum members per group entry. When the maximum is reached, a new group entry (line) is started in /etc/group (with the same name,
       same password, and same GID).

       The default value is 0, meaning that there are no limits in the number of members in a group.

       This feature (split group) permits to limit the length of lines in the group file. This is useful to make sure that lines for NIS
       groups are not larger than 1024 characters.

       If you need to enforce such limit, you can use 25.

       Note: split groups may not be supported by all tools (even in the Shadow toolsuite). You should not use this variable unless you
       really need it.

   PASS_MAX_DAYS (number)
       The maximum number of days a password may be used. If the password is older than this, a password change will be forced. If not
       specified, -1 will be assumed (which disables the restriction).

   PASS_MIN_DAYS (number)
       The minimum number of days allowed between password changes. Any password changes attempted sooner than this will be rejected. If
       not specified, -1 will be assumed (which disables the restriction).

   PASS_WARN_AGE (number)
       The number of days warning given before a password expires. A zero means warning is given only upon the day of expiration, a
       negative value means no warning is given. If not specified, no warning will be provided.

   SUB_GID_MIN (number), SUB_GID_MAX (number), SUB_GID_COUNT (number)
       If /etc/subuid exists, the commands useradd and newusers (unless the user already have subordinate group IDs) allocate SUB_GID_COUNT
       unused group IDs from the range SUB_GID_MIN to SUB_GID_MAX for each new user.

       The default values for SUB_GID_MIN, SUB_GID_MAX, SUB_GID_COUNT are respectively 100000, 600100000 and 65536.

   SUB_UID_MIN (number), SUB_UID_MAX (number), SUB_UID_COUNT (number)
       If /etc/subuid exists, the commands useradd and newusers (unless the user already have subordinate user IDs) allocate SUB_UID_COUNT
       unused user IDs from the range SUB_UID_MIN to SUB_UID_MAX for each new user.

       The default values for SUB_UID_MIN, SUB_UID_MAX, SUB_UID_COUNT are respectively 100000, 600100000 and 65536.

   SYS_GID_MAX (number), SYS_GID_MIN (number)
       Range of group IDs used for the creation of system groups by useradd, groupadd, or newusers.

       The default value for SYS_GID_MIN (resp.  SYS_GID_MAX) is 101 (resp.  GID_MIN-1).

   SYS_UID_MAX (number), SYS_UID_MIN (number)
       Range of user IDs used for the creation of system users by useradd or newusers.

       The default value for SYS_UID_MIN (resp.  SYS_UID_MAX) is 101 (resp.  UID_MIN-1).

   UID_MAX (number), UID_MIN (number)
       Range of user IDs used for the creation of regular users by useradd or newusers.

       The default value for UID_MIN (resp.  UID_MAX) is 1000 (resp. 60000).

   UMASK (number)
       The file mode creation mask is initialized to this value. If not specified, the mask will be initialized to 022.

       useradd and newusers use this mask to set the mode of the home directory they create

       It is also used by login to define users' initial umask. Note that this mask can be overridden by the user's GECOS line (if
       QUOTAS_ENAB is set) or by the specification of a limit with the K identifier in limits(5).

   USERGROUPS_ENAB (boolean)
       Enable setting of the umask group bits to be the same as owner bits (examples: 022 -&gt; 002, 077 -&gt; 007) for non-root users, if the
       uid is the same as gid, and username is the same as the primary group name.

       If set to yes, userdel will remove the user's group if it contains no more members, and useradd will create by default a group with
       the name of the user.
</code></pre>
<p>FILES<br>       /etc/passwd<br>           User account information.</p>
<pre><code>   /etc/shadow
       Secure user account information.

   /etc/group
       Group account information.

   /etc/gshadow
       Secure group account information.

   /etc/default/useradd
       Default values for account creation.

   /etc/skel/
       Directory containing default files.

   /etc/subgid
       Per user subordinate group IDs.

   /etc/subuid
       Per user subordinate user IDs.

   /etc/login.defs
       Shadow password suite configuration.
</code></pre>
<p>EXIT VALUES<br>       The useradd command exits with the following values:</p>
<pre><code>   0
       success

   1
       can't update password file

   2
       invalid command syntax

   3
       invalid argument to option

   4
       UID already in use (and no -o)

   6
       specified group doesn't exist

   9
       username already in use

   10
       can't update group file

   12
       can't create home directory

   14
       can't update SELinux user mapping
</code></pre>
<p>SEE ALSO<br>       chfn(1), chsh(1), passwd(1), crypt(3), groupadd(8), groupdel(8), groupmod(8), login.defs(5), newusers(8), subgid(5),<br>       subuid(5),userdel(8), usermod(8).</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/07/linux-userdel-beginner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/07/linux-userdel-beginner/" class="post-title-link" itemprop="url">Linux userdel</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-07 23:11:00" itemprop="dateCreated datePublished" datetime="2013-03-07T23:11:00+08:00">2013-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2013/03/07/linux-userdel-beginner/" class="post-meta-item leancloud_visitors" data-flag-title="Linux userdel" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/07/linux-userdel-beginner/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/07/linux-userdel-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/07/linux-userdel-beginner/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/07/linux-userdel-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="linux中删除用户userdel"><a href="#linux中删除用户userdel" class="headerlink" title="linux中删除用户userdel"></a>linux中删除用户userdel</h1><p><code>userdel</code>用于删除用户账号信息，是管理员必备的命令之一。</p>
<p><code>userdel</code>将删除用户帐号与相关的文件。若不加参数，则仅仅删除用户帐号，账号的目录可能还会存在。</p>
<p>官方的定义为：</p>
<blockquote>
<p>userdel - delete a user account and related files</p>
</blockquote>
<p>使用的方法为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ userdel [options] LOGIN</span><br></pre></td></tr></tbody></table></figure>

<p>其中LOGIN为将删除的用户名，需要确保其存在，不然会报错。</p>
<p>其中很常用的options为：</p>
<ul>
<li><code>-r, --remove</code>：删除用户登陆的目录以及目录中所有的文件，还有用户的邮件信息，在其他文件系统的文件可能需要手动删除。</li>
<li><code>-f, --force</code>：这个选项强制删除用户账号，即便该用户仍在登陆。同时还会删除用户的home目录和mail信息。总之很彪悍的一个参数，可能会引起其他问题，<u>慎用慎用，不用不用</u>。</li>
</ul>
<h2 id="默认使用"><a href="#默认使用" class="headerlink" title="默认使用"></a>默认使用</h2><p>删除用户账号user，这个选项将把</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> userdel username</span><br></pre></td></tr></tbody></table></figure>



<h2 id="彻底删除账号信息"><a href="#彻底删除账号信息" class="headerlink" title="彻底删除账号信息"></a>彻底删除账号信息</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> userdel -r username</span><br></pre></td></tr></tbody></table></figure>

<p><code>-r</code>参数将把用户的账号以及默认位于<u>/home/username/</u>的所有文件进行删除，谨慎操作，无法找回，除非确认该账号确实不再使用，并且文件确实不在具备价值。</p>
<h2 id="如何确认是否成功？"><a href="#如何确认是否成功？" class="headerlink" title="如何确认是否成功？"></a>如何确认是否成功？</h2><p>userdel命令是有返回信息的，如果需要确认命令的执行情况，如下返回值：   </p>
<ul>
<li>0 成功</li>
<li>1 无法更新password文件</li>
<li>2 无效的命令语法</li>
<li>6 指定的用户不存在</li>
<li>8 用户正在登陆</li>
<li>10 无法更新group文件</li>
<li>12 无法移除home目录</li>
</ul>
<blockquote>
<p><strong>警告</strong>：如果一个用户还有程序在运行，<code>userdel</code>是不允许删除该账户的。此时可以通过kill掉改程序，或者使用-f来强制删除。</p>
<p>通常情况下，不要这么做。</p>
</blockquote>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2013/03/07/linux-userdel/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2013/03/07/linux-userdel/" class="post-title-link" itemprop="url">Linux userdel</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2013-03-07 23:11:00" itemprop="dateCreated datePublished" datetime="2013-03-07T23:11:00+08:00">2013-03-07</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2013/03/07/linux-userdel/" class="post-meta-item leancloud_visitors" data-flag-title="Linux userdel" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2013/03/07/linux-userdel/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2013/03/07/linux-userdel/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2013/03/07/linux-userdel/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2013/03/07/linux-userdel/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="linux中删除用户userdel"><a href="#linux中删除用户userdel" class="headerlink" title="linux中删除用户userdel"></a>linux中删除用户userdel</h1><p><code>userdel</code>用于删除用户账号信息，是管理员必备的命令之一。</p>
<p><code>userdel</code>将删除用户帐号与相关的文件。若不加参数，则仅仅删除用户帐号，账号的目录可能还会存在。</p>
<p>官方的定义为：</p>
<blockquote>
<p>userdel - delete a user account and related files</p>
</blockquote>
<p>使用的方法为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ userdel [options] LOGIN</span><br></pre></td></tr></tbody></table></figure>

<p>其中LOGIN为将删除的用户名，需要确保其存在，不然会报错。</p>
<p>其中很常用的options为：</p>
<ul>
<li><code>-r, --remove</code>：删除用户登陆的目录以及目录中所有的文件，还有用户的邮件信息，在其他文件系统的文件可能需要手动删除。</li>
<li><code>-f, --force</code>：这个选项强制删除用户账号，即便该用户仍在登陆。同时还会删除用户的home目录和mail信息。总之很彪悍的一个参数，可能会引起其他问题，<u>慎用慎用，不用不用</u>。</li>
</ul>
<h2 id="默认使用"><a href="#默认使用" class="headerlink" title="默认使用"></a>默认使用</h2><p>删除用户账号user，这个选项将把</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> userdel username</span><br></pre></td></tr></tbody></table></figure>



<h2 id="彻底删除账号信息"><a href="#彻底删除账号信息" class="headerlink" title="彻底删除账号信息"></a>彻底删除账号信息</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> userdel -r username</span><br></pre></td></tr></tbody></table></figure>

<p><code>-r</code>参数将把用户的账号以及默认位于<u>/home/username/</u>的所有文件进行删除，谨慎操作，无法找回，除非确认该账号确实不再使用，并且文件确实不在具备价值。</p>
<h2 id="如何确认是否成功？"><a href="#如何确认是否成功？" class="headerlink" title="如何确认是否成功？"></a>如何确认是否成功？</h2><p>userdel命令是有返回信息的，如果需要确认命令的执行情况，如下返回值：   </p>
<ul>
<li>0 成功</li>
<li>1 无法更新password文件</li>
<li>2 无效的命令语法</li>
<li>6 指定的用户不存在</li>
<li>8 用户正在登陆</li>
<li>10 无法更新group文件</li>
<li>12 无法移除home目录</li>
</ul>
<blockquote>
<p><strong>警告</strong>：如果一个用户还有程序在运行，<code>userdel</code>是不允许删除该账户的。此时可以通过kill掉改程序，或者使用-f来强制删除。</p>
<p>通常情况下，不要这么做。</p>
</blockquote>
<p>SEE ALSO<br>       chfn(1), chsh(1), passwd(1), login.defs(5), gpasswd(8), groupadd(8), groupdel(8), groupmod(8), subgid(5), subuid(5),<br>       usermod(8).</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/54/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/54/">54</a><span class="page-number current">55</span><a class="page-number" href="/page/56/">56</a><span class="space">&hellip;</span><a class="page-number" href="/page/100/">100</a><a class="extend next" rel="next" href="/page/56/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">郭大侠</p>
  <div class="site-description" itemprop="description">郭大侠的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">998</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">181</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1450</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://macshuo.com/" title="http:&#x2F;&#x2F;macshuo.com&#x2F;" rel="noopener" target="_blank">MacTalk</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://huhuidong.wordpress.com/" title="https:&#x2F;&#x2F;huhuidong.wordpress.com&#x2F;" rel="noopener" target="_blank">小胡</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2007 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郭大侠</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz","app_key":"NTHrGJp71GzEGvNUEUFumVcR","server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://shaoguangleo.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz',
      appKey     : 'NTHrGJp71GzEGvNUEUFumVcR',
      placeholder: "路过，即是缘分...",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
