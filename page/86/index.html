<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"shaoguangleo.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="郭大侠的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="浩瀚宇宙 灿烂星空">
<meta property="og:url" content="http://shaoguangleo.github.io/page/86/index.html">
<meta property="og:site_name" content="浩瀚宇宙 灿烂星空">
<meta property="og:description" content="郭大侠的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="郭大侠">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://shaoguangleo.github.io/page/86/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>浩瀚宇宙 灿烂星空</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=a8cfacb0a536bd846d2fd545cedb4d61"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'a8cfacb0a536bd846d2fd545cedb4d61');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a8cfacb0a536bd846d2fd545cedb4d61";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="浩瀚宇宙 灿烂星空" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">浩瀚宇宙 灿烂星空</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">工作和生活中的七七八八</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/25/vim-copy-content-to-paster-board/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/25/vim-copy-content-to-paster-board/" class="post-title-link" itemprop="url">从文件中插入内容到剪切板</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-25 22:25:00" itemprop="dateCreated datePublished" datetime="2011-02-25T22:25:00+08:00">2011-02-25</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vim/" itemprop="url" rel="index"><span itemprop="name">Vim</span></a>
                </span>
            </span>

          
            <span id="/2011/02/25/vim-copy-content-to-paster-board/" class="post-meta-item leancloud_visitors" data-flag-title="从文件中插入内容到剪切板" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/25/vim-copy-content-to-paster-board/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/25/vim-copy-content-to-paster-board/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/25/vim-copy-content-to-paster-board/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/25/vim-copy-content-to-paster-board/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h2 id="从文件中插入内容到剪切板"><a href="#从文件中插入内容到剪切板" class="headerlink" title="从文件中插入内容到剪切板"></a>从文件中插入内容到剪切板</h2><p>你希望把当前文件的文本插入到剪切板中。当你的文笔传输到剪切板上，你可以粘贴它到另外一个应用中。</p>
<table>
<thead>
<tr>
<th>剪切板拷贝</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>:%y+</td>
<td>拷贝整个文件到剪切板</td>
</tr>
<tr>
<td>:y+</td>
<td>拷贝文件中当前行到剪切板上</td>
</tr>
<tr>
<td>:N,My+</td>
<td>拷贝文件中指定范围的行到剪切板中</td>
</tr>
</tbody></table>
<p>为了拷贝可视化选择的行到剪切板上，首先可视化选择行，<code>:y+</code>会显示为:<code>’&lt;,’&gt;y+</code>。</p>
<p>在拷贝之后，你可以使用传统的<code>&lt;CTRL+V&gt;</code>操作粘贴这些内容到任意其它应用中。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/23/c-beginner-scope/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/23/c-beginner-scope/" class="post-title-link" itemprop="url">C语言 作用域</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-23 22:28:20" itemprop="dateCreated datePublished" datetime="2011-02-23T22:28:20+08:00">2011-02-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
            </span>

          
            <span id="/2011/02/23/c-beginner-scope/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 作用域" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/23/c-beginner-scope/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/23/c-beginner-scope/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/23/c-beginner-scope/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/23/c-beginner-scope/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C语言的作用域"><a href="#C语言的作用域" class="headerlink" title="C语言的作用域"></a>C语言的作用域</h1><p>任何一种编程语言，都会存在作用域的概念，比如C++中的private、public等，在C语言里面，主要根据变量所在的位置来区分，主要有：</p>
<ul>
<li>局部变量</li>
<li>全局变量</li>
</ul>
<h2 id="局部变量"><a href="#局部变量" class="headerlink" title="局部变量"></a>局部变量</h2><p>所谓的局部变量就是只能被局部访问，一般定义在函数内部或者某个块，在函数的外部是不可知且不能被访问的，比如下面的变量：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/scope/scope1.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">3</span>;</span><br><span class="line">    <span class="type">int</span> c = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"a is %d\n"</span>, a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"b is %d\n"</span>, b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"c is %d\n"</span>, c);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>其中的变量a、b、c，也就是1、3、5就是main函数的局部变量。</p>
<h2 id="全局变量"><a href="#全局变量" class="headerlink" title="全局变量"></a>全局变量</h2><p>全局变量按照字母意思就是在整个程序的声明周期都存在，也就是说所有的函数都可以访问到，一般而言，都会位于函数的外面，通常在程序的顶部，比如：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/scope/scope2.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> g = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">3</span>;</span><br><span class="line">    <span class="type">int</span> c = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"a is %d\n"</span>, a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"b is %d\n"</span>, b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"c is %d\n"</span>, c);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"g is %d\n"</span>, g);</span><br><span class="line"></span><br><span class="line">    g = <span class="number">9</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"g is %d\n"</span>, g);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="访问顺序"><a href="#访问顺序" class="headerlink" title="访问顺序"></a>访问顺序</h2><p>那么问题就来了，万一全部变量和局部变量定义了相同给的名字，该访问使用哪一个呢，这个记住即可，如果两个名字相同，会使用局部变量，临近原则吧。</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/scope/scope3.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> g = <span class="number">7</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> a = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">3</span>;</span><br><span class="line">    <span class="type">int</span> c = <span class="number">5</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"a is %d\n"</span>, a);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"b is %d\n"</span>, b);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"c is %d\n"</span>, c);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"g is %d\n"</span>, g);</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> g = <span class="number">3</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"g is %d\n"</span>, g);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><p>编译也有所不同，方法为：</p>
<figure class="highlight makefile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#beginner/scope/Makefile</span></span><br><span class="line">ALL : scope1  scope2 scope3</span><br><span class="line"></span><br><span class="line"><span class="section">scope1: scope1.c</span></span><br><span class="line">	gcc -o scope1 scope1.c</span><br><span class="line"></span><br><span class="line"><span class="section">scope2: scope2.c</span></span><br><span class="line">	gcc -o scope2 scope2.c</span><br><span class="line"></span><br><span class="line"><span class="section">scope3: scope3.c</span></span><br><span class="line">	gcc -o scope3 scope3.c</span><br><span class="line"></span><br><span class="line">.PHONY : clean</span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -f scope1 scope2 scope3</span><br></pre></td></tr></tbody></table></figure>

<p>这会产生可执行程序，当程序被执行时，它会产生下列结果：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">$ ./scope1</span><br><span class="line">a is 1</span><br><span class="line">b is 3</span><br><span class="line">c is 5</span><br><span class="line"></span><br><span class="line">$ ./scope2</span><br><span class="line">a is 1</span><br><span class="line">b is 3</span><br><span class="line">c is 5</span><br><span class="line">g is 7</span><br><span class="line">g is 9</span><br><span class="line"></span><br><span class="line">$ ./scope3</span><br><span class="line">a is 1</span><br><span class="line">b is 3</span><br><span class="line">c is 5</span><br><span class="line">g is 7</span><br><span class="line">g is 3</span><br></pre></td></tr></tbody></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/23/c-beginner-ternary/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/23/c-beginner-ternary/" class="post-title-link" itemprop="url">C语言 唯一的三元操作符</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-23 22:28:20" itemprop="dateCreated datePublished" datetime="2011-02-23T22:28:20+08:00">2011-02-23</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
            </span>

          
            <span id="/2011/02/23/c-beginner-ternary/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 唯一的三元操作符" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/23/c-beginner-ternary/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/23/c-beginner-ternary/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/23/c-beginner-ternary/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/23/c-beginner-ternary/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C语言唯一的三元操作符"><a href="#C语言唯一的三元操作符" class="headerlink" title="C语言唯一的三元操作符"></a>C语言唯一的三元操作符</h1><p>如果有两个变量，我希望打印出最大的一个，怎么做呢，很简单一个<code>if-else</code>语句搞定，嗯嗯，👍。</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/ternary/ternary1.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">7</span>;</span><br><span class="line">    <span class="keyword">if</span> (a &gt; b)</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Bigger is %d\n"</span>, a);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Bigger is %d\n"</span>, b);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>今天来一个比较搞定的三元操作符，前面有提过什么事三元操作符，<strong>参考逻辑运算符原文</strong>，简单的理解就是：<code>a?b:c</code>，如果a为真就返回b，如果a为假就返回c。</p>
<p>所以<code>rst = a?b:c</code>用<code>if-else</code>来表达就是：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (a)</span><br><span class="line">	rst = b;</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">	rst = c;</span><br></pre></td></tr></tbody></table></figure>

<p>所以上面的程序可以简化为：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/ternary/ternary2.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> a = <span class="number">5</span>;</span><br><span class="line">    <span class="type">int</span> b = <span class="number">7</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Bigger is %d\n"</span>, a &gt; b ? a : b);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>看到没有，奇迹就是用1行能写出4行的效果。</p>
<p>或许你会说用python可以1行写出c语言10行甚至100的功能，这个我承认，所以下一阶段开讲Python</p>
</blockquote>
<p>或许你问了，有了if-else还要这个干吗，简单，我们可以做很多事情，比如在宏定义里面定义下面的一行</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">define</span> MAX(a,b) a&gt;b?a:b</span></span><br></pre></td></tr></tbody></table></figure>

<p>后面直接调用MAX就可以得出最大值了，不过这个写法目前看来OK，如果严谨说起来是有bug的，且听下回分解。</p>
<p>另外一个比较有用的例子如下，我觉得很适合英语国家，在我们中国不存在这个问题，就是如果你有一个叔叔和几个叔叔的表达方式不一样：</p>
<ul>
<li>中文：我有一个叔叔，我有N个叔叔（N&gt;1）</li>
<li>英文：我有一个uncle，我有N个uncles（N&gt;1）</li>
</ul>
<p>看到没有，有好几个叔叔就要加个s，这个怎么来办呢，有了三元操作符，解决方案如下：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/ternary/ternary3.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> n1 = <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> n3 = <span class="number">3</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I have %d uncle%s\n"</span>, n1, n1==<span class="number">1</span> ? <span class="string">""</span> : <span class="string">"s"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"I have %d uncle%s\n"</span>, n3, n3==<span class="number">1</span> ? <span class="string">""</span> : <span class="string">"s"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>



<h2 id="编译"><a href="#编译" class="headerlink" title="编译"></a>编译</h2><p>编译也有所不同，方法为：</p>
<figure class="highlight makefile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#beginner/ternary/Makefile</span></span><br><span class="line">ALL : ternary1  ternary2 ternary3</span><br><span class="line"></span><br><span class="line"><span class="section">ternary1: ternary1.c</span></span><br><span class="line">	gcc -o ternary1 ternary1.c</span><br><span class="line"></span><br><span class="line"><span class="section">ternary2: ternary2.c</span></span><br><span class="line">	gcc -o ternary2 ternary2.c</span><br><span class="line"></span><br><span class="line"><span class="section">ternary3: ternary3.c</span></span><br><span class="line">	gcc -o ternary3 ternary3.c</span><br><span class="line"></span><br><span class="line">.PHONY : clean</span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -f ternary1 ternary2 ternary3</span><br></pre></td></tr></tbody></table></figure>

<p>这会产生可执行程序，当程序被执行时，它会产生下列结果：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ ./ternary1</span><br><span class="line">Bigger is 7</span><br><span class="line"></span><br><span class="line">$ ./ternary2</span><br><span class="line">Bigger is 7</span><br><span class="line"></span><br><span class="line">$ ./ternary3</span><br><span class="line">I have 1 uncle</span><br><span class="line">I have 3 uncles</span><br></pre></td></tr></tbody></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/22/c-beginner-auto-register-static/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/22/c-beginner-auto-register-static/" class="post-title-link" itemprop="url">C语言 存储类型关键字auto/register和static</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-22 22:28:20" itemprop="dateCreated datePublished" datetime="2011-02-22T22:28:20+08:00">2011-02-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
            </span>

          
            <span id="/2011/02/22/c-beginner-auto-register-static/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 存储类型关键字auto/register和static" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/22/c-beginner-auto-register-static/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/22/c-beginner-auto-register-static/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/22/c-beginner-auto-register-static/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/22/c-beginner-auto-register-static/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C语言的存储类型关键字"><a href="#C语言的存储类型关键字" class="headerlink" title="C语言的存储类型关键字"></a>C语言的存储类型关键字</h1><p>存储类型定义了C程序中变量与函数的可见范围和生命周期。</p>
<p>这些关键字位于修饰的函数或变量之前，主要说说下面几个：</p>
<ul>
<li>auto</li>
<li>register</li>
<li>static</li>
<li>extern （后面再说）</li>
</ul>
<h2 id="auto-存储类型"><a href="#auto-存储类型" class="headerlink" title="auto 存储类型"></a>auto 存储类型</h2><p><strong>auto</strong> 存储类是所有局部变量默认的存储类型，不管写不写，默认是auto类型的，比如：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/auto/auto1.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> year = <span class="number">2011</span>;</span><br><span class="line">    <span class="keyword">auto</span> <span class="type">int</span> month = <span class="number">2</span>;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Year : %d\n"</span>, year);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Month: %d\n"</span>, month);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>上面的实例定义了两个带有相同存储类的变量。</p>
<blockquote>
<p>auto 只能用在函数内，即 <strong>auto 只能修饰局部变量</strong>。</p>
</blockquote>
<h2 id="register-存储类型"><a href="#register-存储类型" class="headerlink" title="register 存储类型"></a>register 存储类型</h2><p><strong>register</strong> 存储类型用于定义存储在寄存器中而不是 RAM 中的局部变量。这意味着变量的最大尺寸等于寄存器的大小（通常是一个词），且不能对它应用一元的 <code>&amp;</code> 运算符（因为它没有内存位置）。</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/register/register2.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">register</span> <span class="type">int</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> i = <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        sum += i;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"Sum : %d\n"</span>, sum);</span><br><span class="line">    }</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>寄存器主要用于快速访问及变化的变量，比如计数器。不过，定义 <code>register</code> 并不意味着变量将被存储在寄存器中，它意味着变量可能存储在寄存器中，只是可能，这取决于硬件和实现的限制，所以这个一般不太实用，除非对系统很精通，确认是寄存器使用，才能起到加速的效果。</p>
<h2 id="static-存储类型"><a href="#static-存储类型" class="headerlink" title="static 存储类型"></a>static 存储类型</h2><p>static有多重用法，这里先说一下作为存储类型的用法，这个功能对于需要在某个函数进行初始化且需要保持状态作用大大滴。</p>
<ul>
<li><p><strong>static</strong> 存储类型指示编译器在程序的生命周期内保持局部变量的存在，而不需要在每次它进入和离开作用域时进行创建和销毁。因此，使用 static 修饰局部变量可以在函数调用之间保持局部变量的值。</p>
</li>
<li><p>static 修饰符也可以应用于全局变量。当 static 修饰全局变量时，会使变量的作用域限制在声明它的文件内，还未说到多个文件，后续再介绍</p>
</li>
<li><p>全局声明的一个 static 变量或方法可以被任何函数或方法调用，只要这些方法出现在跟 static 变量或方法同一个文件中。</p>
</li>
</ul>
<p>以下实例演示了 static 修饰全局变量和局部变量的应用：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/static/static3.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">localfunc</span><span class="params">(<span class="type">void</span>)</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">static</span> <span class="type">int</span> global = <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="keyword">while</span> (global--)</span><br><span class="line">    {</span><br><span class="line">        localfunc();</span><br><span class="line">    }</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br><span class="line"><span class="type">void</span> <span class="title function_">localfunc</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">static</span> <span class="type">int</span> local = <span class="number">5</span>;</span><br><span class="line">    local++;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">" local : %d , global : %d\n"</span>, local, global);</span><br><span class="line">}</span><br><span class="line"></span><br></pre></td></tr></tbody></table></figure>

<p>可以看到运行的结果为：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ ./storage3</span><br><span class="line"> local : <span class="number">6</span> , global : <span class="number">9</span></span><br><span class="line"> local : <span class="number">7</span> , global : <span class="number">8</span></span><br><span class="line"> local : <span class="number">8</span> , global : <span class="number">7</span></span><br><span class="line"> local : <span class="number">9</span> , global : <span class="number">6</span></span><br><span class="line"> local : <span class="number">10</span> , global : <span class="number">5</span></span><br><span class="line"> local : <span class="number">11</span> , global : <span class="number">4</span></span><br><span class="line"> local : <span class="number">12</span> , global : <span class="number">3</span></span><br><span class="line"> local : <span class="number">13</span> , global : <span class="number">2</span></span><br><span class="line"> local : <span class="number">14</span> , global : <span class="number">1</span></span><br><span class="line"> local : <span class="number">15</span> , global : <span class="number">0</span></span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/22/c-beginner-extern/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/22/c-beginner-extern/" class="post-title-link" itemprop="url">C语言 存储类型关键字extern</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-22 22:28:20" itemprop="dateCreated datePublished" datetime="2011-02-22T22:28:20+08:00">2011-02-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
            </span>

          
            <span id="/2011/02/22/c-beginner-extern/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 存储类型关键字extern" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/22/c-beginner-extern/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/22/c-beginner-extern/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/22/c-beginner-extern/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/22/c-beginner-extern/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C语言的存储类型关键字"><a href="#C语言的存储类型关键字" class="headerlink" title="C语言的存储类型关键字"></a>C语言的存储类型关键字</h1><p><code>前面说了</code>auto<code>、</code>register<code>和</code>static<code>存储类型，这次说一下extern</code>存储类型。</p>
<p>在使用这个关键字之前，需要了解多个函数的编译，什么意思呢，就是文件<code>a.c</code>会使用<code>b.c</code>或者<code>c.c</code>的变量、函数等，在编译的时候也需要提供所有的文件。</p>
<p>下面来看看<code>extern</code>的概念吧。</p>
<p><strong>extern</strong> 存储类用于提供一个全局变量的引用，全局变量对所有的程序文件都是可见的。当您使用 <em>extern</em> 时，对于无法初始化的变量，会把变量名指向一个之前定义过的存储位置。</p>
<p>当您有多个文件且定义了一个可以在其他文件中使用的全局变量或函数时，可以在其他文件中使用 <em>extern</em> 来得到已定义的变量或函数的引用。可以这么理解，<em>extern</em> 是用来在另一个文件中声明一个全局变量或函数。</p>
<p><code>extern </code>修饰符通常用于当有两个或多个文件共享相同的全局变量或函数的时候，如下所示：</p>
<p>第一个文件：</p>
<figure class="highlight cpp"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/extern/extern1.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> number;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">extern</span> <span class="type">void</span> <span class="title">test</span><span class="params">()</span></span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span></span></span><br><span class="line"><span class="function"></span>{</span><br><span class="line">    number = <span class="number">10</span>;</span><br><span class="line">    <span class="built_in">test</span>();</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>第二个文件：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/extern/test.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">extern</span> <span class="type">int</span> number;</span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">test</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="keyword">for</span> (i = <span class="number">0</span>; i &lt; <span class="number">10</span>; i++)</span><br><span class="line">    {</span><br><span class="line">        number -= <span class="number">1</span>;</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">"number is %d\n"</span>, number);</span><br><span class="line">    }</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<p>可以看到两个文件互为<code>extern</code>，<code>extern1.c</code>调用<code>test.c</code>的<code>test</code>函数，<code>test.c</code>调用<code>extern1.c</code>的<code>number</code>变量。</p>
<p>编译也有所不同，方法为：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ gcc -o extern1 extern1.c test.c</span><br></pre></td></tr></tbody></table></figure>

<p>这会产生可执行程序，当程序被执行时，它会产生下列结果：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ ./extern1</span><br><span class="line">number is 9</span><br><span class="line">number is 8</span><br><span class="line">number is 7</span><br><span class="line">number is 6</span><br><span class="line">number is 5</span><br><span class="line">number is 4</span><br><span class="line">number is 3</span><br><span class="line">number is 2</span><br><span class="line">number is 1</span><br><span class="line">number is 0</span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/20/vim-delete/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/20/vim-delete/" class="post-title-link" itemprop="url">vim中的删除操作大全</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-20 22:55:00" itemprop="dateCreated datePublished" datetime="2011-02-20T22:55:00+08:00">2011-02-20</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vim/" itemprop="url" rel="index"><span itemprop="name">Vim</span></a>
                </span>
            </span>

          
            <span id="/2011/02/20/vim-delete/" class="post-meta-item leancloud_visitors" data-flag-title="vim中的删除操作大全" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/20/vim-delete/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/20/vim-delete/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/20/vim-delete/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/20/vim-delete/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="vim中的删除操作大全"><a href="#vim中的删除操作大全" class="headerlink" title="vim中的删除操作大全"></a>vim中的删除操作大全</h1><h2 id="删除单个字符、词或者行"><a href="#删除单个字符、词或者行" class="headerlink" title="删除单个字符、词或者行"></a>删除单个字符、词或者行</h2><p>删除类似于拷贝，然而你必须使用d替代y。</p>
<table>
<thead>
<tr>
<th>键</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>x</td>
<td>删除当前字符</td>
</tr>
<tr>
<td>dw</td>
<td>删除当前词</td>
</tr>
<tr>
<td>dj</td>
<td>删除当前行和下一行</td>
</tr>
</tbody></table>
<p>这里应该可以出来以及技巧，x是删除，p是粘贴，<br>所以<code>xp不是系统而是交互两个字符</code>。</p>
<h2 id="VI下删除文本中的-M"><a href="#VI下删除文本中的-M" class="headerlink" title="VI下删除文本中的^M"></a>VI下删除文本中的^M</h2><p>关于回车与换行</p>
<p>很久以前，老式的电传打字机使用两个字符来另起新行。一个字符把滑动架移回首位 (称为回车,ASCII码为0D)，另一个字符把纸上移一行 (称为换行, ASCII码为0A)。当计算机问世以后，存储曾经非常昂贵。有些人就认定没必要用两个字符来表示行尾。UNIX 开发者决定他们可以用一个字符来表示行尾,linux沿袭Unix，也是如此。而Apple 开发者规定了用r，MS-DOS以及Windows 则继续使用rn表示，所以换行就有了3种方法。</p>
<p>三种行尾格式如下:</p>
<ul>
<li>unix : n</li>
<li>dos: rn</li>
<li>mac : r</li>
</ul>
<p>这意味着，如果你试图把一个文件从一种系统移到另一种系统，那么你就有换行符方面的麻烦。</p>
<p>​      因为MS-DOS及Windows是回车＋换行来表示换行，因此在Linux下用Vim查看在Windows下写的代码，行尾后“^M”符号。</p>
<p>在Vim中解决这个问题，很简单，在Vim中利用替换功能就可以将“^M”都删掉，键入如下替换命令行：</p>
<figure class="highlight elixir"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:%s/^M//g</span></span><br></pre></td></tr></tbody></table></figure>



<p> 注意：</p>
<p>上述命令行中的“^M”符，不是“^”再加上“M”，而是由“Ctrl+v”、“Ctrl+M”键生成的，或者Ctrl+v，再按回车。</p>
<p> 或者使用这个命令：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:% s/r//g</span><br></pre></td></tr></tbody></table></figure>

<h2 id="vim删除包含指定字符串的行"><a href="#vim删除包含指定字符串的行" class="headerlink" title="vim删除包含指定字符串的行"></a>vim删除包含指定字符串的行</h2><p>在命令模式中，使用如下指令删除包含指定字符串的行：</p>
<figure class="highlight elixir"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:g/string/d</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="vim删除不包含指定字符串的行"><a href="#vim删除不包含指定字符串的行" class="headerlink" title="vim删除不包含指定字符串的行"></a>vim删除不包含指定字符串的行</h2><p>在命令模式中，使用如下指令删除不包含指定字符串的行：</p>
<figure class="highlight elixir"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:v/xxx/d</span></span><br></pre></td></tr></tbody></table></figure>

<h2 id="删除缺失的字符-There-is-no-‏-U-200F"><a href="#删除缺失的字符-There-is-no-‏-U-200F" class="headerlink" title="删除缺失的字符 There is no ‏ (U+200F)"></a>删除缺失的字符 There is no ‏ (U+200F)</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ sed -i <span class="string">"s/<span class="subst">$(echo -ne '\u200b')</span>//g"</span> file</span><br></pre></td></tr></tbody></table></figure>

<p>或者在vim中如此操作：</p>
<figure class="highlight cos"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">%s</span>/\<span class="built_in">%u</span>200b<span class="comment">//</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="vim删除重复行"><a href="#vim删除重复行" class="headerlink" title="vim删除重复行"></a>vim删除重复行</h2><p>使用vim内建的功能，如下即可快速在排序后删除重复的行：</p>
<figure class="highlight arcade"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">:<span class="built_in">sort</span> u</span><br></pre></td></tr></tbody></table></figure>


<h2 id="删除空行"><a href="#删除空行" class="headerlink" title="删除空行"></a>删除空行</h2><p>  <code>:g/^$/d</code></p>
<h2 id="删除空行以及只有空格的行"><a href="#删除空行以及只有空格的行" class="headerlink" title="删除空行以及只有空格的行"></a>删除空行以及只有空格的行</h2><p>  <code>:g/^\s*$/d</code></p>
<h2 id="删除以-开头或-空格-或-tab-开头的行"><a href="#删除以-开头或-空格-或-tab-开头的行" class="headerlink" title="删除以 # 开头或 空格# 或 tab#开头的行"></a>删除以 # 开头或 空格# 或 tab#开头的行</h2><p>  <code>:g/^\s*#/d</code></p>
<h2 id="删除以-开头或-空格-或-tab-开头的行-1"><a href="#删除以-开头或-空格-或-tab-开头的行-1" class="headerlink" title="删除以 ; 开头或 空格; 或 tab;开头的行"></a>删除以 ; 开头或 空格; 或 tab;开头的行</h2><p>  <code>:g/^\s*;/d</code></p>
<h2 id="使用正则表达式删除行"><a href="#使用正则表达式删除行" class="headerlink" title="使用正则表达式删除行"></a>使用正则表达式删除行</h2><ul>
<li>如果当前行包含 hello ，则删除当前行<br><code>:/hello/d</code></li>
<li>删除从第二行到包含 hello 的区间行<br><code>:2,/hello/d</code></li>
<li>删除从包含 hello 的行到最后一行区间的行<br><code>:/hello/,$d</code></li>
<li>删除所有包含 hello 的行<br><code>:g/hello/d</code></li>
<li>删除匹配 hello 且前面只有一个字符的行<br><code>:g/.hello/d</code></li>
<li>删除匹配 hello 且以它开头的行<br><code>:g/^hello/d</code></li>
<li>删除匹配 hello 且以它结尾的行<br><code>:g/hello$/d</code></li>
<li>.ini 的注释是以 ; 开始的，如果注释不在行开头，那么删除 ; 及以后的字符<br><code>:%s/\;.\+//g</code></li>
<li>删除 # 之后所有字符<br><code>%s/\#.*//g</code></li>
</ul>
<h2 id="Vim-删除所有行的指定字符到每行末尾的字符"><a href="#Vim-删除所有行的指定字符到每行末尾的字符" class="headerlink" title="Vim 删除所有行的指定字符到每行末尾的字符"></a>Vim 删除所有行的指定字符到每行末尾的字符</h2><p><code>:%s/ABCD.*$//g  ：</code> 删除所有行的指定字符ABCD到每行末尾的字符</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/19/vim-copy-and-paste/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/19/vim-copy-and-paste/" class="post-title-link" itemprop="url">在拷贝行/词/其它之后或之前粘贴</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-19 23:11:00" itemprop="dateCreated datePublished" datetime="2011-02-19T23:11:00+08:00">2011-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vim/" itemprop="url" rel="index"><span itemprop="name">Vim</span></a>
                </span>
            </span>

          
            <span id="/2011/02/19/vim-copy-and-paste/" class="post-meta-item leancloud_visitors" data-flag-title="在拷贝行/词/其它之后或之前粘贴" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/19/vim-copy-and-paste/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/19/vim-copy-and-paste/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/19/vim-copy-and-paste/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/19/vim-copy-and-paste/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>| 键 |  描述 |<br>|  p（小写的p） | 立即粘贴到当前光标位置之后 |<br>| P（大写的P） |  立即粘贴到当前光标位置之前 |</p>
<p>如果你执行几次的删除操作，如果你希望粘贴这些删除的字符，使用下面的方法。</p>
<p>首先，查看寄存器，使用下面的命令：</p>
<figure class="highlight clojure"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="symbol">:reg</span></span><br></pre></td></tr></tbody></table></figure>
<p>最近的删除内容会显示在0-9寄存器中，记下你想粘贴的删除词语的寄存器位置。</p>
<p>如果你想粘贴寄存器标号为N的词组，执行下面命令：</p>
<figure class="highlight"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">“Np</span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/19/c-beginner-struct-bitfield/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/19/c-beginner-struct-bitfield/" class="post-title-link" itemprop="url">C语言 struct的位域</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-19 22:28:20" itemprop="dateCreated datePublished" datetime="2011-02-19T22:28:20+08:00">2011-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
            </span>

          
            <span id="/2011/02/19/c-beginner-struct-bitfield/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 struct的位域" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/19/c-beginner-struct-bitfield/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/19/c-beginner-struct-bitfield/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/19/c-beginner-struct-bitfield/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/19/c-beginner-struct-bitfield/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C语言的结构体位域"><a href="#C语言的结构体位域" class="headerlink" title="C语言的结构体位域"></a>C语言的结构体位域</h1><p>前面可以看到，使用<code>unoin</code>共用体可以节省数据的存储空间。</p>
<p>同样，在结构体或者共用体中，使用位域也可以达到这个效果。</p>
<p>先看看什么时候可以使用位域，这个特点大多数人都不会用到，用到的大部分人都基本跟底层打交道，比如驱动开发、单片机开发等。</p>
<p>先看一个最简单的例子，比如我们的红绿灯系统，先定义一个结构体：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> red;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> green;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> yellow;</span><br><span class="line">} TrafficLight;</span><br></pre></td></tr></tbody></table></figure>
<blockquote>
<p>此时如果看一下TrafficLight结构体的大小，应该是<strong>12</strong>个字节</p>
</blockquote>
<p>但是我们知道对于这几种灯而言，只有2中状态，开和关，也就是1和0，也就是1个bit其实就能表达，所以针对这种情况，有了位域的概念，先看一下位域的声明：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span> </span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    type name : width;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<ul>
<li>type：整数类型</li>
<li>name：为位域的名称</li>
<li>width：为位域中位的数量，其值需要小于等于type指定的类型大小</li>
</ul>
<p>所以交通灯的结构体使用位域的概念就如下所示：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> red : <span class="number">1</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> green : <span class="number">1</span>;</span><br><span class="line">    <span class="type">unsigned</span> <span class="type">int</span> yellow : <span class="number">1</span>;</span><br><span class="line">} TrafficLight1;</span><br></pre></td></tr></tbody></table></figure>
<p>三色红绿灯加起来一共需要3个bit，所以一个无符号整型就可以容纳这些值了，此时看一下这个结构体的长度，应该为<strong>4</strong>。</p>
<p>总结一下：</p>
<p>当结构体或共用体中有无符号整型或有符号整型成员时，C语言允许用户指定这些成员所占用的存储位数，即<strong>位域</strong>。通过将数据存储在它们所需的最小数目的存储位内，位域能够有效地提供存储空间的利用率，但是，要注意，<strong>位域成员必须被声明为有符号整型或无符号整型</strong>。</p>
<p>代码如下：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/struct/struct6.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line"></span><br><span class="line">    <span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">    {</span></span><br><span class="line">        <span class="type">unsigned</span> <span class="type">int</span> red;</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">int</span> green;</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">int</span> yellow;</span><br><span class="line">    } TrafficLight;</span><br><span class="line"></span><br><span class="line">    TrafficLight trafficlight;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"The size of TrafficLight %d\n"</span>, <span class="keyword">sizeof</span>(trafficlight));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span></span></span><br><span class="line"><span class="class">    {</span></span><br><span class="line">        <span class="type">unsigned</span> <span class="type">int</span> red : <span class="number">1</span>;</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">int</span> green : <span class="number">1</span>;</span><br><span class="line">        <span class="type">unsigned</span> <span class="type">int</span> yellow : <span class="number">1</span>;</span><br><span class="line">    } TrafficLight1;</span><br><span class="line"></span><br><span class="line">    TrafficLight1 trafficlight1;</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"The size of TrafficLight1 %d\n"</span>, <span class="keyword">sizeof</span>(trafficlight1));</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<h2 id="编译运行"><a href="#编译运行" class="headerlink" title="编译运行"></a>编译运行</h2><p>直接输入<code>make</code>就可以了。</p>
<figure class="highlight makefile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#beginner/struct/Makefile</span></span><br><span class="line"></span><br><span class="line"><span class="section">struct6: struct6.c</span></span><br><span class="line">	gcc -o struct6 struct6.c</span><br></pre></td></tr></tbody></table></figure>

<h2 id="运行输出如下："><a href="#运行输出如下：" class="headerlink" title="运行输出如下："></a>运行输出如下：</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">$ ./struct6</span><br><span class="line">The size of TrafficLight 12</span><br><span class="line">The size of TrafficLight1 4</span><br></pre></td></tr></tbody></table></figure>

<h2 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h2><p>既然位域指定了长度位，所以就涉及到万一赋值超过了会发生什么情况，可以通过给红绿灯赋一个大值看看。</p>
<p>比如复制一个2，那么会得到如下警告：</p>
<figure class="highlight pgsql"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">warning</span>: implicit truncation <span class="keyword">from</span> <span class="string">'int'</span> <span class="keyword">to</span> <span class="type">bit</span>-field changes <span class="keyword">value</span> <span class="keyword">from</span> <span class="number">2</span> <span class="keyword">to</span> <span class="number">0</span> [-Wbitfield-<span class="keyword">constant</span>-<span class="keyword">conversion</span>]</span><br></pre></td></tr></tbody></table></figure>
<p>编译有警告，不过还是生成了可执行文件，运行下看看结果吧。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/19/c-beginner-union-access/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/19/c-beginner-union-access/" class="post-title-link" itemprop="url">C语言 共用体的成员访问</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-19 22:28:20" itemprop="dateCreated datePublished" datetime="2011-02-19T22:28:20+08:00">2011-02-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
            </span>

          
            <span id="/2011/02/19/c-beginner-union-access/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 共用体的成员访问" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/19/c-beginner-union-access/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/19/c-beginner-union-access/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/19/c-beginner-union-access/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/19/c-beginner-union-access/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C语言-共用体的访问"><a href="#C语言-共用体的访问" class="headerlink" title="C语言 共用体的访问"></a>C语言 共用体的访问</h1><p><strong>共用体</strong>的访问与<strong>结构体</strong>类似，也是有2中类型，我们只看看成员访问运算符<code>.</code>。</p>
<p>所以按照通用的赋值方式，来看一下是否按照我们预定的方式运行。</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/union/union2.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">Data</span> {</span></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">float</span> f;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">20</span>];</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="class"><span class="keyword">union</span> <span class="title">Data</span> <span class="title">data</span>;</span></span><br><span class="line"></span><br><span class="line">    data.i = <span class="number">123</span>;</span><br><span class="line">    data.f = <span class="number">456.0</span>;</span><br><span class="line">    <span class="built_in">strcpy</span>(data.str, <span class="string">"Hello World"</span>);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"data.i : %d\n"</span>, data.i);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"data.f : %f\n"</span>, data.f);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"data.str : %s\n"</span>, data.str);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>从结果上来看，what are you弄啥嘞，感觉什么跟什么呀，只有最后的字符串是正确的，这也就间接证明了共用体使用相同的存储空间，其他类型的赋值会破坏原先的赋值，正常情况下只有最后一次的赋值才会保证正确结果。</p>
</blockquote>
<p>所以我们需要在每次赋值后直接查看结果，是可以保证结果正确的：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*beginner/union/union3.c*/</span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">Data</span> {</span></span><br><span class="line">    <span class="type">int</span> i;</span><br><span class="line">    <span class="type">float</span> f;</span><br><span class="line">    <span class="type">char</span> str[<span class="number">20</span>];</span><br><span class="line">};</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">()</span></span><br><span class="line">{</span><br><span class="line">    <span class="class"><span class="keyword">union</span> <span class="title">Data</span> <span class="title">data</span>;</span></span><br><span class="line"></span><br><span class="line">    data.i = <span class="number">123</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"data.i : %d\n"</span>, data.i);</span><br><span class="line"></span><br><span class="line">    data.f = <span class="number">456.0</span>;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"data.f : %f\n"</span>, data.f);</span><br><span class="line"></span><br><span class="line">    <span class="built_in">strcpy</span>(data.str, <span class="string">"Hello World"</span>);</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"data.str : %s\n"</span>, data.str);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

<blockquote>
<p>再次运行，可以看到结果就按照预想的进行了。</p>
</blockquote>
<h2 id="编译运行"><a href="#编译运行" class="headerlink" title="编译运行"></a>编译运行</h2><figure class="highlight makefile"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#beginner/union/Makefile</span></span><br><span class="line">ALL : union1 union2 union3</span><br><span class="line"></span><br><span class="line"><span class="section">union1: union1.c</span></span><br><span class="line">	gcc -o union1 union1.c</span><br><span class="line"></span><br><span class="line"><span class="section">union2: union2.c</span></span><br><span class="line">	gcc -o union2 union2.c</span><br><span class="line"></span><br><span class="line"><span class="section">union3: union3.c</span></span><br><span class="line">	gcc -o union3 union3.c</span><br><span class="line"></span><br><span class="line">.PHONY : clean</span><br><span class="line"></span><br><span class="line"><span class="section">clean:</span></span><br><span class="line">	rm -f union1 union2 union3 </span><br></pre></td></tr></tbody></table></figure>



<h2 id="输出结果"><a href="#输出结果" class="headerlink" title="输出结果"></a>输出结果</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">$ ./union2</span><br><span class="line">data.i : 1819043144</span><br><span class="line">data.f : 1143139122437582505939828736.000000</span><br><span class="line">data.str : Hello World</span><br><span class="line"></span><br><span class="line">$ ./union3</span><br><span class="line">data.i : 123</span><br><span class="line">data.f : 456.000000</span><br><span class="line">data.str : Hello World</span><br></pre></td></tr></tbody></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/02/18/c-beginner-keywords/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/02/18/c-beginner-keywords/" class="post-title-link" itemprop="url">C语言 关键字</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-02-18 22:28:20" itemprop="dateCreated datePublished" datetime="2011-02-18T22:28:20+08:00">2011-02-18</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
            </span>

          
            <span id="/2011/02/18/c-beginner-keywords/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 关键字" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/02/18/c-beginner-keywords/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/02/18/c-beginner-keywords/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/02/18/c-beginner-keywords/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/02/18/c-beginner-keywords/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C语言的关键字大全"><a href="#C语言的关键字大全" class="headerlink" title="C语言的关键字大全"></a>C语言的关键字大全</h1><p>C语言的短小精悍从它的关键字就能够看出来，作为C语言的关键字、保留字，是不能作为变量名、常量名或者其他标识符的，他们有自己独特的含义。</p>
<p>前面的章节中其实多多少少已经进行了讲解，先总结如下：</p>
<table>
<thead>
<tr>
<th>关键字</th>
<th>说明</th>
</tr>
</thead>
<tbody><tr>
<td>auto</td>
<td>声明自动变量</td>
</tr>
<tr>
<td>break</td>
<td><a href="http://shaoguangleo.github.io/2011/02/08/c-beginner-switch-sentence">跳出当前循环</a></td>
</tr>
<tr>
<td>case</td>
<td><a href="http://shaoguangleo.github.io/2011/02/08/c-beginner-switch-sentence">开关语句分支</a></td>
</tr>
<tr>
<td>char</td>
<td><a href="http://shaoguangleo.github.io/2011/01/28/c-beginner-variable-type">声明字符型变量或函数返回值类型</a></td>
</tr>
<tr>
<td>const</td>
<td><a href="http://shaoguangleo.github.io/2011/02/15/c-beginner-constant/">声明只读变量</a></td>
</tr>
<tr>
<td>continue</td>
<td>结束当前循环，开始下一轮循环</td>
</tr>
<tr>
<td>default</td>
<td><a href="http://shaoguangleo.github.io/2011/02/08/c-beginner-switch-sentence">开关语句中的”其它”分支</a></td>
</tr>
<tr>
<td>do</td>
<td><a href="http://shaoguangleo.github.io/2011/02/07/c-beginner-while-sentence">循环语句的循环体</a></td>
</tr>
<tr>
<td>double</td>
<td><a href="http://shaoguangleo.github.io/2011/01/28/c-beginner-variable-type">声明双精度浮点型变量或函数返回值类型</a></td>
</tr>
<tr>
<td>else</td>
<td><a href="http://shaoguangleo.github.io/2011/02/05/c-beginner-if-sentence">条件语句否定分支（与 if 连用）</a></td>
</tr>
<tr>
<td>enum</td>
<td><a href="http://shaoguangleo.github.io/2011/02/16/c-beginner-enum/">声明枚举类型</a></td>
</tr>
<tr>
<td>extern</td>
<td>声明变量或函数是在其它文件或本文件的其他位置定义</td>
</tr>
<tr>
<td>float</td>
<td><a href="http://shaoguangleo.github.io/2011/01/28/c-beginner-variable-type">声明浮点型变量或函数返回值类型</a></td>
</tr>
<tr>
<td>for</td>
<td><a href="http://shaoguangleo.github.io/2011/02/06/c-beginner-for-sentence">循环语句</a></td>
</tr>
<tr>
<td>goto</td>
<td>无条件跳转语句</td>
</tr>
<tr>
<td>if</td>
<td><a href="http://shaoguangleo.github.io/2011/02/05/c-beginner-if-sentence">条件语句</a></td>
</tr>
<tr>
<td>int</td>
<td><a href="http://shaoguangleo.github.io/2011/01/28/c-beginner-variable-type">声明整型变量或函数</a></td>
</tr>
<tr>
<td>long</td>
<td><a href="http://shaoguangleo.github.io/2011/01/28/c-beginner-variable-type">声明长整型变量或函数返回值类型</a></td>
</tr>
<tr>
<td>register</td>
<td>声明寄存器变量</td>
</tr>
<tr>
<td>return</td>
<td>子程序返回语句（可以带参数，也可不带参数）</td>
</tr>
<tr>
<td>short</td>
<td><a href="http://shaoguangleo.github.io/2011/01/28/c-beginner-variable-type">声明短整型变量或函数</a></td>
</tr>
<tr>
<td>signed</td>
<td>声明有符号类型变量或函数</td>
</tr>
<tr>
<td>sizeof</td>
<td><a href="http://shaoguangleo.github.io//2012/02/02/c-advance-operator-step3/">计算数据类型或变量长度（即所占字节数）</a></td>
</tr>
<tr>
<td>static</td>
<td>声明静态变量</td>
</tr>
<tr>
<td>struct</td>
<td><a href="http://shaoguangleo.github.io/2011/02/14/c-beginner-struct">声明结构体类型</a></td>
</tr>
<tr>
<td>switch</td>
<td><a href="http://shaoguangleo.github.io/2011/02/08/c-beginner-switch-sentence">用于开关语句</a></td>
</tr>
<tr>
<td>typedef</td>
<td><a href="http://shaoguangleo.github.io/2011/02/17/c-beginner-struct-typedef/">用以给数据类型取别名</a></td>
</tr>
<tr>
<td>unsigned</td>
<td>声明无符号类型变量或函数</td>
</tr>
<tr>
<td>union</td>
<td><a href="http://shaoguangleo.github.io/2013/03/28/c-union">声明共用体类型</a></td>
</tr>
<tr>
<td>void</td>
<td>声明函数无返回值或无参数，声明无类型指针</td>
</tr>
<tr>
<td>volatile</td>
<td>说明变量在程序执行中可被隐含地改变</td>
</tr>
<tr>
<td>while</td>
<td><a href="http://shaoguangleo.github.io/2011/02/07/c-beginner-while-sentence">循环语句的循环条件</a></td>
</tr>
</tbody></table>
<h3 id="C99-新增关键字"><a href="#C99-新增关键字" class="headerlink" title="C99 新增关键字"></a>C99 新增关键字</h3><table>
<thead>
<tr>
<th><code>_Bool</code></th>
<th><code>_Complex</code></th>
<th><code>_Imaginary</code></th>
<th><code>inline</code></th>
<th><code>restrict</code></th>
</tr>
</thead>
<tbody><tr>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<h3 id="C11-新增关键字"><a href="#C11-新增关键字" class="headerlink" title="C11 新增关键字"></a>C11 新增关键字</h3><table>
<thead>
<tr>
<th><code>_Alignas</code></th>
<th><code>_Alignof</code></th>
<th><code>_Atomic</code></th>
<th><code>_Generic</code></th>
<th><code>_Noreturn</code></th>
</tr>
</thead>
<tbody><tr>
<td><code>_Static_assert</code></td>
<td><code>_Thread_local</code></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>共用体</strong>是一种特殊的数据类型，允许您在相同的内存位置存储不同的数据类型。</p>
<p>什么意思呢，就是在同一块内存存储可以定义多个数据类型，但是在使用的时候，只有一个变量有效。</p>
<p>这里就有一个问题，变量有大有小呀，对的，所以这个时候共用体的空间为内部变量最大占用空间的值。</p>
<p>如此这般，共用体就可以通过共享存储空间，来避免当前没有被使用的变量所造成的存储空间的浪费。</p>
<p>共用体的成员可以使用任何数据类型，但是一个共用体所占用的存储空间的字节总数，必须保证至少足以能够容纳其占用空间字节数最大的成员。并且共用体每次只允许访问一个成员，也就是一种数据类型，确保按照正确的数据类型来访问共用体中的数据，就是你的责任了。</p>
<p>先看看union的格式：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> [<span class="title">tag</span>]</span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">   member definition;</span><br><span class="line">   member definition;</span><br><span class="line">   ...</span><br><span class="line">   member definition;</span><br><span class="line">} [variables];</span><br></pre></td></tr></tbody></table></figure>

<p>其中：</p>
<ul>
<li>union为类型变量；</li>
<li>tag为共用体的标记；</li>
<li>member definition为变量的定义；</li>
</ul>
<p>举个例子：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">test</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">   <span class="type">int</span> i;</span><br><span class="line">   <span class="type">float</span> f;</span><br><span class="line">   <span class="type">double</span> d;</span><br><span class="line">   <span class="type">char</span>  str[<span class="number">20</span>];</span><br><span class="line">} data;</span><br></pre></td></tr></tbody></table></figure>

<p>通过这个例子可以看到，这个结构体的大小是多少呢？可以通过程序来确认一下。</p>
<p>OK，这次我们来聊聊结构体。</p>
<p>任务来了，我想让你给学生建立一个数据库，该怎么来做。</p>
<p>这个学生包含的信息如下：</p>
<ul>
<li>ID：也就是学号，唯一区别码，用整型表示</li>
<li>Name：姓名，用字符串表示</li>
<li>Age：年龄，用整型表示</li>
<li>Sex：性别，用字符串表示</li>
</ul>
<p>按照目前学过的知识我们的代码如下，比如先来一个李雷同学的吧：</p>
<figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;string.h&gt;</span></span></span><br><span class="line"> </span><br><span class="line"><span class="class"><span class="keyword">union</span> <span class="title">test</span></span></span><br><span class="line"><span class="class">{</span></span><br><span class="line">   <span class="type">int</span> i;</span><br><span class="line">   <span class="type">float</span> f;</span><br><span class="line">   <span class="type">double</span> d;</span><br><span class="line">   <span class="type">char</span>  str[<span class="number">20</span>];</span><br><span class="line">};</span><br><span class="line"> </span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">( )</span></span><br><span class="line">{</span><br><span class="line">   <span class="class"><span class="keyword">union</span> <span class="title">test</span> <span class="title">data</span>;</span>        </span><br><span class="line"> </span><br><span class="line">   <span class="built_in">printf</span>( <span class="string">"data size : %d\n"</span>, <span class="keyword">sizeof</span>(data));</span><br><span class="line"> </span><br><span class="line">   <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/85/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/85/">85</a><span class="page-number current">86</span><a class="page-number" href="/page/87/">87</a><span class="space">&hellip;</span><a class="page-number" href="/page/100/">100</a><a class="extend next" rel="next" href="/page/87/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">郭大侠</p>
  <div class="site-description" itemprop="description">郭大侠的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">998</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">181</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1450</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://macshuo.com/" title="http:&#x2F;&#x2F;macshuo.com&#x2F;" rel="noopener" target="_blank">MacTalk</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://huhuidong.wordpress.com/" title="https:&#x2F;&#x2F;huhuidong.wordpress.com&#x2F;" rel="noopener" target="_blank">小胡</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2007 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郭大侠</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz","app_key":"NTHrGJp71GzEGvNUEUFumVcR","server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://shaoguangleo.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz',
      appKey     : 'NTHrGJp71GzEGvNUEUFumVcR',
      placeholder: "路过，即是缘分...",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
