<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"shaoguangleo.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="郭大侠的博客">
<meta property="og:type" content="website">
<meta property="og:title" content="浩瀚宇宙 灿烂星空">
<meta property="og:url" content="http://shaoguangleo.github.io/page/94/index.html">
<meta property="og:site_name" content="浩瀚宇宙 灿烂星空">
<meta property="og:description" content="郭大侠的博客">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="郭大侠">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://shaoguangleo.github.io/page/94/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>浩瀚宇宙 灿烂星空</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=a8cfacb0a536bd846d2fd545cedb4d61"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'a8cfacb0a536bd846d2fd545cedb4d61');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a8cfacb0a536bd846d2fd545cedb4d61";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="浩瀚宇宙 灿烂星空" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">浩瀚宇宙 灿烂星空</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">工作和生活中的七七八八</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/26/c-beginner-function/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/26/c-beginner-function/" class="post-title-link" itemprop="url">C语言 函数</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-26 22:28:20" itemprop="dateCreated datePublished" datetime="2011-01-26T22:28:20+08:00">2011-01-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/C%E8%AF%AD%E8%A8%80%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">C语言入门</span></a>
                </span>
            </span>

          
            <span id="/2011/01/26/c-beginner-function/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 函数" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/26/c-beginner-function/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/26/c-beginner-function/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/26/c-beginner-function/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/26/c-beginner-function/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="C语言-函数"><a href="#C语言-函数" class="headerlink" title="C语言 函数"></a>C语言 函数</h1><p>C语言的main其实也是一个函数，不过是个主函数，随着程序规模的增大，就要考虑</p>
<p>基础储备知识基本结束了，今天看一下稍微高级点的文件读写，这个主要针对的对象是什么呢，比如要统计学生的分数，一般我们都会有一个文件保存所有的学生的成绩，这个时候如果我们能读取这些信息就会少了很多人工输入的工作，在前面，我们的解决方案可能是输入每一个学生的成绩，这次我们通过读取文件来搞定。</p>
<p>而文件的读写又分为两种：</p>
<ul>
<li>文本文件：可以读懂的文件</li>
<li>二进制文件：读不懂的天数</li>
</ul>
<blockquote>
<p>这个跟程序员的世界很像，因为程序员的世界也是有0和1这两个元素组成的。</p>
</blockquote>
<p>先说说直观上比较容易理解的文本文件。</p>
<p>对于文件的读写，一般的步骤为：</p>
<ol>
<li>打开文件</li>
<li>读写文件</li>
<li>关闭文件</li>
</ol>
<p>对应的函数为：</p>
<ol>
<li>fopen</li>
<li>TODO</li>
</ol>
<h2 id="最简单的自定义函数"><a href="#最简单的自定义函数" class="headerlink" title="最简单的自定义函数"></a>最简单的自定义函数</h2><figure class="highlight c"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;stdio.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="type">void</span> <span class="title function_">newline</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">{</span><br><span class="line">	<span class="built_in">printf</span>(<span class="string">"\n"</span>);</span><br><span class="line">}</span><br><span class="line"></span><br><span class="line"><span class="type">int</span> <span class="title function_">main</span><span class="params">(<span class="type">void</span>)</span></span><br><span class="line">{</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"First Line.\n"</span>);</span><br><span class="line">    newline();</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">"Second Line.\n"</span>);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">}</span><br></pre></td></tr></tbody></table></figure>


      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/26/astronomy-aips-test/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/26/astronomy-aips-test/" class="post-title-link" itemprop="url">Astro AIPS测试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-26 22:05:49" itemprop="dateCreated datePublished" datetime="2011-01-26T22:05:49+08:00">2011-01-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Astronomy/" itemprop="url" rel="index"><span itemprop="name">Astronomy</span></a>
                </span>
            </span>

          
            <span id="/2011/01/26/astronomy-aips-test/" class="post-meta-item leancloud_visitors" data-flag-title="Astro AIPS测试" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/26/astronomy-aips-test/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/26/astronomy-aips-test/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/26/astronomy-aips-test/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/26/astronomy-aips-test/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="AIPS-测试与退出"><a href="#AIPS-测试与退出" class="headerlink" title="AIPS 测试与退出"></a>AIPS 测试与退出</h1><p>折腾了几天aips了，终于能打开，读数据，关闭了。虽然对数据定标等还一头雾水，但为免连怎么读数据都忘了，在这里记一笔。</p>
<p>开aips 在aips数据目录下</p>
<figure class="highlight swift"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">XX</span> <span class="meta">@XX</span> <span class="type">FITS</span>]$ .   <span class="regexp">/the/</span>path<span class="regexp">/of/</span>aips<span class="operator">/</span><span class="type">LOGIN</span>.<span class="type">SH</span></span><br></pre></td></tr></tbody></table></figure>

<p>这里新版本多了一个$CDTST</p>
<p>可以把这个写到bashrc中，这样就可以每次开终端自动载入了。</p>
<figure class="highlight autoit"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[XX <span class="symbol">@XX</span> FITS]$ aips tv=<span class="keyword">local</span></span><br></pre></td></tr></tbody></table></figure>

<p>读数据（对aips友好的格式，假设数据文件为AL554_1，AL554_2等等）</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">task ‘fillm’</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">datain ‘AL554_’</span></span><br><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">go</span></span><br></pre></td></tr></tbody></table></figure>

<p>关闭aips，最好不要</p>
<figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">exit</span></span><br></pre></td></tr></tbody></table></figure>

<p>而是要</p>
<figure class="highlight shell"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_">&gt;</span><span class="language-bash">kleenex</span></span><br></pre></td></tr></tbody></table></figure>

<p>如果对已有的数据区不满意想加一个？没问题。在……/aips/DA00/DADEVS.LIST文件里加一行新数据目录的路径，然后创建此目录，在此目录（比如叫LOCALHOST_3）中</p>
<figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">[xx<span class="variable">@xx</span> LOCALHOST_3]<span class="variable">$ </span>touch SPACE</span><br><span class="line">[xx<span class="variable">@xx</span> LOCALHOST_3]<span class="variable">$ </span>chmod <span class="number">771</span> SPACE</span><br></pre></td></tr></tbody></table></figure>

<p>然后新的数据区就创建好了。</p>
<p>这次就写这些吧。等会定标了再接上。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/26/linux-echo-beginner/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/26/linux-echo-beginner/" class="post-title-link" itemprop="url">念念不忘，必有回响 的 echo</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-26 21:30:00" itemprop="dateCreated datePublished" datetime="2011-01-26T21:30:00+08:00">2011-01-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2011/01/26/linux-echo-beginner/" class="post-meta-item leancloud_visitors" data-flag-title="念念不忘，必有回响 的 echo" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/26/linux-echo-beginner/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/26/linux-echo-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/26/linux-echo-beginner/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/26/linux-echo-beginner/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="念念不忘，必有回响-的-echo"><a href="#念念不忘，必有回响-的-echo" class="headerlink" title="念念不忘，必有回响 的 echo"></a>念念不忘，必有回响 的 echo</h1><p>.. _linux_echo_beginner:</p>
<p><code>echo</code>命令用于在终端设备上输出字符串或变量的值，类似于<strong>Python</strong>的<code>print</code>和<strong>C</strong>语言的<code>printf</code>，是<strong>Linux</strong>系统中最常用的命令之一。</p>
<p>其中输出字符串主要在shell脚本中使用，常用的还是输出变量的值。</p>
<p>命令格式为：<code>echo [参数] [字符串]</code></p>
<p>其中常用的参数为：</p>
<ul>
<li>-n	不输出结尾的换行符</li>
<li>-e “\a”发出警告音</li>
<li>-e “\n”换行，光标移至行首</li>
<li>-e “\r”光标移至行首，但不换行、主用用在打印循环的情况下</li>
</ul>
<h2 id="几个示例"><a href="#几个示例" class="headerlink" title="几个示例"></a>几个示例</h2><p>输出一段字符串：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$  <span class="built_in">echo</span> <span class="string">"Hello Linux"</span> </span><br><span class="line">Hello Linux</span><br></pre></td></tr></tbody></table></figure>

<p>输出变量提取后的值：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></tbody></table></figure>
<p>一般使用在变量前加上 $ 符号的方式提取出变量的值，例如：$ PATH，然后再用echo命令予以输出。或者直接使用echo命令输出一段字符串到屏幕上，起到给用户提示的作用。</p>
<blockquote>
<p>其中的PATH与Windows的环境变量类似</p>
</blockquote>
<p>几个Linux命令来输出：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> `<span class="built_in">date</span>`</span><br><span class="line">Sat 12 Feb 2011 22:19:03 PM CST</span><br></pre></td></tr></tbody></table></figure>


<p>查询上一次的执行结果</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$echo</span> $?</span><br></pre></td></tr></tbody></table></figure>

<p><code>$?</code>是Shell中的一个特殊变量，表示上一条命令的退出状态，0表示成功。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/26/linux-echo/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/26/linux-echo/" class="post-title-link" itemprop="url">Linux echo命令</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-26 21:30:00" itemprop="dateCreated datePublished" datetime="2011-01-26T21:30:00+08:00">2011-01-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Linux/Linux%E5%85%A5%E9%97%A8/" itemprop="url" rel="index"><span itemprop="name">Linux入门</span></a>
                </span>
            </span>

          
            <span id="/2011/01/26/linux-echo/" class="post-meta-item leancloud_visitors" data-flag-title="Linux echo命令" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/26/linux-echo/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/26/linux-echo/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/26/linux-echo/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/26/linux-echo/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Linux-的-echo-命令"><a href="#Linux-的-echo-命令" class="headerlink" title="Linux 的 echo 命令"></a>Linux 的 echo 命令</h1><p><code>echo</code>命令用于在终端设备上输出字符串或变量的值，类似于<strong>Python</strong>的<code>print</code>和<strong>C</strong>语言的<code>printf</code>，是<strong>Linux</strong>系统中最常用的命令之一。</p>
<p>其中输出字符串主要在shell脚本中使用，常用的还是输出变量的值。</p>
<p>命令格式为：<code>echo [参数] [字符串]</code></p>
<p>其中常用的参数为：</p>
<ul>
<li>-n	不输出结尾的换行符</li>
<li>-e “\a”发出警告音</li>
<li>-e “\n”换行，光标移至行首</li>
<li>-e “\r”光标移至行首，但不换行、主用用在打印循环的情况下</li>
</ul>
<h2 id="几个示例"><a href="#几个示例" class="headerlink" title="几个示例"></a>几个示例</h2><p>输出一段字符串：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$  <span class="built_in">echo</span> <span class="string">"Hello Linux"</span> </span><br><span class="line">Hello Linux</span><br></pre></td></tr></tbody></table></figure>

<p>输出变量提取后的值：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> <span class="variable">$PATH</span></span><br><span class="line">/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin:/root/bin</span><br></pre></td></tr></tbody></table></figure>
<p>一般使用在变量前加上$符号的方式提取出变量的值，例如：$PATH，然后再用echo命令予以输出。或者直接使用echo命令输出一段字符串到屏幕上，起到给用户提示的作用。</p>
<blockquote>
<p>其中的PATH与Windows的环境变量类似</p>
</blockquote>
<p>几个Linux命令来输出：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">echo</span> `<span class="built_in">date</span>`</span><br><span class="line">Sat 12 Feb 2011 22:19:03 PM CST</span><br></pre></td></tr></tbody></table></figure>


<p>查询上一次的执行结果</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$echo</span> $?</span><br></pre></td></tr></tbody></table></figure>

<p><code>$?</code>是Shell中的一个特殊变量，表示上一条命令的退出状态，0表示成功。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/26/radio_astronomy_aips_install_cont/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/26/radio_astronomy_aips_install_cont/" class="post-title-link" itemprop="url">aips 初步安装与尝试</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-26 21:11:00" itemprop="dateCreated datePublished" datetime="2011-01-26T21:11:00+08:00">2011-01-26</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B0%84%E7%94%B5%E5%A4%A9%E6%96%87/" itemprop="url" rel="index"><span itemprop="name">射电天文</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B0%84%E7%94%B5%E5%A4%A9%E6%96%87/%E5%A4%A9%E6%96%87/" itemprop="url" rel="index"><span itemprop="name">天文</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B0%84%E7%94%B5%E5%A4%A9%E6%96%87/%E5%A4%A9%E6%96%87/%E5%B0%84%E7%94%B5/" itemprop="url" rel="index"><span itemprop="name">射电</span></a>
                </span>
            </span>

          
            <span id="/2011/01/26/radio_astronomy_aips_install_cont/" class="post-meta-item leancloud_visitors" data-flag-title="aips 初步安装与尝试" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/26/radio_astronomy_aips_install_cont/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/26/radio_astronomy_aips_install_cont/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/26/radio_astronomy_aips_install_cont/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/26/radio_astronomy_aips_install_cont/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="aips初步安装与尝试"><a href="#aips初步安装与尝试" class="headerlink" title="aips初步安装与尝试"></a>aips初步安装与尝试</h1><p>最近准备开始处理一些VLA观测的数据，于是装了aips。本身aips的安装十分简单，到NRAO网站上下载一个安装脚本&nbsp;<br><a href="ftp://ftp.aoc.nrao.edu/pub/software/aips/31DEC10/install.pl">ftp://ftp.aoc.nrao.edu/pub/software/aips/31DEC10/install.pl</a>&nbsp;</p>
<figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[XXX<span class="variable">@XXX</span>]<span class="variable">$&nbsp;</span>perl install.pl -n&nbsp;</span><br></pre></td></tr></tbody></table></figure>

<p>(切记，这里一定要加上-n参数，如果你自己下下来一个tar包安装，就等着欲哭无泪吧。哈哈。^_^，经验之谈)<br>安装就自动进行了，过程中选择一些目录（比如，主目录），基本不需要改什么东西。&nbsp;<br>装完了在主目录里会有一个脚本LOGIN.SH，运行一下&nbsp;</p>
<figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[XXX<span class="variable">@XXX</span>]<span class="variable">$ </span>. LOGIN.SH&nbsp;</span><br></pre></td></tr></tbody></table></figure>
<p>然后就可以用aips了。<br>（不过我遇到的问题是index不能生成，不晓得怎么回事？？）&nbsp;</p>
<figure class="highlight crystal"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[XXX<span class="variable">@XXX</span>]<span class="variable">$ </span>aips&nbsp;</span><br></pre></td></tr></tbody></table></figure>
<p>但是还是有一些问题，我迷糊了好几天，终于在NRAO的网站上找到一点信息&nbsp;<br><a href="http://www.aips.nrao.edu/aipsmgr/">http://www.aips.nrao.edu/aipsmgr/</a>&nbsp;<br>我遇到的问题和tape server有关，我按照上面网页上说的在/etc/services里加了几行内容</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sssin</span>           <span class="number">5000</span><span class="string">/tcp</span>        <span class="string">SSSIN</span>      <span class="comment"># AIPS TV server</span></span><br><span class="line"><span class="string">ssslock</span>         <span class="number">5002</span><span class="string">/tcp</span>        <span class="string">SSSLOCK</span>    <span class="comment"># AIPS TV Lock</span></span><br><span class="line"><span class="string">msgserv</span>         <span class="number">5008</span><span class="string">/tcp</span>        <span class="string">MSGSERV</span>    <span class="comment"># AIPS Message Server</span></span><br><span class="line"><span class="string">tekserv</span>         <span class="number">5009</span><span class="string">/tcp</span>        <span class="string">TEKSERV</span>    <span class="comment"># AIPS TekServer</span></span><br><span class="line"><span class="string">aipsmt0</span>         <span class="number">5010</span><span class="string">/tcp</span>        <span class="string">AIPSMT0</span>    <span class="comment"># AIPS remote FITS disk access</span></span><br><span class="line"><span class="string">aipsmt1</span>         <span class="number">5011</span><span class="string">/tcp</span>        <span class="string">AIPSMT1</span>    <span class="comment"># AIPS remote tape 1</span></span><br><span class="line"><span class="string">aipsmt2</span>         <span class="number">5012</span><span class="string">/tcp</span>        <span class="string">AIPSMT2</span>    <span class="comment"># AIPS remote tape 2</span></span><br><span class="line"><span class="string">aipsmt3</span>         <span class="number">5013</span><span class="string">/tcp</span>        <span class="string">AIPSMT3</span></span><br><span class="line"><span class="string">aipsmt4</span>         <span class="number">5014</span><span class="string">/tcp</span>        <span class="string">AIPSMT4</span></span><br><span class="line"><span class="string">aipsmt5</span>         <span class="number">5015</span><span class="string">/tcp</span>        <span class="string">AIPSMT5</span></span><br><span class="line"><span class="string">aipsmt6</span>         <span class="number">5016</span><span class="string">/tcp</span>        <span class="string">AIPSMT6</span></span><br><span class="line"><span class="string">aipsmt7</span>         <span class="number">5017</span><span class="string">/tcp</span>        <span class="string">AIPSMT7</span></span><br></pre></td></tr></tbody></table></figure>
<p>然后就正常了。后来在另外一台机器上也装了aips，但是老是出错。后来想明白，这个机器上装了不只一个aips（另一个是管理员装的），我用了其中的一个（管理员装的），但是把数据放在了另一个aips对应的文件夹（我自己装的）里，于是就死活找不到文件。这个错误太低级了，但是也算是找到并改正了。&nbsp;<br>关于如何开始使用aips，网上有两个简单的教程不错<br>(这两个都有找到)&nbsp;<br><a href="http://www-astro.physics.ox.ac.uk/~hrk/AIPS_TUTORIAL/HRK_AIPS_1.html">http://www-astro.physics.ox.ac.uk/~hrk/AIPS_TUTORIAL/HRK_AIPS_1.html</a></p>
<p><a href="http://veraserver.mtk.nao.ac.jp/VERA/kurayama/WinterSchool/aips2.htm">http://veraserver.mtk.nao.ac.jp/VERA/kurayama/WinterSchool/aips2.htm</a></p>
<p>参考 <a href="http://blog.sciencenet.cn/blog-117333-328076.html">http://blog.sciencenet.cn/blog-117333-328076.html</a><br>代码参考 <a href="https://www.github.com/shaoguangleo/radio_astronomy">https://www.github.com/shaoguangleo/radio_astronomy</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/24/c-beginner-prepare-work/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/24/c-beginner-prepare-work/" class="post-title-link" itemprop="url">C语言 最适合学习C语言的开发环境</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-24 22:28:20" itemprop="dateCreated datePublished" datetime="2011-01-24T22:28:20+08:00">2011-01-24</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/" itemprop="url" rel="index"><span itemprop="name">C</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/Program/" itemprop="url" rel="index"><span itemprop="name">Program</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/Program/Linux/" itemprop="url" rel="index"><span itemprop="name">Linux</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/Program/Linux/Windows/" itemprop="url" rel="index"><span itemprop="name">Windows</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/C/Program/Linux/Windows/MacOSX/" itemprop="url" rel="index"><span itemprop="name">MacOSX</span></a>
                </span>
            </span>

          
            <span id="/2011/01/24/c-beginner-prepare-work/" class="post-meta-item leancloud_visitors" data-flag-title="C语言 最适合学习C语言的开发环境" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/24/c-beginner-prepare-work/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/24/c-beginner-prepare-work/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/24/c-beginner-prepare-work/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/24/c-beginner-prepare-work/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="最适合学习C语言的开发环境"><a href="#最适合学习C语言的开发环境" class="headerlink" title="最适合学习C语言的开发环境"></a>最适合学习C语言的开发环境</h1><p>感觉编程从一开始走的路子就不对。<br>大学的时候老师醉心于调bug，Windows上用着Borland公司的Turbo C，无法自拔，经常自言自语，留下一脸懵逼的学生们。<br>这个时候Linux已经发展的如火如荼并发布了稳定版的2.6版本的内核，Ubuntu横空出世。</p>
<p>研究生的时候老师醉心于编写界面，拿着Visual C++动辄自动生成的上万行代码来一步一步的来查找bug，编写界面。</p>
<p>正式工作后工作环境完全转移到Linux，正式开始真正意义上的编程。</p>
<p>如何开始编程，最简单的开始就是搭建开发环境了，这里一定要指出，一定使用类Unix系统，一定使用类Unix系统，一定使用类Unix系统，重要的话说3遍。</p>
<p>当然Windows系统可以使用Oracle公司的开源虚拟机VirtualBox来搞定或者使用Cygwin来搞定。</p>
<p>我的开发环境是Fedora 6，给个界面看看</p>
<p><img src="/2011/01/24/c-beginner-prepare-work/images/c-Fedora_Core_6.png" alt="Fedora 6"></p>
<p>如果使用其他的系统，开发环境可以通过下面的命令来准备</p>
<h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><h3 id="Debian系"><a href="#Debian系" class="headerlink" title="Debian系"></a>Debian系</h3><p>Debain系列为基于Debian开发的发行版，比如著名的Ubuntu，只需要打开终端输入下列命令即可：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> apt-get install build-essential</span><br></pre></td></tr></tbody></table></figure>

<p>此时输入Y同意，即可安装相关的环境。</p>
<p>流行度很广的Ubuntu10.04系统</p>
<p><img src="/2011/01/24/c-beginner-prepare-work/images/c-Ubuntu_10.04_screenshot.png" alt="Ubuntu 10.04"></p>
<h3 id="Redhat系"><a href="#Redhat系" class="headerlink" title="Redhat系"></a>Redhat系</h3><p>Redhat系列为基于Redhat开发的发行版，比如著名的CentOS和Fedora，只需要打开终端输入下列命令即可：</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">sudo</span> yum groupinstall <span class="string">"Development Tools"</span></span><br></pre></td></tr></tbody></table></figure>



<h2 id="MacOSX"><a href="#MacOSX" class="headerlink" title="MacOSX"></a>MacOSX</h2><p>MacOSX号称最好用最稳定的系统，俺还没有这个平台，不过据说只要安装上Xcode，基本上就具备开发环境了。土豪们可以试一试了。</p>
<p><img src="/2011/01/24/c-beginner-prepare-work/images/c-xcode.jpg" alt="Xcode">{width=30%}</p>
<h2 id="Windows"><a href="#Windows" class="headerlink" title="Windows"></a>Windows</h2><p>Cygwin是一个在windows平台上运行的类UNIX模拟环境，是cygnus solutions公司开发的自由软件，只要下载一下安装包，然后安装选定需要的开发环境即可，搜索一下就有很多的教程，此处不在阐述，这里还是推荐，在机器性能比较好的情况下，还是使用VirtualBox来个全功能版本的Linux吧。</p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/22/vim-commandline-navigator/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/22/vim-commandline-navigator/" class="post-title-link" itemprop="url">Vim命令行导航</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-22 18:22:00" itemprop="dateCreated datePublished" datetime="2011-01-22T18:22:00+08:00">2011-01-22</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Vim/" itemprop="url" rel="index"><span itemprop="name">Vim</span></a>
                </span>
            </span>

          
            <span id="/2011/01/22/vim-commandline-navigator/" class="post-meta-item leancloud_visitors" data-flag-title="Vim命令行导航" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/22/vim-commandline-navigator/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/22/vim-commandline-navigator/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/22/vim-commandline-navigator/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/22/vim-commandline-navigator/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="Vim命令行导航"><a href="#Vim命令行导航" class="headerlink" title="Vim命令行导航"></a>Vim命令行导航</h1><p>当从命令行打开一个文件，你可以通过指定命令行参数来导航到一个特殊的位置，如下：</p>
<table>
<thead>
<tr>
<th>导航键</th>
<th>描述</th>
</tr>
</thead>
<tbody><tr>
<td>$ vim +142 <filename></filename></td>
<td>打开文件到143行</td>
</tr>
<tr>
<td>$ vim +/search-term <filename></filename></td>
<td>打开文件移动到向下搜索到指定词语的位置</td>
</tr>
<tr>
<td>$ vim +?search-term <filename></filename></td>
<td>打开文件移动到向上搜索到指定词语的位置</td>
</tr>
<tr>
<td>$ vim -t TAG <filename></filename></td>
<td>移动到指定的TAG处</td>
</tr>
</tbody></table>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/19/radio_astronomy_install_aips_simple/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/19/radio_astronomy_install_aips_simple/" class="post-title-link" itemprop="url">AIPS 简略安装说明</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-19 21:11:00" itemprop="dateCreated datePublished" datetime="2011-01-19T21:11:00+08:00">2011-01-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B0%84%E7%94%B5%E5%A4%A9%E6%96%87/" itemprop="url" rel="index"><span itemprop="name">射电天文</span></a>
                </span>
            </span>

          
            <span id="/2011/01/19/radio_astronomy_install_aips_simple/" class="post-meta-item leancloud_visitors" data-flag-title="AIPS 简略安装说明" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/19/radio_astronomy_install_aips_simple/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/19/radio_astronomy_install_aips_simple/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/19/radio_astronomy_install_aips_simple/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/19/radio_astronomy_install_aips_simple/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="AIPS-简略安装说明"><a href="#AIPS-简略安装说明" class="headerlink" title="AIPS 简略安装说明"></a>AIPS 简略安装说明</h1><h2 id="下载脚本"><a href="#下载脚本" class="headerlink" title="下载脚本"></a>下载脚本</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">wget ftp://ftp.aoc.nrao.edu/pub/software/aips/31DEC23/install.pl</span><br><span class="line"><span class="built_in">chmod</span> +x install.pl</span><br></pre></td></tr></tbody></table></figure>

<h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">perl install.pl -n</span><br></pre></td></tr></tbody></table></figure>

<p>其中需要注意的是：</p>
<ul>
<li>安装脚本选择在~/aips/中</li>
<li>group owenrship 设置为 prjg9600014</li>
<li>Site name 为 SHAO</li>
<li>Data Area 设置为 ： /groups/vlbi_group/home/share/aips/data/</li>
<li>Printer 设为为 A4</li>
</ul>
<p>安装完成后添加下列信息到/etc/service</p>
<figure class="highlight yaml"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">sssin</span>           <span class="number">5000</span><span class="string">/tcp</span>        <span class="string">SSSIN</span>      <span class="comment"># AIPS TV server</span></span><br><span class="line"><span class="string">ssslock</span>         <span class="number">5002</span><span class="string">/tcp</span>        <span class="string">SSSLOCK</span>    <span class="comment"># AIPS TV Lock</span></span><br><span class="line"><span class="string">msgserv</span>         <span class="number">5008</span><span class="string">/tcp</span>        <span class="string">MSGSERV</span>    <span class="comment"># AIPS Message Server</span></span><br><span class="line"><span class="string">tekserv</span>         <span class="number">5009</span><span class="string">/tcp</span>        <span class="string">TEKSERV</span>    <span class="comment"># AIPS TekServer</span></span><br><span class="line"><span class="string">aipsmt0</span>         <span class="number">5010</span><span class="string">/tcp</span>        <span class="string">AIPSMT0</span>    <span class="comment"># AIPS remote FITS disk access</span></span><br><span class="line"><span class="string">aipsmt1</span>         <span class="number">5011</span><span class="string">/tcp</span>        <span class="string">AIPSMT1</span>    <span class="comment"># AIPS remote tape 1</span></span><br><span class="line"><span class="string">aipsmt2</span>         <span class="number">5012</span><span class="string">/tcp</span>        <span class="string">AIPSMT2</span>    <span class="comment"># AIPS remote tape 2</span></span><br></pre></td></tr></tbody></table></figure>


<p>代码参考 <a href="https://www.github.com/shaoguangleo/radio_astronomy">https://www.github.com/shaoguangleo/radio_astronomy</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/19/radio_astronomy_install_aips/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/19/radio_astronomy_install_aips/" class="post-title-link" itemprop="url">aips 详细安装攻略</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-19 21:11:00" itemprop="dateCreated datePublished" datetime="2011-01-19T21:11:00+08:00">2011-01-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B0%84%E7%94%B5%E5%A4%A9%E6%96%87/" itemprop="url" rel="index"><span itemprop="name">射电天文</span></a>
                </span>
            </span>

          
            <span id="/2011/01/19/radio_astronomy_install_aips/" class="post-meta-item leancloud_visitors" data-flag-title="aips 详细安装攻略" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/19/radio_astronomy_install_aips/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/19/radio_astronomy_install_aips/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/19/radio_astronomy_install_aips/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/19/radio_astronomy_install_aips/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="AIPS-详细安装攻略"><a href="#AIPS-详细安装攻略" class="headerlink" title="AIPS 详细安装攻略"></a>AIPS 详细安装攻略</h1><h2 id="下载脚本"><a href="#下载脚本" class="headerlink" title="下载脚本"></a>下载脚本</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载安装脚本</span></span><br><span class="line">wget ftp://ftp.aoc.nrao.edu/pub/software/aips/31DEC23/install.pl</span><br><span class="line"><span class="comment"># 更改可执行权限</span></span><br><span class="line"><span class="built_in">chmod</span> +x install.pl</span><br></pre></td></tr></tbody></table></figure>

<h2 id="开始安装"><a href="#开始安装" class="headerlink" title="开始安装"></a>开始安装</h2><figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">perl install.pl -n <span class="comment"># 二进制安装</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 选择cnSRC group，对于实例来讲</span></span><br><span class="line">设置为prjg9600014</span><br></pre></td></tr></tbody></table></figure>

<h2 id="具体安装步骤"><a href="#具体安装步骤" class="headerlink" title="具体安装步骤"></a>具体安装步骤</h2><p>AIPS安装步骤 <strong>黑体部分特别注意</strong></p>
<h3 id="预备工作"><a href="#预备工作" class="headerlink" title="预备工作"></a>预备工作</h3><p>We assume that you have followed the instructions and retrieved the Latest version of AIPS (or the frozen, released version). This means you have:</p>
<ul>
<li>Downloaded the latest version of the Install Wizard (<a href="ftp://ftp.aoc.nrao.edu/pub/software/aips/31DEC20/install.pl">install.pl</a>);</li>
<li>If you are doing a binary installation from a CD, downloaded the latest version of the CD set-up procedure (CDSETUP) (Both of these are on the CD, so the download is only a precaution.);</li>
<li>   Binary installations are offered for MacIntosh PPC computers (using the IBM xlf compiler), MacIntosh Intel computers (using the Intel compiler), Solaris Ultra computers (using the SUNWspro compiler), and Linux computers (using the Intel compiler). These are also available from CDrom for the frozen version of AIPS. If you are not doing a binary installation, you must have downloaded the “tarball” (.tar.gz) file for the release;</li>
<li>   Placed install.pl and the tar file (if appropriate) or CDSETUP in what will be your AIPS_ROOT area.</li>
<li>   Moved any old $HOME/.AIPSRC to a new name for reference. An old file may confuse the new installation.</li>
<li>   Alternatively, you may edit the old $HOME/.AIPSRC for use by the new installation. Delete the lines showing DOWNLOADED and UNPACKED and correct the CCOMOPT line to refer to the new version rather than the old one.<br>You should also make sure you have perl installed (it is, in /usr/bin on Linux systems) as that is a pre-requisite of running the wizard.<br>If you are installing from CDrom, you should now transfer to the guide to CDSETUP.</li>
</ul>
<p>进行二进制安装而不是解压文本并编译它，请在调用中添加-n选项。<br>如果对于安装过程超级感兴趣，可以加上-d选项进入详细模式（并在菜单之间禁用清除屏幕功能）。</p>
<h3 id="How-the-Menus-work"><a href="#How-the-Menus-work" class="headerlink" title="How the Menus work"></a>How the Menus work</h3><p>The “install wizard” is really just a simple, albeit large, perl script that walks you through a series of menus. This is not a “GUI” or graphical wizard; it only uses text, and can be run in any terminal emulator (or even on an old fashioned VT100 if you have one). At each menu, the screen is cleared, some brief explanatory text will appear at the top of the screen, and a menu or other question will be presented. You then enter whatever text is appropriate and press <enter> or <return> to continue.<br>At each menu prompt, you will have several universal options:<br>-	Back to go back to the previous menu;<br>-	Quit to exit immediately<br>-	On most menus/queries, pressing <return> will cause a default sensible action to occur.<br>In addition, you can use the interrupt (<control-c>) sequence to stop the install at any time. If you do, or if you use the Quit option, the details of what you have already entered will be saved. This information is stored in a <del>/.AIPSRC file (the tilde “</del>/“ means the file is in your login area) and is re-read on subsequent invocations of the install wizard. The .AIPSRC file is plain text, with keyword=value pairs so it is easy to understand.<br>The remainder of this document will describe – in more detail than the script itself does – what is occuring at each of the menus, and what options you have. Note that menus 1, 2, 3, and 10 will be skipped when doing a binary installation from the network or from CD.</control-c></return></return></enter></p>
<h3 id="Screen-0-INTRODUCTION"><a href="#Screen-0-INTRODUCTION" class="headerlink" title="Screen 0: INTRODUCTION"></a>Screen 0: INTRODUCTION</h3><p>Before it does anything, the script looks around for a “tarball”, i.e., the 31DEC03.tar.gz file. It checks the current working directory, the AIPS_ROOT area if this is defined, and finally if these fail, your home directory. Then it shows you the welcome screen:</p>
<h2 id="Screen-0-INTRODUCTION-1"><a href="#Screen-0-INTRODUCTION-1" class="headerlink" title="Screen 0: INTRODUCTION"></a>Screen 0: INTRODUCTION</h2><p>Welcome to the new AIPS Install Wizard (AipsWiz)!<br>It will do the following:</p>
<ol>
<li>Look for (and/or download) the ‘tarball’ for 31DEC03</li>
<li>Unpack it wherever you specify</li>
<li>Ask you for various settings through a set of menus</li>
<li>Review your settings, and</li>
<li>Do the installation with no further input needed.</li>
</ol>
<p>Things can go wrong (!) so this procedure is not perfect,<br>but it saves state in a file .AIPSRC in your home area.<br>So you can easily restart an interrupted install attempt,<br>without re-entering all your settings.  You can also go<br>back a screen by typing ‘B’ to most prompts, or you<br>can Quit at any menu by entering ‘Q’.</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Press <enter> or <return> to get started:</return></enter></p>
<p>回车即可开始安装。</p>
<p>只要确保你在正确的目录下,目前我的目录为<code>~/aips/</code>，且有31DEC23.tar.gz文件即可。<br>如果没有，脚本会提示你下载。</p>
<h2 id="If-you-have-run-the-wizard-before-from-this-account-and-have-let-it-unpack-the-tarball-you-will-get-a-different-menu-Screen-0-Re-Introduction"><a href="#If-you-have-run-the-wizard-before-from-this-account-and-have-let-it-unpack-the-tarball-you-will-get-a-different-menu-Screen-0-Re-Introduction" class="headerlink" title="If you have run the wizard before from this account, and have let it unpack the tarball, you will get a different menu:## Screen 0: Re-Introduction"></a>If you have run the wizard before from this account, and have let it unpack the tarball, you will get a different menu:<br>## Screen 0: Re-Introduction</h2><p>Welcome back to the AIPS Install Wizard (AipsWiz).<br>It would appear you’ve been here before.</p>
<p>If you REALLY want to start over, you may want to remove<br>the .AIPSRC file in this account’s home directory.</p>
<p>Otherwise, you can skip forward to a specific screen by<br>entering its number at the prompt.  The default action<br>is to simply start at screen 1.  Screens are:</p>
<ol>
<li><p>Optionally download 31DEC03 tarball</p>
</li>
<li><p>Confirm that tarball is correct</p>
</li>
<li><p>Choose AIPS_ROOT, optionally unpack tarball</p>
</li>
<li><p>Group ownership, group write enable/disable</p>
</li>
<li><p>Site name, Architecture</p>
</li>
<li><p>Additional hosts</p>
</li>
<li><p>Data area definition</p>
</li>
<li><p>Printer setup</p>
</li>
<li><p>Tape drives</p>
</li>
<li><p>Choose Unix or INET services (for TV, etc)</p>
</li>
<li><p>Advanced settings</p>
</li>
<li><p>Final check before doing the install</p>
<p>   [You may also type B for back, or Q to Quit]</p>
</li>
</ol>
<p>AipsWiz: ===&gt; Press  or , or enter a screen number:<br>So if you interrupted a previous install attempt at, say, the adding additional hosts step, you can go directly to that screen and continue as if nothing had happened.</p>
<h2 id="Screen-1-DOWNLOAD"><a href="#Screen-1-DOWNLOAD" class="headerlink" title="Screen 1: DOWNLOAD"></a>Screen 1: DOWNLOAD</h2><h2 id="Screen-1-DOWNLOAD-1"><a href="#Screen-1-DOWNLOAD-1" class="headerlink" title="Screen 1: DOWNLOAD"></a>Screen 1: DOWNLOAD</h2><p>Found a ‘tarball’ /opt/aips/31DEC03.tar.gz<br>         ………………Dated 2003.01.24:05:22.42 (UT)<br>         ……… downloaded on 2003.01.24:18:34.24 (UT)<br>         ……. current time is 2003.01.24:18:49.26 (UT)</p>
<p>You can:</p>
<p>   (G) Get a newer copy from NRAO’s ftp site,<br>       (the file is generated nightly)<br>   (S) Skip the download and use the existing tarball, or<br>   (Q) Quit now.</p>
<p>NOTE: if by some chance the automatic ftp fetch fails, you<br>      may want to fetch it yourself by hand, from</p>
<pre><code>  ftp.aoc.nrao.edu/pub/software//aips/31DEC03/31DEC03.tar.gz


     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; What do you want to do? [default S]<br>What goes on behind the scenes here is some exploration: looking for the “tarball”, and checking the .AIPSRC file for when it thinks this was downloaded (note: if the wizard finds the tarball but does not download it itself, it applies the “now” date to the “downloaded” time).<br>Most of the time you will simply want to use the Skip option; it’s usually only worth getting a new tarball if the one you have is more than a month or two out of date. Let’s assume that you’ve skipped ahead.</p>
<h2 id="Screen-2-CONFIRMATION"><a href="#Screen-2-CONFIRMATION" class="headerlink" title="Screen 2: CONFIRMATION"></a>Screen 2: CONFIRMATION</h2><p>Proceeding with 31DEC03 install/upgrade.  Please check:</p>
<p>-rw-r–r–    1 aipsmgr  aipspgmr 46290244 Jan 24 00:22 /opt/aips/31DEC03.tar.gz</p>
<p>that this is the file you want (should be &gt;30 Mbytes)</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Proceed [Y/N, default Y]<br>As you can see, this is just a confirmation step that gives you yet another chance to bail out if necessary. Let’s assume you proceed.</p>
<h2 id="Screen-3-Where-to-unpack"><a href="#Screen-3-Where-to-unpack" class="headerlink" title="Screen 3: Where to unpack"></a>Screen 3: Where to unpack</h2><p>Please tell me where to unpack the 31DEC03 version of AIPS<br>(This is the so-called AIPS_ROOT area).</p>
<p>The default is /home/aips/AIPS</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; AIPS Root area: /opt/aips<br>NOTE WELL: This screen will set where you want the AIPS_ROOT area to be. It defaults to the current directory. The example above shows the user entering (in red) the desired area.<br>You may want to remove any existing TEXT area in the specified directory before proceeding. Once you enter the AIPS_ROOT value, the wizard proceeds to unpack the tarball with this dialog:<br>AipsWiz: Unpacking the ‘tarball’ /home/myname/tmp/31DEC03.tar.gz<br>AipsWiz: in the /opt/aips directory<br>AipsWiz: This may generate some errors if you are overwriting, but<br>AipsWiz: these (‘Cannot unlink: directory not empty’) are benign.<br>AipsWiz: (printing a dot every 100 files for your amusement…<br>………………………………………………….</p>
<p>AipsWiz: Unpacking apparently worked (total of 5769 files)<br>AipsWiz: ==&gt; Press  to continue::<br>The “dot printing” will not be at a uniform speed, as of course the size of each chunk of 100 files will vary. It will be slow near the end as the TEXT area has some very large files therein. If you have an existing TEXT area, you’ll likely get the “Cannot unlink” error mentioned in the menu.</p>
<h2 id="Screen-4-Group-Ownership"><a href="#Screen-4-Group-Ownership" class="headerlink" title="Screen 4: Group Ownership"></a>Screen 4: Group Ownership</h2><p>If more than one account is going to be using AIPS, you should<br>select a ‘Unix group’ for these accounts.  This can,<br>but need not be, their primary group.</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; What group should be used for AIPS? [aipspgmr]<br>It’s important that you set your AIPS site up so that everyone who needs access to it can use it. As read/write privilege is required on some (but not all) of the system files, you need to decide now which mode of operation you are going to use:<br>•	Either disallow “group write” and only allow “you” access; or<br>•	Allow “group write” and set up a Unix group for AIPS users.<br>Here “you” refers to the account you’re using to install AIPS. So the first thing to decide is whether you want to allow others to run your AIPS installation, and if so, you should have your systems administrator set up a Unix group for them. Here at NRAO we call this group aipsuser, but you can call it anything you want. Whatever name you choose, you should enter here. If you do not plan on allowing others access to your AIPS environment, just press <enter>.<br>This menu is halfway smart: if you enter “foobar”, it will check if “foobar” is one of the groups that you are in (Unix users have one primary group and can be in many secondary groups as specified in /etc/group or the NIS or LDAP group map). If you enter a bad group, it will show you a list of valid groups, pause for a few seconds, then repaint the menu and ask again for a group name.<br>Once you enter a valid group, a second menu appears:</enter></p>
<p>在这里选择 prjg9600014</p>
<h2 id="Screen-4b-Group-Write"><a href="#Screen-4b-Group-Write" class="headerlink" title="Screen 4b: Group Write"></a>Screen 4b: Group Write</h2><p>If more than one account will use AIPS, and you are using<br>a group (aipsuser) to permit filesharing, you should also allow<br>this group write access to certain AIPS files.</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Allow aipsuser to have write access? [YES]<br>Don’t panic if you get here and realize you meant to specify a different group. The wizard does nothing (other than unpack the tarball) with your new AIPS installation until after screen 12, so you can easily go back, interrupt, restart, etc. until you are happy with the settings. So if you got the group wrong, just type Back now and you’ll be at Screen 4 again (not 4b).<br>Othewise, just enter Yes or No, depending on your needs, and proceed.</p>
<h2 id="Screen-5-Site-Name"><a href="#Screen-5-Site-Name" class="headerlink" title="Screen 5: Site Name"></a>Screen 5: Site Name</h2><p>Please enter a single word to describe your AIPS site.<br>This may be used as a directory name.  Example: at NRAO we use<br>names such as NRAOCV, NRAOAOC, etc.</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Your site name: [required, no default]<br>The “Site Name” is used by AIPS for several purposes, most of which are associated with allowing multiple computers run AIPS from the same area on a shared (NFS) disk. All AIPS machines in a given “site” have to be the same endian flavour (byte order), so you can mix and match Intel/Linux, Intel/Solaris, Alpha/Linux, Alpha/OSF1, and Max/Intel systems in a single site as these are all little-endian architecture. Likewise you can mix and match Sparc/Solaris, HP-UX, SGI, IBM RS/6000, and Mac PPC systems in a single site as they are all big endian. But you cannot have both little and big endian systems in the same AIPS site.<br>It’s really an advanced topic beyond the scope of this document, but you can have different endian systems sharing the same AIPS_ROOT area. The trick is to assign each group of endian systems a different SITE name.<br>Anyway, you should enter a site name like NRAOCV here. Choose a single word that best describes your installation. Once you do this, the wizard will now try to figure out your architecture by looking at various clues in its environment:</p>
<p>这里定义为 SHAO</p>
<h2 id="Screen-5a-Site-type"><a href="#Screen-5a-Site-type" class="headerlink" title="Screen 5a: Site type:"></a>Screen 5a: Site type:</h2><p>If your site consists of a single portable computer<br>which may get different names at different times,<br>it is best to force the name for AIPS to LOCALHOST.</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; If you want this, enter Y or y [N]<br>AIPS depends on the computer’s name since it often runs in environments with 10’s of computers all sharing a single AIPS installation. The name is used to find the architecture and site name from HOSTS.LIST, to select the data areas to include from DADEVS.LIST, and to find the control files for that computer. Laptop computers often do not have a fixed name. Instead thay are assigned a dynamic name each time they are plugged in to the local area network. In this case, it is better to have AIPS use a a fixed name (LOCALHOST) for the computer rather than the changing name (returned by uname -n). If you are installing AIPS for use on a single computer which might have its name change, enter Y or y at this point. The LOGIN.SH and LOGIN.CSH files will be changed to reflect this choice and the computer and its data areas will be found under the name LOCALHOST.</p>
<h2 id="Screen-5b-Architecture-Confirmation"><a href="#Screen-5b-Architecture-Confirmation" class="headerlink" title="Screen 5b: Architecture Confirmation"></a>Screen 5b: Architecture Confirmation</h2><p>If this is correct, press RETURN or ENTER.<br>If not, enter the correct architecture (or ? for a list)</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Enter the architecture for this system [LINUX]<br>The script is pretty good about figuring this out, so you’ll likely just have to press <return> here. If by some chance you enter something silly like SOL for a Linux machine, this will be stored in the .AIPSRC file and will come back to haunt you later! The known architectures are: LINUX, AXLINUX for Alpha Linux, ALPHA for Alpha OSF1 (Tru64) systems,SOL for older Suns, SUL for Solaris on Sparc Ultras, SOL86 for Solaris on Intel, HP for older HP systems running HP-UX, HP2 for newer HP’s, SGI for SGI systems running Irix, MACPPC for MacIntosh computers with the PPC G3, G4, and G5 chips, and MACINT for MacIntosh computers with the Intel chips.<br>A future feature of the wizard will be consistency checking of the specified architecture against what it thinks is right, and a dialog to query the user in an “are you sure?” manner.</return></p>
<h2 id="Screen-6-Additional-Hosts"><a href="#Screen-6-Additional-Hosts" class="headerlink" title="Screen 6:Additional Hosts"></a>Screen 6:Additional Hosts</h2><h2 id="Screen-6-Additional-hosts-if-any"><a href="#Screen-6-Additional-hosts-if-any" class="headerlink" title="Screen 6: Additional hosts if any"></a>Screen 6: Additional hosts if any</h2><p>You may configure your installation so it runs on many systems,<br>sharing the AIPS ROOT area via NFS.  The list of host(s) is now:</p>
<p>ORANGUTAN</p>
<p>Any new hosts will initially be set to arch=LINUX, but you can<br>change this by editing HOSTS.LIST in /home/aips/tmp<br>when the install is finished.</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Enter new hosts (no commas!) or ORANGUTAN to reset:<br>This menu is pretty simple. If you are only installing AIPS on a single system, just press <return> to continue to the next screen, as there’s nothing to do here. If you intend on allowing several other hosts to your AIPS installation, you can pre-populate the HOSTS.LIST configuration file (kept in your AIPS_ROOT area) right here.</return></p>
<h2 id="Screen-7-User-Data-Areas"><a href="#Screen-7-User-Data-Areas" class="headerlink" title="Screen 7: User Data Areas"></a>Screen 7: User Data Areas</h2><p>AIPS Manages the astronomical data users will read and write internally in “catalogs” which are stored in “disks”. In reality, each “disk” is simply a directory somewhere in the Unix file system hierarchy. These are specified in two or maybe three configuration files, all of which are kept in the $NET0 area (which is $AIPS_ROOT/DA00/). The purpose of this menu is to provide an easier, faster way of setting these files up.</p>
<h2 id="Screen-7-User-Data-Areas-1"><a href="#Screen-7-User-Data-Areas-1" class="headerlink" title="Screen 7: User Data Areas"></a>Screen 7: User Data Areas</h2><hr>
<p>At least one data area needs to be defined for AIPS user data.<br>It is important that the host name in caps appear in the data area<br>name.  Currently these area(s) are defined:</p>
<p>  (no data areas have been defined yet)</p>
<p>You can add to this list after installing by editing the two files<br>DADEVS.LIST and NETSP in the /opt/aips/DA00/ directory.</p>
<p>Please enter (additional) data area(s) now as a space-separated<br>list, or the word RESET to re-set the list.</p>
<p>   (If you want to use symlinks, use the notation</p>
<pre><code>   actual_directory_location:symbolic_link_location

instead of a simple directory location.)
</code></pre>
<p>The suggested data area is /opt/aips/DATA/ORANGUTAN_1</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Data Areas:</p>
<p>这里设置为 /groups/vlbi_group/home/share/aips/data/</p>
<p>OK, there’s a lot to digest here, mainly because the menu tries to be both concise and flexible at the same time. Suppose you just wanted to add one area, and you like the suggested value. You can either type it in, or cut/paste it and then press <return>. That’s it.<br>When AIPS starts up it reads the DADEVS.LIST file to decide which disk areas to include. It will include all required areas and any area which has the current host name (in capital letters) in the disk area name, e.g. /DATA/ORANGUTAN_1. Normally, one only wants to include disk data areas local to the current host. Required areas on another computer will slow everything down quite remarkably. Note that the data area may be something like $AIPS_ROOT/DATA/ORANGUTAN_1 on the server computer, so long as that file is a link file to a real data area on orangutan itself.<br>If you want to add more than one area, just enter all the areas on one line separated by spaces. If you want to wipe out all the disks defined and start over, just enter the magic string RESET and press <return>. Poof! The definitions are gone.<br>Finally, if you want to do something more sophisticated, such as putting entries in the configuration files that refer to $AIPS_ROOT/DATA/ and have symbolic links there pointing to actual directories elsewhere, you can do that. Just enter a series of areas separated by spaces, with each area actually being in the form mentioned, with a colon (:) separating the actual location from the symbolic link’s name. This feature is pretty esoteric and probably few people will want to use it.<br>Here’s an example of what you might add:<br>AipsWiz: ===&gt; Data Areas: /opt/aips/DATA/MINE_1 /tmp:/opt/aips/DATA/MINE_2<br>This example shows adding two data areas. The first is a simple directory, while the second is a symbolic link pointing to /tmp but that will appear to the AIPS user as /opt/aips/DATA/MINE_2. We don’t recommend using /tmp to store AIPS data other than as a scratch disk; it’s just shown here as a nice concise example.<br>Remember that you can always edit the text files such as $AIPS_ROOT/HOSTS.LIST, $NET0/DADEVS.LIST, $NET0/NETSP, $NET0/PRDEVS.LIST etc. later in order to add more computers running aips, more disk areas and printers, etc. You may find the old Postscript installation guide of use in this regard. In particular, it devotes some space to SYSETUP and other tools used to install additional computers, disks, and the like.</return></return></p>
<h2 id="Screen-8-Printers"><a href="#Screen-8-Printers" class="headerlink" title="Screen 8: Printers"></a>Screen 8: Printers</h2><p>One of the things you’ll surely do in AIPS is generate printout. AIPS will allow you to define many printers, and the users refer to them by number. The available printers will be presented to the user as a menu when they start AIPS itself up, and it’s up to you, the intrepid AIPS installer, to configure sensible AIPS names for these printers. This is fairly easy so don’t panic.<br>This screen will do two things: first, get the printers and their types; and second, figure what size paper you’ll be using.</p>
<h2 id="Screen-8-Printers-1"><a href="#Screen-8-Printers-1" class="headerlink" title="Screen 8: Printers"></a>Screen 8: Printers</h2><p>You may define several printers for use with AIPS.<br>These will appear on startup as numbered choices to the user<br>At least one printer must be defined.  Currently defined:</p>
<p>  (no printers are defined yet)</p>
<p>  Paper Format: A</p>
<p>You can modify printer definitions after the install by<br>editing the file /home/aips/tmp/DA00/PRDEVS.LIST .</p>
<p>Please indicate whether you want to</p>
<ul>
<li>add (N)ew printers</li>
<li>(D)iscover your system’s printers (may not work),</li>
<li>(A)ccept the current settings as is, or</li>
<li>(R)eset to clear the list.</li>
</ul>
<p>(Paper format - A or A4 - will come next)</p>
<pre><code>     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Your choice (default: Accept):<br>The “(D)iscovery” option is one you’ll probably want to try. It’s actually pretty good about trying things, including looking at printcap and lpstat information. It will balk somewhat, however, if it finds more than 15 printers and revert to the “(N)ew” mode instead.<br>Suppose we find that there are 34 printers available, and we only want to add three of them to the AIPS printer configuration. Here’s what that session might look like:<br>AipsWiz: Configuring 3 printers.  For each, you will be asked if you<br>AipsWiz: want to configure AIPS to use it, its type, options, and a<br>AipsWiz: description.  AIPS priner types are:</p>
<p>AipsWiz:   PS       Black-and-white PostScript printer<br>AipsWiz:   COLOR    (or COLOUR) Color/Colour PostScrip printert<br>AipsWiz:   TEXT     Plain text printers (including line printers)<br>AipsWiz:   QMS      QUIC format (QMS [not QMS PS!], Talaris) printers<br>AipsWiz:   PREVIEW  Screen Previewers, e.g. gv, ghostview, pageview</p>
<p>AipsWiz: And the valid AIPS printer options are:</p>
<p>AipsWiz:   NONE     (default), nothing special.<br>AipsWiz:   DUP      Printer will print on both sides of the paper<br>AipsWiz:   DEF      This will be the default AIPS printer<br>AipsWiz:   BIG=nnn  Force use of this printer for jobs &gt; nnn lines</p>
<p>AipsWiz: If you want to specify multiple options for a printer,<br>AipsWiz: separate them with commas (NO SPACES!)</p>
<p>AipsWiz: ==&gt; –Name (‘xxx’ in ‘lpr -Pxxx’) for printer 1: ps1<br>AipsWiz: ==&gt;   Printer    type for ps1 (N to skip) [PS]:<br>AipsWiz: ==&gt;   Printer options for ps1 (N to skip) [NONE]: DUP<br>AipsWiz: ==&gt;   Description for ps1 (N to skip): Main printer (duplex)<br>AipsWiz: ==&gt; –Name (‘xxx’ in ‘lpr -Pxxx’) for printer 2: ps2<br>AipsWiz: ==&gt;   Printer    type for ps2 (N to skip) [PS]:<br>AipsWiz: ==&gt;   Printer options for ps2 (N to skip) [NONE]: DUP,DEF<br>AipsWiz: ==&gt;   Description for ps2(N to skip): 2nd floor printer<br>AipsWiz: ==&gt; –Name (‘xxx’ in ‘lpr -Pxxx’) for printer 3: pscolor<br>AipsWiz: ==&gt;   Printer    type for pscolor (N to skip) [PS]: COLOR<br>AipsWiz: ==&gt;   Printer options for pscolor (N to skip) [NONE]:<br>AipsWiz: ==&gt;   Description for pscolor (N to skip): Color printer<br>Right after entering your printer information, you will be asked:<br>AipsWiz: ==&gt; Do your printer(s) use A or A4 paper? [A]:<br>For reference, US “A” standard size paper is 8.5 by 11 inches, and the European and Australian standard “A4” size is about 8.25 x 11.75 inches.</p>
<h2 id="Screen-9-Tape-Drives"><a href="#Screen-9-Tape-Drives" class="headerlink" title="Screen 9: Tape Drives"></a>Screen 9: Tape Drives</h2><h2 id="If-you-use-AIPS-you’ll-almost-certainly-want-it-to-read-and-write-data-to-x2F-from-at-least-one-type-of-tape-drive-This-is-where-you-specify-the-details-of-the-drives-and-set-the-device-names-AIPS-users-refer-to-tapes-by-AIPS-tape-number-Screen-9-Tape-Drives"><a href="#If-you-use-AIPS-you’ll-almost-certainly-want-it-to-read-and-write-data-to-x2F-from-at-least-one-type-of-tape-drive-This-is-where-you-specify-the-details-of-the-drives-and-set-the-device-names-AIPS-users-refer-to-tapes-by-AIPS-tape-number-Screen-9-Tape-Drives" class="headerlink" title="If you use AIPS, you’ll almost certainly want it to read and write data to/from at least one type of tape drive. This is where you specify the details of the drives and set the device names (AIPS users refer to tapes by AIPS tape number).## Screen 9: Tape Drives"></a>If you use AIPS, you’ll almost certainly want it to read and write data to/from at least one type of tape drive. This is where you specify the details of the drives and set the device names (AIPS users refer to tapes by AIPS tape number).<br>## Screen 9: Tape Drives</h2><p>If your network has any tape drives you would like to use for AIPS,<br>you can specify those now.  You need to configure each tape drive<br>machine to run AIPS (or a subset of it).  Current definitions:</p>
<pre><code>(no tape drives are defined yet)
</code></pre>
<p>You can add to this list after the install by editing TPDEVS.LIST<br>in the /home/aips/tmp/DA00 area.<br>Please indicate whether you want to</p>
<pre><code>    add (N)ew tape drive(s)
    (D)iscover tape drives on ORANGUTAN (may not work)
    (A)ccept the current settings as is, or
    (R)eset to clear the list.

     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Your choice (default: Accept):<br>The “(D)iscovery” option is limited and for the most part will “sniff” out SCSI tape drives on various platforms. On some (e.g., Linux) it will find files in /dev/ if they have been configured, even if you don’t have any physical drive attached (or even a SCSI card). For each one it finds, it asks you for a description of it, or you press “N” to skip and not include it. Here’s a typical dialog:<br>AipsWiz: ===&gt; Your choice (default: Accept):D</p>
<p>AipsWiz: Found SCSI tape drive /dev/nst0<br>AipsWiz: Found SCSI tape drive /dev/nst1<br>AipsWiz: Found SCSI tape drive /dev/nst2<br>AipsWiz: Found SCSI tape drive /dev/nst3<br>AipsWiz: Found SCSI tape drive /dev/nst4<br>AipsWiz: Found SCSI tape drive /dev/nst5<br>AipsWiz: Found SCSI tape drive /dev/nst6<br>AipsWiz: Found SCSI tape drive /dev/nst7<br>AipsWiz: Found 8 possible tape drives on this host</p>
<p>AipsWiz: ==&gt; Description for nst0 (or N to skip): 4mm DDS-4 DAT<br>AipsWiz: ==&gt; Description for nst1 (or N to skip): N<br>AipsWiz: ==&gt; Description for nst2 (or N to skip): N<br>AipsWiz: ==&gt; Description for nst3 (or N to skip): N<br>AipsWiz: ==&gt; Description for nst4 (or N to skip): N<br>AipsWiz: ==&gt; Description for nst5 (or N to skip): N<br>AipsWiz: ==&gt; Description for nst6 (or N to skip): N<br>AipsWiz: ==&gt; Description for nst7 (or N to skip): N<br>(Note: the text above has been shortened here for readability and clarity; the wizard actually spells out, e.g., Description for ORANGUTAN tape drive /dev/nst0).<br>After this comes an important section. It’s long, and the screen occupies almost 40 lines, but you need to read and understand it. It affects who can access your AIPS resources over the network. Here is the screen:</p>
<h2 id="Screen-9B-Tape-Hosts"><a href="#Screen-9B-Tape-Hosts" class="headerlink" title="Screen 9B: Tape Hosts"></a>Screen 9B: Tape Hosts</h2><hr>
<p>THIS IS IMPORTANT:  READ ME!</p>
<p>The TPMON daemons that are automatically started or restarted<br>with each AIPS session are servers that give remote systems<br>access to your local tape drives (TPMON2,3,…) and FITS<br>disk area (TPMON1).  There is a mechanism to restrict connections<br>to a set of hosts and/or IP addresses.  You need to indicate what<br>remote system(s) if any are allowed to use your tapes<br>and FITS disk area.  The default configuration is to ONLY allow<br>your local host (127.0.0.1).  The list of hosts and/or IP addresses<br>is currently set to:</p>
<hr>
<pre><code>127.0.0.1
</code></pre>
<hr>
<p>You can modify this list after the install by editing file TPHOSTS<br>in the /home/aips/tmp/DA00 area.  Each line in the<br>file can be</p>
<pre><code>    - an IP address, e.g. 192.33.115.11
    - a fully qualified domain name, e.g. orangutan.cv.nrao.edu,
    - a limited IP address wildcard, e.g. 192.33.115.\*, or
    - a limited domain name wildcard, e.g. \*.cv.nrao.edu.
</code></pre>
<p>Please indicate whether you want to</p>
<pre><code>    add (N)ew entries
    (A)ccept the current settings as is, or
    (R)eset to the default.

     [You may also type B for back, or Q to Quit]
</code></pre>
<p>AipsWiz: ===&gt; Your choice (default: Accept):<br>The default setting is the most secure, as it limits remote access to the local host. If you are in any doubt at all, use our default. The danger is in opening up your systems and networks too widely. System Administrators should refer to the next section for a brief discussion about TCP ports used by AIPS for additional security measures.</p>
<p>Unix/Internet service discussion<br>AIPS uses “sockets” so the main AIPS engine can talk to the image display (called the “TV”), a lock daemon for the TV, a graphics display, message display, and remote TPMON tape servers. For all except the last, you have the choice of whether to use INET (network based) sockets, or UNIX (file based) sockets. This menu allows you to choose what the default will be; your users can always override this on the command line when they start AIPS itself.<br>Between screens 9 and 10, install.pl does a quick check on whether some of the AIPS services are already defined, either in /etc/services, or in a NIS (YP) services map. It found they were, so no warning was issued. If you are going to be running AIPS on a single machine, and not accessing it over a network from other AIPS machines, then you may want to use UNIX sockets. Doing so means you don’t have to edit the services file or map, and it also allows AIPS users to have multiple TV’s on screen if they want. You must add tv=local to the aips command line every time you start AIPS. The default is always Inet sockets.<br>For sysadmins, the TCP ports used by the TPMON tape/disk servers (daemons) are usually 5010 through 5017. In addition, if INET sockets are chosen in this menu, AIPS will use four ports in the range 5000-5009 as well. If you do not want remote AIPS access to your site, you may want to block these (or permit them to defined systems or networks) at your router or firewall.</p>
<p>增加以下内容到 /etc/services</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">sssin		5000/tcp	SSSIN		<span class="comment"># AIPS TV</span></span><br><span class="line">ssslock		5002/tcp	SSSLOCK		<span class="comment"># AIPS TV Lock</span></span><br><span class="line">msgserv		5008/tcp	MSGSERV		<span class="comment"># AIPS Message Server</span></span><br><span class="line">tekserv		5009/tcp	TEKSERV		<span class="comment"># AIPS TekServer</span></span><br><span class="line">aipsmt0		5010/tcp	AIPSMT0</span><br><span class="line">aipsmt1		5011/tcp	AIPSMT1</span><br><span class="line">aipsmt2		5012/tcp	AIPSMT2</span><br><span class="line">aipsmt3		5013/tcp	AIPSMT3</span><br><span class="line">aipsmt4		5014/tcp	AIPSMT4</span><br><span class="line">aipsmt5		5015/tcp	AIPSMT5</span><br><span class="line">aipsmt6		5016/tcp	AIPSMT6</span><br><span class="line">aipsmt7		5017/tcp	AIPSMT7</span><br></pre></td></tr></tbody></table></figure>

<p>Screen 10: Advanced Settings</p>
<p>In most cases, you will simply want to scan through this screen and accept the defaults. This is a smorgasbord of options that covers all sorts of AIPS settings, but they are usually rather esoteric and not of much interest to the Astronomer who just wants to run the system and analyse their data. The location of an acceptable compiler (e.g. version 2.95.3 of gcc and g77) may force you to modify some of the defaults. Note that the .AIPSRC file retains this information; if you are installing a later release all will be known. Screen 10 is skipped for binary installations since you will not be recompiling AIPS.</p>
<h2 id="Screen-10-Advanced-Settings"><a href="#Screen-10-Advanced-Settings" class="headerlink" title="Screen 10: Advanced Settings"></a>Screen 10: Advanced Settings</h2><hr>
<p>In general, the default settings for these advanced options will be OK.<br>Please review the settings, and then decide if you want to change them.</p>
<pre><code>    AP settings are in PAPC.INC (cf $SYSLOCAL/INCS.SH)
    Fortran settings are in $SYSLOCAL/FDEFAULT.SH
    C settings are in $SYSLOCAL/CCOPTS.SH, and
    Link settings are stored in $SYSLOCAL/LDOPTS.SH
</code></pre>
<p>Current settings of advanced parameters:</p>
<figure class="highlight gradle"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">AP <span class="keyword">Size</span> (MB): <span class="number">5</span> (<span class="keyword">for</span> your memory <span class="keyword">size</span> <span class="number">127792</span> KB, use <span class="number">20</span> MB)</span><br><span class="line">FORTRAN Compiler: <span class="regexp">/usr/</span>bin<span class="regexp">/g77 (default /u</span>sr<span class="regexp">/bin/g</span>77)</span><br><span class="line">     and <span class="keyword">options</span>: -c -fno-automatic -fno-globals -Wno-globals \</span><br><span class="line">                  -malign-<span class="keyword">double</span> -Wimplicit -Wall</span><br><span class="line"> <span class="keyword">default</span> <span class="keyword">options</span>: -c -fno-automatic -fno-globals -Wno-globals \</span><br><span class="line">                  -malign-<span class="keyword">double</span> -Wimplicit -Wall</span><br><span class="line">          Linker: <span class="regexp">/usr/</span>bin<span class="regexp">/g77 (default /u</span>sr<span class="regexp">/bin/g</span>77)</span><br><span class="line">      C Compiler: <span class="regexp">/usr/</span>bin<span class="regexp">/gcc (default /u</span>sr<span class="regexp">/bin/g</span>cc)</span><br><span class="line">     and <span class="keyword">options</span>: -c -O3 -fomit-frame-pointer -funroll-loops \</span><br><span class="line">                  -I<span class="regexp">/opt/</span>aips<span class="regexp">/31DEC03/I</span>NC -DHAVE_LINUX_GLIBC</span><br><span class="line"> <span class="keyword">default</span> <span class="keyword">options</span>: -c -O3 -fomit-frame-pointer -funroll-loops \</span><br><span class="line">                  -I<span class="regexp">/opt/</span>aips<span class="regexp">/31DEC03/I</span>NC -DHAVE_LINUX_GLIBC</span><br><span class="line">Readline Library: <span class="regexp">/usr/</span>lib/libreadline.a</span><br><span class="line">  Debug Libs too: NO</span><br><span class="line"></span><br><span class="line">         [You may also type B <span class="keyword">for</span> back, or Q to Quit]</span><br></pre></td></tr></tbody></table></figure>

<p>AipsWiz: ===&gt; [M]odify or [A]ccept (default Accept):<br>Let’s look briefly at some of these settings:<br>-	AP Size: Size of an internal “buffer” or array in AIPS that simulates the old array processor. Some tasks benefit significantly from making this larger. Changing it requires a (re)compile of AIPS. It is therefore not offered for binary installations either from the network or CD. Here the wizard recommends an increase based on the (Linux) system’s available memory.<br>-	Compilers and Options: These are pre-set for most common architectures. You should only have to alter them if (a) you are recompiling [e.g., for a different AP size]; and (b) you have a different compiler. Solaris (SOL, SUL) defaults assume the Sun Compilers so if you use gcc/g77 on Solaris, you need to change the settings. The linker should be the same as the Fortran compiler. The only “gotcha” here might be that the procedure expands the $INC setting in the configuration files; this is for the most part benign. If you have installed a compiler such as GNU 2.95.3 to avoid the defective 2.96 and 3.0+ compilers, then you must enter the path to this compiler in FORT, LINK, and CCOM.<br>-	Readline Library: If you have a Linux system, the wizard will tell AIPS to use your library for any recompiles. Otherwise, unless the system detects a libreadline.a in an obvious place, it will default to the LIBR/GNU/ location and will be built (or used if pre-supplied, e.g. on CD).<br>-	Debug Libs too: If you are doing code development in AIPS, you may want to have two sets of AIPS libraries: one with optimized routines, the other with non-optimized and debug (-g) capabilities. Only set this to YES if you need to use a debugger like dbx or gdb in AIPS tasks.<br>If you choose to change any of these, you will get a dialog like this:<br>AipsWiz: ===&gt; [M]odify or [A]ccept (default Accept):M</p>
<p>AipsWiz: ==&gt; Change item [APSIZE, FORT, FORTOPT, LINK, CCOM, CCOMOPT,<br>                        DEBUGLIBS, READLINE, or (default) END]: APSIZE<br>AipsWiz: ==&gt; AP Size in MB (1-512):: 20<br>AipsWiz: ==&gt; Change item [APSIZE, FORT, FORTOPT, LINK, CCOM, CCOMOPT,<br>                        DEBUGLIBS, READLINE, or (default) END]:<br>This shows the installer changing the AP Size to 20 Megabytes from its default value of 5. After finishing this, you are brought back to screen 11 so you can double-check your changes.</p>
<h2 id="Screen-11-Final-Review"><a href="#Screen-11-Final-Review" class="headerlink" title="Screen 11: Final Review"></a>Screen 11: Final Review</h2><h2 id="Screen-11-FINAL-REVIEW-before-installing"><a href="#Screen-11-FINAL-REVIEW-before-installing" class="headerlink" title="Screen 11: FINAL REVIEW before installing!"></a>Screen 11: FINAL REVIEW before installing!</h2><hr>
<p>This is your last, best hope for checking the settings before<br>committing to the install.  Please check thesesettings, and<br>make sure they are what you want:</p>
<p>   AIPS_ROOT (screen 3): /opt/aips<br>       Group (screen 4): aipsuser<br> Group Write (screen 4): YES<br>Architecture (screen 5): LINUX<br>   Site name (screen 5): CVTEST<br>  AIPS hosts (screen 6): ORANGUTAN<br>  Data areas (screen 7): /DATA/ORANGUTAN_1<br>    Printers (screen 8): pscolor   PS-CMYK  NONE    Color printer<br>                         ps1dup    PS       DUP     Main printer<br>                         ps2dup    PS       DUP,DEF 2nd floor printer<br>  Paper type (screen 8): A<br> Tape drives (screen 9): host ORANGUTAN, tape drive /dev/nst0: 4mm DDS-4<br>  Tape hosts (screen 9): 127.0.0.1<br>   Advanced (screen 10): (not listed here)</p>
<p>You can skip back to a previous menu by entering its number,<br>or use the phrase ‘start over’ to go back  to the beginning.<br>         [You may also type B for back, or Q to Quit]</p>
<p>AipsWiz: ===&gt; [A]ccept (default) or menu number:<br>This screen attempts to give a review of the main settings you have entered, and allows you to back up to any given screen so you can fix things. The only annoying feature is that once you go back to a screen, the only way to get back to screen 11 is to advance one screen at a time. In effect this just means pressing <return> at each intervening screen. A shortcut mechanism will likely be added to the wizard in the near future.</return></p>
<h2 id="Applying-the-Settings"><a href="#Applying-the-Settings" class="headerlink" title="Applying the Settings"></a>Applying the Settings</h2><p>You will be given one last chance to change your mind after accepting the values in the menu. Then the script proceeds to deploy the decisions you have made by altering various system files, creating directories, and so on. From a non-binary installation, a typical session might look like this:<br>AipsWiz: ==&gt; Confirm: start the install with these settings [Y]:<br>AipsWiz:  =====&gt; Creating or updating HOSTS.LIST file<br>AipsWiz:         – Done.<br>AipsWiz:  =====&gt; Configuring your AIPS_ROOT area…<br>AipsWiz:  =====&gt; Running 31DEC03/SYSTEM/UNIX/AIPSROOT.DEFINE <br>                         /home/aips/tmp<br>AipsWiz:         – Done.<br>AipsWiz:  =====&gt; changing LOGIN.SH to LAPTOP=”YES”<br>AipsWiz:  =====&gt; changing LOGIN.CSH to LAPTOP=”YES”<br>AipsWiz:         – Done.<br>AipsWiz:  =====&gt; Adjusting AP size to 20 MBytes<br>AipsWiz:         No /opt/aips/31DEC03/INC/NOTST/LINUX/PAPC.INC found<br>AipsWiz:         - trying /opt/aips/31DEC03/INC/PAPC.INC<br>AipsWiz:         – Done.<br>AipsWiz:  =====&gt; Setting up LINUX-specific areas and SYSLOCAL…<br>AipsWiz:         – Done.<br>AipsWiz:  =====&gt; Configuring AIPS for your printers…<br>AipsWiz:         Text printing set up for ‘A’ size paper<br>AipsWiz:         – done<br>AipsWiz:  =====&gt; Configure AIPS data areas …<br>AipsWiz:         – done<br>AipsWiz:  =====&gt; Configure AIPS Tape drives…<br>AipsWiz:         – done<br>AipsWiz:  =====&gt; Create DA00/hostname/ directories…<br>AipsWiz:         – done.<br>AipsWiz:  =====&gt; Deploying your compiler options in script files…<br>AipsWiz:         CCOPTS.SH done (C Compiler and options)<br>AipsWiz:         LDOPTS.SH done (Linker)<br>AipsWiz:         FDEFAULT.SH done (Fortran compiler and options)<br>WARNING!  The structure of /opt/aips/31DEC03/SYSTEM/UNIX/FDEFAULT.SH<br>          is very complex, and while this wizard install<br>          tries VERY hard to change the right section,<br>          it may have failed.  Please, PLEASE inspect the<br>          file and compare it to the original (saved as<br>          FDEFAULT.SH.dist in /opt/aips/31DEC03/SYSTEM/UNIX)<br>          to make sure the settings are right.  Do this<br>          BEFORE you proceed any further.<br>          THIS IS REQUIRED FOR THE 2.95.3 COMPILER IN LINUX<br>AipsWiz: ==&gt; Press <enter> after you have verified FDEFAULT.SH::<br>(The messages about LOGIN.SH appear only if you ask to change the host name to LOCALHOST for a single-computer installation.) Note the pause here, asking for the OK to proceed. If you haven’t changed the settings, don’t worry about it. Even if you have, chances are that it will get the changes made in the right place. However, doing this sort of change automatically in as complex a file as FDEFAULT.SH is tricky, so it can’t hurt to look at the architecture-specific section for your system and make sure it’s not totally messed up! In the worst case scenario, you can always restore the original from the FDEFAULT.SH.dist file.<br>Linux sites may have to modify the $SYSLOCAL/FDEFAULT.SH file. It is now set for the GNU 3.2 and later compilers, with OPT2=”-O2”. If you are using the GNU 2.95.3 compiler, a different set of OPT2 options is present in the file. Comment out the -O2 one and remove the comment symbols from the 3 lines of OPT2’s designed for 2.95.3. Note “-O2” works with 2.95.3 but produces somewhat slower code.<br>The process will then continue (after you press <enter>, of course):<br>AipsWiz: ==&gt; Press <enter> after you have verified FDEFAULT.SH::<br>AipsWiz:  =====&gt; Compile Utility Programs in<br>                 /opt/aips/31DEC03/LINUX/SYSTEM/CVTEST…<br>AipsWiz: Compiling F2PS…<br>AipsWiz: Compiling F2TEXT…<br>AipsWiz: Compiling NEWEST…<br>AipsWiz: Compiling PRINTENV…<br>AipsWiz: Compiling PWD…<br>AipsWiz: Compiling REVENV…<br>AipsWiz:         - Compiling ZTRLOP.c…<br>AipsWiz:         - that seemed to work.<br>AipsWiz:  =====&gt; Make the XAS TV Server from source…<br>AipsWiz: About to unpack the XAS.SHR archive.<br>AipsWiz: Building the UNSHR program for LINUX…<br>AipsWiz: UNSHR.LINUX built in <code>pwd</code><br>AipsWiz: About to run XAS.SHR through UNSHR (ignore the prompt)…<br>  Enter the name of the archive:<br>AipsWiz: Done.<br>AipsWiz: About to try to make XAS…<br>All of this is reasonably routine and automatic. The messages that follow have to do with building XAS (note: if your install freezes after announcing that it’s going to make the XAS server, you need a newer version of install.pl).<br>Extra messages reporting intermediate steps are likely to appear. On a binary installation, you will see something like:<br>AipsWiz: ==&gt; Confirm: start the install with these settings [Y]:<br>AipsWiz:  =====&gt; Creating or updating HOSTS.LIST file<br>AipsWiz:         – Done.<br>AipsWiz:  =====&gt; Configuring your AIPS_ROOT area…<br>AipsWiz:  =====&gt; Running 31DEC03/SYSTEM/UNIX/AIPSROOT.DEFINE <br>                         /home/aips/tmp<br>AipsWiz:         – Done.<br>AipsWiz:  =====&gt; changing LOGIN.SH to LAPTOP=”YES”<br>AipsWiz:  =====&gt; changing LOGIN.CSH to LAPTOP=”YES”<br>AipsWiz:         – Done.<br>AipsWiz:  =====&gt; Setting up LINUX-specific areas and SYSLOCAL…<br>AipsWiz:         – Done.<br>AipsWiz:  =====&gt; Configuring AIPS for your printers…<br>AipsWiz:         Text printing set up for ‘A’ size paper<br>AipsWiz:         – done<br>AipsWiz:  =====&gt; Configure AIPS data areas …<br>AipsWiz:         – done<br>AipsWiz:  =====&gt; Configure AIPS Tape drives…<br>AipsWiz:         – done<br>AipsWiz:  =====&gt; Create DA00/hostname/ directories…<br>AipsWiz:         – done.<br>AipsWiz:  =====&gt; and populating area for $THISHOST from rsync server</enter></enter></enter></p>
<h2 id="The-Midnight-Job"><a href="#The-Midnight-Job" class="headerlink" title="The Midnight Job"></a>The Midnight Job</h2><p>Once the utility programs and XAS are built, the wizard will start preparing for a possible recompile and for the Midnight Job. You do not need to actually run one (though we recommend it if you wish to stay current with the latest bug fixes), but setting up the infrastructure to support a midnight job is now a standard feature of the AIPS install process. Here’s what the dialog will tell you:<br>AipsWiz:  =====&gt; Preparing for INSTEP2 and INSTEP4 (building AIPS)…<br>AipsWiz:  =====&gt; Preparing for the “Midnight Job”…</p>
<p>The AIPS Midnight Job is a way to keep your AIPS installation up to<br>date.  It is secure, relatively easy, and can be done on demand or in<br>a cron job (i.e. periodically, daily or weekly or whenever).  It does<br>require that you have the code versioning system (cvs) installed on<br>your system.  The MNJ is of no use with AIPS versions that are<br>already frozen when you install them and is useful only once after we<br>freeze a particular version.  When installing a frozen version - or<br>maintaining a version that is now frozen, you should periodically<br>check the patches that may have been issued for<br>that release.</p>
<p>This script will set up the infrastructure for you to be <em>able</em> to run<br>the Midnight Job (MNJ), but you have the power to make it run or not.</p>
<p>Should you choose to run the Midnight Job, the ‘begin date’ will be<br>set to YYYYMMDD, which is ONE day before the generation time of the<br>31DEC03.tar.gz file.</p>
<p>AipsWiz: ==&gt; If you want a different date, enter it now::<br>This date is used by the midnight job as the zero point for incremental updates, so it should be before the timestamp on the file. Due to possible timezone ambiguities, it’s best to accept the one-day-before default the wizard offers.<br>For binary installations, it is a bit simpler:<br>AipsWiz:  =====&gt; Preparing for the “Midnight Job”…</p>
<p>The AIPS Midnight Job is a way to keep your AIPS installation up to<br>date.  It is secure, relatively easy, and can be done on demand or in<br>a cron job (i.e. periodically, daily or weekly or whenever).  It does<br>require that you have the code versioning system (cvs) installed on<br>your system.  The MNJ is of no use with AIPS versions that are<br>already frozen when you install them and is useful only once after we<br>freeze a particular version.  When installing a frozen version - or<br>maintaining a version that is now frozen, you should periodically<br>check the patches that may have been issued for<br>that release.</p>
<p>This script will set up the infrastructure for you to be <em>able</em> to run<br>the Midnight Job (MNJ), but you have the power to make it run or not.<br>At this stage, the wizard hands off control temporarily to the MAKE.MNJ script which will compile some programs, set up some .OLD and .DAT files, and set up the mailing lists for midnight job output and error messages. It gives you a chance to examine these settings and change them by hand before proceeding.<br>The midnight job only runs under the code versioning system (cvs) now. You no longer need to contact us to ask about running a midnight job. The MAKE.MNJ script will attempt to “prime” the cvs setup by accessing our server. When it asks for a password, simply hit Enter. The process creates a file .cvspass in your home directory enabling cvs to run without passwords henceforth.</p>
<h2 id="Registration"><a href="#Registration" class="headerlink" title="Registration"></a>Registration</h2><p>The registration system has fallen into disuse. It required special database software which the CV Computer Division no longer maintains. As a consequence, the wizard no longer runs the REGISTER script. You may run this fairly primitive script after the installation if you want. It will obtain registration information from you, and put it in the REGISTER.INFO file in your home directory. You have the option of sending this information to NRAO, but we now just file it. Registration is no longer a requirement to receive help with AIPS. Usage statistics are now obtained only via monitors of tarball downloads and cvs accesses.</p>
<h2 id="Compiling-INSTEP2-INSTEP4"><a href="#Compiling-INSTEP2-INSTEP4" class="headerlink" title="Compiling - INSTEP2, INSTEP4"></a>Compiling - INSTEP2, INSTEP4</h2><p>If you are doing a binary installation (from CD or network), you will not be prompted for this step. Otherwise, the wizard will ask if you want it to start INSTEP2, which compiles all AIPS subroutines, and INSTEP4, which builds all the programs. This can take several hours, even on fairly fast hardware. If you choose to defer this, the script gives simple instructions on what to do next. If you go ahead at this point, the script will not only do INSTEP2 and INSTEP4, but also run the programs described below.<br>If you are installing a frozen version of AIPS, you should check the patches page for the release before telling INSTEP2 and INSTEP4 to begin. 31DEC02 at least has patches that need to be applied at this point on RedHat version 8 and 9 systems.</p>
<h2 id="Running-FILAIP-POPSGN-SETPAR"><a href="#Running-FILAIP-POPSGN-SETPAR" class="headerlink" title="Running FILAIP, POPSGN, SETPAR"></a>Running FILAIP, POPSGN, SETPAR</h2><p>Finally, you may need or want to run these. If building from source, FILAIP and POPSGN have to be run. This is done for you, if you opt to run INSTEP2 and INSTEP4 from the install.pl script. If you are doing a re-installation, you may be prompted for a password when running install.pl. The default password is AMANAGER which can be changed in AIPS, but is usually left as it is shipped. If installing from CD, FILAIP and POPSGN should not need to be run. In either case, you may want to examine system defaults with SETPAR. All of these are run by defining the AIPS environment and using the RUN shell script. What follows here is a typical session with the recommended values, with some text omitted for clarity (the GPL notice, and the disk selection dialog in RUN):</p>
<p>bash$ . ./LOGIN.SH<br>bash$ $CDTST<br>AIPS_VERSION=/opt/aips/31DEC03<br>bash$ RUN FILAIP<br>  (GNU Copyleft shows up here - also a prompt for a password when<br>  re-installing a new version)<br>Password:                             (default is AMANAGER)</p>
<h1 id="disks-cat-entries-x2F-disk-lt-0-x3D-gt-private-catlgs-2-I"><a href="#disks-cat-entries-x2F-disk-lt-0-x3D-gt-private-catlgs-2-I" class="headerlink" title="disks, # cat entries/disk (<0 => private catlgs) (2 I)"></a>disks, # cat entries/disk (&lt;0 =&gt; private catlgs) (2 I)</h1><p>35 -100</p>
<h1 id="interactive-AIPS-batch-queues-2-I"><a href="#interactive-AIPS-batch-queues-2-I" class="headerlink" title="interactive AIPS, # batch queues (2 I)"></a>interactive AIPS, # batch queues (2 I)</h1><p>8 2</p>
<h1 id="tape-drives-I"><a href="#tape-drives-I" class="headerlink" title="tape drives (I)"></a>tape drives (I)</h1><p>4<br>FILAI1: Init POPS memory files 1 through 12 with program POPSGN<br>FILAI1: Done!<br>bash$ RUN POPSGN<br>Enter Idebug, Mname, Version (1 I, 2 A’s) (NO COMMAS)<br>0 POPSDAT TST</p>
<blockquote>
<pre><code>                            (press &lt;RETURN&gt; here)
</code></pre>
<p>POPSG1: Popsgen complete<br>POPSG1: orangutan    31DEC03 TST: Cpu=       0.2  Real=      74<br>bash$ RUN SETPAR<br>Starting up SETPAR (RELEASE OF 31DEC03)<br>Enter:  1=Start Over, 2=Change parameters, 3=Change DEVTAB, 4=Quit<br>2<br>  (many options shown, including this:)<br> 35  Computer speed rating (AIPSmarks)   1.00<br>  Enter number to change or  0 = Print, -1 = Return<br>35<br> 35  Computer speed rating (AIPSmarks)    1.00<br>20<br>Enter number to change or  0 = Print, -1 = Return<br>-1<br>Password:                             (default is AMANAGER)<br>Enter:  1=Start Over, 2=Change parameters, 3=Change DEVTAB, 4=Quit<br>4<br>SETPA1: orangutan    31DEC03 TST: Cpu=       0.0  Real=     106<br>bash$<br>The above dialog shows an installer running all three utility programs, so that the system files are created (FILAIP), initialized (POPSGN), and customized (SETPAR). The customization shown is to set the “speed” parameter to something close to the actual expected performance of the machine. This parameter is used to figure out reasonable delays in task startup, termination and management, and can make quite a (bad) difference if set too low or too high. Refer to the AIPS Benchmark page for some tests we’ve done and to figure out what value to use for your system. For most newer (modest) machines, 20 is probably a good starting point.<br>There are a couple of things that may need to be done to your operating system controls files in order to run AIPS. You probably need to be root to do these. The first is to add to /etc/services the lines<br>sssin           5000/tcp        SSSIN      # AIPS TV server<br>ssslock         5002/tcp        SSSLOCK    # AIPS TV Lock<br>msgserv         5008/tcp        MSGSERV    # AIPS Message Server<br>tekserv         5009/tcp        TEKSERV    # AIPS TekServer<br>aipsmt0         5010/tcp        AIPSMT0    # AIPS remote FITS disk access<br>aipsmt1         5011/tcp        AIPSMT1    # AIPS remote tape 1<br>aipsmt2         5012/tcp        AIPSMT2    # AIPS remote tape 2<br>aipsmt3         5013/tcp        AIPSMT3<br>aipsmt4         5014/tcp        AIPSMT4<br>aipsmt5         5015/tcp        AIPSMT5<br>aipsmt6         5016/tcp        AIPSMT6<br>aipsmt7         5017/tcp        AIPSMT7<br>Comment out the obsolete “radio free ethernet” (5002) service. Your X Windows needs to operate in either 8-bit PseudoColor or 24-bit TrueColor mode. The 16-bit TrueColor mode that is the default on many systems does not have enough dynamic range for scientific imaging. The file /etc/X11/XF86Config-4 is used to control this in RedHat installations.<br>The AIPS Manager FAQ may be of help in solving residual installation problems.<br>That’s about all we can cover here. The installation wizard is a vast improvement over the old INSTEP1 way of doing things, and we welcome feedback on it, both for bug reports and suggested improvements.<br>Patches to frozen versions<br>After a version of AIPS is “frozen”, no more changes will be made to the code. If a serious bug is found, a “patch” for the bug will be announced and made available through the patches web page. You must download the files from the page for your version of AIPS and follow the instructions to apply the patches, even if you fetched the tar ball for your version of AIPS long after the patch was announced.<br>When a patch is made available, it is usually announced on the “bananas” mail list. This is a closed, moderated mailing list that serves as a conduit for important announcements pertaining to AIPS, as well as an occasional forum for questions and discussion about the software. You can subscribe yourself to this list on-line.<br>Rarely, a patch may need to be applied before the installation will work. The one case so far is a set of changes to Z routines caused by changes to Linux appearing in the RedHat versions 8 and 9. The installation script stops before starting INSTEP2 and INSTEP4, giving a convenient point to do the file downloads. See the 31DEC02 patch page for details.</p>
</blockquote>
<p>=============================</p>
<p>参考网址</p>
<p><a href="http://www.aips.nrao.edu/Mac.shtml">http://www.aips.nrao.edu/Mac.shtml</a></p>
<p><a href="http://www.aips.nrao.edu/dec20.shtml">http://www.aips.nrao.edu/dec20.shtml</a></p>
<h2 id="installation-details"><a href="#installation-details" class="headerlink" title="installation details"></a>installation details</h2><p><a href="http://www.aips.nrao.edu/install.shtml">http://www.aips.nrao.edu/install.shtml</a></p>
<h2 id="MacOSX"><a href="#MacOSX" class="headerlink" title="MacOSX"></a>MacOSX</h2><p>On Macs, you may need to create an /etc/sysctl.conf file<br>Put in it the following lines</p>
<pre><code> kern.sysv.shmmax=10485760
 kern.sysv.shmmin=1
 kern.sysv.shmmni=32
 kern.sysv.shmseg=8
 kern.sysv.shmall=4096
</code></pre>
<p>重启后可以使用 sysctl kern.sysv来查看状态。</p>
<p>代码参考 <a href="https://www.github.com/shaoguangleo/radio_astronomy">https://www.github.com/shaoguangleo/radio_astronomy</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2011/01/19/radio_astronomy_install_aips_troubleshooting/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2011/01/19/radio_astronomy_install_aips_troubleshooting/" class="post-title-link" itemprop="url">aips trouble shooting</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2011-01-19 21:11:00" itemprop="dateCreated datePublished" datetime="2011-01-19T21:11:00+08:00">2011-01-19</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E5%B0%84%E7%94%B5%E5%A4%A9%E6%96%87/" itemprop="url" rel="index"><span itemprop="name">射电天文</span></a>
                </span>
            </span>

          
            <span id="/2011/01/19/radio_astronomy_install_aips_troubleshooting/" class="post-meta-item leancloud_visitors" data-flag-title="aips trouble shooting" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2011/01/19/radio_astronomy_install_aips_troubleshooting/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2011/01/19/radio_astronomy_install_aips_troubleshooting/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2011/01/19/radio_astronomy_install_aips_troubleshooting/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2011/01/19/radio_astronomy_install_aips_troubleshooting/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h1 id="AIPS-trouble-shooting"><a href="#AIPS-trouble-shooting" class="headerlink" title="AIPS trouble shooting"></a>AIPS trouble shooting</h1><p>如果你选择将AIPS的tar包下载下来安装，可能会碰到诸多问题，譬如编辑器的问题，这里就涉及到了你必须要安装Intel的FORTRAN编辑器和C、C++编辑器，并且这些都不是免费的，虽然有30天的试用评估版本，还是会有很多的问题的，所以这种方式不推荐。<br>    两者的安装与Intel IPP类似，方法雷同，见：<br><a href="http://guoshaoguang.com/blog/2011/05/10/%E5%A6%82%E4%BD%95%E4%B8%8B%E8%BD%BD-intel-integrated-performance-primitives-intel-ipp/">http://guoshaoguang.com/blog/2011/05/10/如何下载-intel-integrated-performance-primitives-intel-ipp/</a></p>
<h2 id="START-AIPS-AIPS-ROOT-is-not-a-directory-cannot-start-AIPS"><a href="#START-AIPS-AIPS-ROOT-is-not-a-directory-cannot-start-AIPS" class="headerlink" title="START_AIPS: AIPS_ROOT is not a directory; cannot start AIPS."></a>START_AIPS: AIPS_ROOT is not a directory; cannot start AIPS.</h2><p>The solutions</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">cd</span> /the/directory/of/aips     </span><br><span class="line">$ . LOGIN.SH</span><br><span class="line">$ AIPSROOT.DEFINE</span><br><span class="line"></span><br><span class="line">The current directory is /the/directory/of/aips</span><br><span class="line"> — is this what you want to be AIPS_ROOT?  (y/n) y</span><br></pre></td></tr></tbody></table></figure>



<p>还有一种情况是对比一下两个文件，估计AIPS_ROOT不一致，修改即可</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ vim /home/aips/LOGIN.SH</span><br><span class="line"><span class="comment"># and</span></span><br><span class="line">$ vim /home/aips/START_AIPS</span><br><span class="line"></span><br><span class="line"><span class="comment"># check what is the AIPS_ROOT area. </span></span><br></pre></td></tr></tbody></table></figure>







<h2 id="AIPS-troubleshooting-Data-directory-undefined"><a href="#AIPS-troubleshooting-Data-directory-undefined" class="headerlink" title="AIPS troubleshooting, Data directory undefined"></a>AIPS troubleshooting, Data directory undefined</h2><p>默认情况在AIPS/DA00/DADEVS.LIST是可以看到这个信息的，不过如果希望使用不同的，或者有这个问题，可以通过创建文件<code>$HOME/.dadevs.always</code>进行解决，内容如下：</p>
<figure class="highlight awk"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">+  <span class="regexp">/the/</span>path<span class="regexp">/you/</span>want<span class="regexp">/to/</span>store<span class="regexp">/AIPS/</span>LUSTRE_1</span><br><span class="line">-  <span class="regexp">/the/</span>path<span class="regexp">/you/</span>want<span class="regexp">/to/</span>store<span class="regexp">/AIPS/</span>LUSTRE_2</span><br></pre></td></tr></tbody></table></figure>



<h2 id="FILAIP-x2F-POPSDAT-出错"><a href="#FILAIP-x2F-POPSDAT-出错" class="headerlink" title="FILAIP / POPSDAT 出错"></a>FILAIP / POPSDAT 出错</h2><p>解决方法为</p>
<figure class="highlight bash"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ <span class="built_in">source</span> LOGIN.SH</span><br><span class="line">$ RUN FILAIP <span class="comment"># 然后输入YES，输入8 2</span></span><br><span class="line"></span><br><span class="line">$ RUN POPSGN <span class="comment"># 然后输入YES，输入0 POPSDAT TST</span></span><br></pre></td></tr></tbody></table></figure>





<h2 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h2><p>参考 <a href="https://www.github.com/shaoguangleo/radio_astronomy">https://www.github.com/shaoguangleo/radio_astronomy</a></p>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/93/"><i class="fa fa-angle-left" aria-label="上一页"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/93/">93</a><span class="page-number current">94</span><a class="page-number" href="/page/95/">95</a><span class="space">&hellip;</span><a class="page-number" href="/page/100/">100</a><a class="extend next" rel="next" href="/page/95/"><i class="fa fa-angle-right" aria-label="下一页"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">郭大侠</p>
  <div class="site-description" itemprop="description">郭大侠的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">998</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">181</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1450</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://macshuo.com/" title="http:&#x2F;&#x2F;macshuo.com&#x2F;" rel="noopener" target="_blank">MacTalk</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://huhuidong.wordpress.com/" title="https:&#x2F;&#x2F;huhuidong.wordpress.com&#x2F;" rel="noopener" target="_blank">小胡</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2007 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郭大侠</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz","app_key":"NTHrGJp71GzEGvNUEUFumVcR","server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://shaoguangleo.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz',
      appKey     : 'NTHrGJp71GzEGvNUEUFumVcR',
      placeholder: "路过，即是缘分...",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
