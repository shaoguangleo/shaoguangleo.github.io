<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 6.3.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"shaoguangleo.github.io","root":"/","scheme":"Muse","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":true,"show_result":true,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":true},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},"path":"search.xml"};
  </script>

  <meta name="description" content="Dialog WindowsWhile the standard dialogs described in the previous section may be sufficient for many simpler applications, most larger applications require more complicated dialogs. For example, to s">
<meta property="og:type" content="article">
<meta property="og:title" content="Python Tkinter对话窗口">
<meta property="og:url" content="http://shaoguangleo.github.io/2018/01/01/python-tkinter-1-10-dialog-windows/index.html">
<meta property="og:site_name" content="浩瀚宇宙 灿烂星空">
<meta property="og:description" content="Dialog WindowsWhile the standard dialogs described in the previous section may be sufficient for many simpler applications, most larger applications require more complicated dialogs. For example, to s">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2018-01-01T06:42:20.000Z">
<meta property="article:modified_time" content="2025-06-19T13:19:18.936Z">
<meta property="article:author" content="郭大侠">
<meta property="article:tag" content="python">
<meta property="article:tag" content="tkinter">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://shaoguangleo.github.io/2018/01/01/python-tkinter-1-10-dialog-windows/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : false,
    isPost : true,
    lang   : 'zh-CN'
  };
</script>

  <title>Python Tkinter对话窗口 | 浩瀚宇宙 灿烂星空</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=a8cfacb0a536bd846d2fd545cedb4d61"></script>
    <script>
      if (CONFIG.hostname === location.hostname) {
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'a8cfacb0a536bd846d2fd545cedb4d61');
      }
    </script>


  <script>
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?a8cfacb0a536bd846d2fd545cedb4d61";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>




  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>


<style>.github-emoji { position: relative; display: inline-block; width: 1.2em; min-height: 1.2em; overflow: hidden; vertical-align: top; color: transparent; }  .github-emoji > span { position: relative; z-index: 10; }  .github-emoji img, .github-emoji .fancybox { margin: 0 !important; padding: 0 !important; border: none !important; outline: none !important; text-decoration: none !important; user-select: none !important; cursor: auto !important; }  .github-emoji img { height: 1.2em !important; width: 1.2em !important; position: absolute !important; left: 50% !important; top: 50% !important; transform: translate(-50%, -50%) !important; user-select: none !important; cursor: auto !important; } .github-emoji-fallback { color: inherit; } .github-emoji-fallback img { opacity: 0 !important; }</style>
<link rel="alternate" href="/atom.xml" title="浩瀚宇宙 灿烂星空" type="application/atom+xml">
</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">浩瀚宇宙 灿烂星空</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">工作和生活中的七七八八</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-user fa-fw"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>标签</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>分类</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>归档</a>

  </li>
        <li class="menu-item menu-item-schedule">

    <a href="/schedule/" rel="section"><i class="fa fa-calendar fa-fw"></i>日程表</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-sitemap fa-fw"></i>站点地图</a>

  </li>
        <li class="menu-item menu-item-commonweal">

    <a href="/404/" rel="section"><i class="fa fa-heartbeat fa-fw"></i>公益 404</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>
  <div class="reading-progress-bar"></div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content post posts-expand">
            

    
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://shaoguangleo.github.io/2018/01/01/python-tkinter-1-10-dialog-windows/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="郭大侠">
      <meta itemprop="description" content="郭大侠的博客">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="浩瀚宇宙 灿烂星空">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Python Tkinter对话窗口
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2018-01-01 14:42:20" itemprop="dateCreated datePublished" datetime="2018-01-01T14:42:20+08:00">2018-01-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2025-06-19 21:19:18" itemprop="dateModified" datetime="2025-06-19T21:19:18+08:00">2025-06-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/" itemprop="url" rel="index"><span itemprop="name">Python</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/GUI/" itemprop="url" rel="index"><span itemprop="name">GUI</span></a>
                </span>
                  ，
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Python/GUI/Tkinter/" itemprop="url" rel="index"><span itemprop="name">Tkinter</span></a>
                </span>
            </span>

          
            <span id="/2018/01/01/python-tkinter-1-10-dialog-windows/" class="post-meta-item leancloud_visitors" data-flag-title="Python Tkinter对话窗口" title="阅读次数">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span class="leancloud-visitors-count"></span>
            </span>
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus：</span>
    
    <a title="disqus" href="/2018/01/01/python-tkinter-1-10-dialog-windows/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2018/01/01/python-tkinter-1-10-dialog-windows/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Valine：</span>
    
    <a title="valine" href="/2018/01/01/python-tkinter-1-10-dialog-windows/#valine-comments" itemprop="discussionUrl">
      <span class="post-comments-count valine-comment-count" data-xid="/2018/01/01/python-tkinter-1-10-dialog-windows/" itemprop="commentCount"></span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="Dialog-Windows"><a href="#Dialog-Windows" class="headerlink" title="Dialog Windows"></a>Dialog Windows</h1><p>While the standard dialogs described in the previous section may be sufficient for many simpler applications, most larger applications require more complicated dialogs. For example, to set configuration parameters for an application, you will probably want to let the user enter more than one value or string in each dialog.</p>
<p>Basically, creating a dialog window is no different from creating an application window. Just use the Toplevel widget, stuff the necessary entry fields, buttons, and other widgets into it, and let the user take care of the rest. (By the way, don’t use the ApplicationWindow class for this purpose; it will only confuse your users).</p>
<p>But if you implement dialogs in this way, you may end up getting both your users and yourself into trouble. The standard dialogs all returned only when the user had finished her task and closed the dialog; but if you just display another toplevel window, everything will run in parallel. If you’re not careful, the user may be able to display several copies of the same dialog, and both she and your application will be hopelessly confused.</p>
<p>In many situations, it is more practical to handle dialogs in a synchronous fashion; create the dialog, display it, wait for the user to close the dialog, and then resume execution of your application. The wait_window method is exactly what we need; it enters a local event loop, and doesn’t return until the given window is destroyed (either via the destroy method, or explicitly via the window manager):</p>
<p>widget.wait_window(window)</p>
<p>(Note that the method waits until the window given as an argument is destroyed; the only reason this is a method is to avoid namespace pollution).</p>
<p>In the following example, the MyDialog class creates a Toplevel widget, and adds some widgets to it. The caller then uses wait_window to wait until the dialog is closed. If the user clicks OK, the entry field’s value is printed, and the dialog is then explicitly destroyed.</p>
<h2 id="Creating-a-simple-dialog"><a href="#Creating-a-simple-dialog" class="headerlink" title="Creating a simple dialog"></a>Creating a simple dialog</h2><figure class="highlight css"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">from</span> Tkinter import *</span><br><span class="line"></span><br><span class="line">class MyDialog:</span><br><span class="line"></span><br><span class="line">    def <span class="built_in">__init__</span>(self, parent):</span><br><span class="line"></span><br><span class="line">        top = self.top = <span class="built_in">Toplevel</span>(parent)</span><br><span class="line"></span><br><span class="line">        <span class="built_in">Label</span>(top, text=<span class="string">"Value"</span>).<span class="built_in">pack</span>()</span><br><span class="line"></span><br><span class="line">        self.e = <span class="built_in">Entry</span>(top)</span><br><span class="line">        self.e.<span class="built_in">pack</span>(padx=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">        b = <span class="built_in">Button</span>(top, text=<span class="string">"OK"</span>, command=self.ok)</span><br><span class="line">        b.<span class="built_in">pack</span>(pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">    def <span class="built_in">ok</span>(self):</span><br><span class="line"></span><br><span class="line">        print <span class="string">"value is"</span>, self.e.<span class="built_in">get</span>()</span><br><span class="line"></span><br><span class="line">        self.top.<span class="built_in">destroy</span>()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">root = <span class="built_in">Tk</span>()</span><br><span class="line"><span class="built_in">Button</span>(root, text=<span class="string">"Hello!"</span>).<span class="built_in">pack</span>()</span><br><span class="line">root.<span class="built_in">update</span>()</span><br><span class="line"></span><br><span class="line">d = <span class="built_in">MyDialog</span>(root)</span><br><span class="line"></span><br><span class="line">root.<span class="built_in">wait_window</span>(d.top)</span><br></pre></td></tr></tbody></table></figure>

<p>If you run this program, you can type something into the entry field, and then click OK, after which the program terminates (note that we didn’t call the mainloop method here; the local event loop handled by wait_window was sufficient). But there are a few problems with this example:</p>
<pre><code>The root window is still active. You can click on the button in the root window also when the dialog is displayed. If the dialog depends on the current application state, letting the users mess around with the application itself may be disastrous. And just being able to display multiple dialogs (or even multiple copies of one dialog) is a sure way to confuse your users.

You have to explicitly click in the entry field to move the cursor into it, and also click on the OK button. Pressning Enter in the entry field is not sufficient.

There should be some controlled way to cancel the dialog (and as we learned earlier, we really should handle the WM_DELETE_WINDOW protocol too).
</code></pre>
<p>To address the first problem, Tkinter provides a method called grab_set, which makes sure that no mouse or keyboard events are sent to the wrong window.</p>
<p>The second problem consists of several parts; first, we need to explicitly move the keyboard focus to the dialog. This can be done with the focus_set method. Second, we need to bind the Enter key so it calls the ok method. This is easy, just use the bind method on the Toplevel widget (and make sure to modify the ok method to take an optional argument so it doesn’t choke on the event object).</p>
<p>The third problem, finally, can be handled by adding an additional Cancel button which calls the destroy method, and also use bind and protocol to do the same when the user presses Escape or explicitly closes the window.</p>
<p>The following Dialog class provides all this, and a few additional tricks. To implement your own dialogs, simply inherit from this class and override the body and apply methods. The former should create the dialog body, the latter is called when the user clicks OK.</p>
<h2 id="A-dialog-support-class-File-tkSimpleDialog-py"><a href="#A-dialog-support-class-File-tkSimpleDialog-py" class="headerlink" title="A dialog support class (File: tkSimpleDialog.py)"></a>A dialog support class (File: tkSimpleDialog.py)</h2><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> Tkinter <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dialog</span>(<span class="title class_ inherited__">Toplevel</span>):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">__init__</span>(<span class="params">self, parent, title = <span class="literal">None</span></span>):</span><br><span class="line"></span><br><span class="line">        Toplevel.__init__(<span class="variable language_">self</span>, parent)</span><br><span class="line">        <span class="variable language_">self</span>.transient(parent)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> title:</span><br><span class="line">            <span class="variable language_">self</span>.title(title)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.parent = parent</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.result = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">        body = Frame(<span class="variable language_">self</span>)</span><br><span class="line">        <span class="variable language_">self</span>.initial_focus = <span class="variable language_">self</span>.body(body)</span><br><span class="line">        body.pack(padx=<span class="number">5</span>, pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.buttonbox()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.grab_set()</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="variable language_">self</span>.initial_focus:</span><br><span class="line">            <span class="variable language_">self</span>.initial_focus = <span class="variable language_">self</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.protocol(<span class="string">"WM_DELETE_WINDOW"</span>, <span class="variable language_">self</span>.cancel)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.geometry(<span class="string">"+%d+%d"</span> % (parent.winfo_rootx()+<span class="number">50</span>,</span><br><span class="line">                                  parent.winfo_rooty()+<span class="number">50</span>))</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.initial_focus.focus_set()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.wait_window(<span class="variable language_">self</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># construction hooks</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">body</span>(<span class="params">self, master</span>):</span><br><span class="line">        <span class="comment"># create dialog body.  return widget that should have</span></span><br><span class="line">        <span class="comment"># initial focus.  this method should be overridden</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">buttonbox</span>(<span class="params">self</span>):</span><br><span class="line">        <span class="comment"># add standard button box. override if you don't want the</span></span><br><span class="line">        <span class="comment"># standard buttons</span></span><br><span class="line"></span><br><span class="line">        box = Frame(<span class="variable language_">self</span>)</span><br><span class="line"></span><br><span class="line">        w = Button(box, text=<span class="string">"OK"</span>, width=<span class="number">10</span>, command=<span class="variable language_">self</span>.ok, default=ACTIVE)</span><br><span class="line">        w.pack(side=LEFT, padx=<span class="number">5</span>, pady=<span class="number">5</span>)</span><br><span class="line">        w = Button(box, text=<span class="string">"Cancel"</span>, width=<span class="number">10</span>, command=<span class="variable language_">self</span>.cancel)</span><br><span class="line">        w.pack(side=LEFT, padx=<span class="number">5</span>, pady=<span class="number">5</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.bind(<span class="string">"&lt;Return&gt;"</span>, <span class="variable language_">self</span>.ok)</span><br><span class="line">        <span class="variable language_">self</span>.bind(<span class="string">"&lt;Escape&gt;"</span>, <span class="variable language_">self</span>.cancel)</span><br><span class="line"></span><br><span class="line">        box.pack()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># standard button semantics</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">ok</span>(<span class="params">self, event=<span class="literal">None</span></span>):</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> <span class="variable language_">self</span>.validate():</span><br><span class="line">            <span class="variable language_">self</span>.initial_focus.focus_set() <span class="comment"># put focus back</span></span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.withdraw()</span><br><span class="line">        <span class="variable language_">self</span>.update_idletasks()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.apply()</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.cancel()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">cancel</span>(<span class="params">self, event=<span class="literal">None</span></span>):</span><br><span class="line"></span><br><span class="line">        <span class="comment"># put focus back to the parent window</span></span><br><span class="line">        <span class="variable language_">self</span>.parent.focus_set()</span><br><span class="line">        <span class="variable language_">self</span>.destroy()</span><br><span class="line"></span><br><span class="line">    <span class="comment">#</span></span><br><span class="line">    <span class="comment"># command hooks</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">validate</span>(<span class="params">self</span>):</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span> <span class="comment"># override</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">apply</span>(<span class="params">self</span>):</span><br><span class="line"></span><br><span class="line">        <span class="keyword">pass</span> <span class="comment"># override</span></span><br></pre></td></tr></tbody></table></figure>

<p>The main trickery is done in the constructor; first, transient is used to associate this window with a parent window (usually the application window from which the dialog was launched). The dialog won’t show up as an icon in the window manager (it won’t appear in the task bar under Windows, for example), and if you iconify the parent window, the dialog will be hidden as well. Next, the constructor creates the dialog body, and then calls grab_set to make the dialog modal, geometry to position the dialog relative to the parent window, focus_set to move the keyboard focus to the appropriate widget (usually the widget returned by the body method), and finally wait_window.</p>
<p>Note that we use the protocol method to make sure an explicit close is treated as a cancel, and in the buttonbox method, we bind the Enter key to OK, and Escape to Cancel. The default=ACTIVE call marks the OK button as a default button in a platform specific way.</p>
<p>Using this class is much easier than figuring out how it’s implemented; just create the necessary widgets in the body method, and extract the result and carry out whatever you wish to do in the apply method. Here’s a simple example (we’ll take a closer look at the grid method in a moment).</p>
<h2 id="Creating-a-simple-dialog-revisited"><a href="#Creating-a-simple-dialog-revisited" class="headerlink" title="Creating a simple dialog, revisited"></a>Creating a simple dialog, revisited</h2><figure class="highlight python"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> tkSimpleDialog</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyDialog</span>(tkSimpleDialog.Dialog):</span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">body</span>(<span class="params">self, master</span>):</span><br><span class="line"></span><br><span class="line">        Label(master, text=<span class="string">"First:"</span>).grid(row=<span class="number">0</span>)</span><br><span class="line">        Label(master, text=<span class="string">"Second:"</span>).grid(row=<span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.e1 = Entry(master)</span><br><span class="line">        <span class="variable language_">self</span>.e2 = Entry(master)</span><br><span class="line"></span><br><span class="line">        <span class="variable language_">self</span>.e1.grid(row=<span class="number">0</span>, column=<span class="number">1</span>)</span><br><span class="line">        <span class="variable language_">self</span>.e2.grid(row=<span class="number">1</span>, column=<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="variable language_">self</span>.e1 <span class="comment"># initial focus</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">apply</span>(<span class="params">self</span>):</span><br><span class="line">        first = <span class="built_in">int</span>(<span class="variable language_">self</span>.e1.get())</span><br><span class="line">        second = <span class="built_in">int</span>(<span class="variable language_">self</span>.e2.get())</span><br><span class="line">        <span class="built_in">print</span> first, second <span class="comment"># or something</span></span><br></pre></td></tr></tbody></table></figure>

<p>And here’s the resulting dialog:</p>
<h2 id="Running-the-dialog2-py-script"><a href="#Running-the-dialog2-py-script" class="headerlink" title="Running the dialog2.py script"></a>Running the dialog2.py script</h2><p>Note that the body method may optionally return a widget that should receive focus when the dialog is displayed. If this is not relevant for your dialog, simply return None (or omit the return statement).</p>
<p>The above example did the actual processing in the apply method (okay, a more realistic example should probably to something with the result, rather than just printing it). But instead of doing the processing in the apply method, you can store the entered data in an instance attribute:</p>
<figure class="highlight applescript"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    def apply(self):</span><br><span class="line">        <span class="keyword">first</span> = int(self.e1.<span class="keyword">get</span>())</span><br><span class="line">        <span class="keyword">second</span> = int(self.e2.<span class="keyword">get</span>())</span><br><span class="line">        self.<span class="literal">result</span> = <span class="keyword">first</span>, <span class="keyword">second</span></span><br><span class="line"></span><br><span class="line">d = MyDialog(root)</span><br><span class="line">print d.<span class="literal">result</span></span><br></pre></td></tr></tbody></table></figure>

<p>Note that if the dialog is cancelled, the apply method is never called, and the result attribute is never set. The Dialog constructor sets this attribute to None, so you can simply test the result before doing any processing of it. If you wish to return data in other attributes, make sure to initialize them in the body method (or simply set result to 1 in the apply method, and test it before accessing the other attributes).</p>
<h2 id="Grid-Layouts"><a href="#Grid-Layouts" class="headerlink" title="Grid Layouts"></a>Grid Layouts</h2><p>While the pack manager was convenient to use when we designed application windows, it may not be that easy to use for dialogs. A typical dialog may include a number of entry fields and check boxes, with corresponding labels that should be properly aligned. Consider the following simple example:<br>Simple Dialog Layout</p>
<p>To implement this using the pack manager, we could create a frame to hold the label “first:”, and the corresponding entry field, and use side=LEFT when packing them. Add a corresponding frame for the next line, and pack the frames and the checkbutton into an outer frame using side=TOP. Unfortunately, packing the labels in this fashion makes it impossible to get the entry fields lined up, and if we use side=RIGHT to pack the entry field instead, things break down if the entry fields have different width. By carefully using width options, padding, side and anchor packer options, etc., we can get reasonable results with some effort. But there’s a much easier way: use the grid manager instead.</p>
<p>This manager splits the master widget (typically a frame) into a 2-dimensional grid, or table. For each widget, you only have to specify where in this grid it should appear, and the grid managers takes care of the rest. The following body method shows how to get the above layout:<br>Using the grid geometry maanager</p>
<figure class="highlight routeros"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">def body(self, master):</span><br><span class="line"></span><br><span class="line">    Label(master, <span class="attribute">text</span>=<span class="string">"First:"</span>).grid(row=0, <span class="attribute">sticky</span>=W)</span><br><span class="line">    Label(master, <span class="attribute">text</span>=<span class="string">"Second:"</span>).grid(row=1, <span class="attribute">sticky</span>=W)</span><br><span class="line"></span><br><span class="line">    self.e1 = Entry(master)</span><br><span class="line">    self.e2 = Entry(master)</span><br><span class="line"></span><br><span class="line">    self.e1.grid(<span class="attribute">row</span>=0, <span class="attribute">column</span>=1)</span><br><span class="line">    self.e2.grid(<span class="attribute">row</span>=1, <span class="attribute">column</span>=1)</span><br><span class="line"></span><br><span class="line">    self.cb = Checkbutton(master, <span class="attribute">text</span>=<span class="string">"Hardcopy"</span>)</span><br><span class="line">    self.cb.grid(<span class="attribute">row</span>=2, <span class="attribute">columnspan</span>=2, <span class="attribute">sticky</span>=W)</span><br></pre></td></tr></tbody></table></figure>

<p>For each widget that should be handled by the grid manager, you call the grid method with the row and column options, telling the manager where to put the widget. The topmost row, and the leftmost column, is numbered 0 (this is also the default). Here, the checkbutton is placed beneath the label and entry widgets, and the columnspan option is used to make it occupy more than one cell. Here’s the result:</p>
<h2 id="Using-the-grid-manager"><a href="#Using-the-grid-manager" class="headerlink" title="Using the grid manager"></a>Using the grid manager</h2><p>If you look carefully, you’ll notice a small difference between this dialog, and the dialog shown by the dialog2.py script. Here, the labels are aligned to the left margin. If you compare the code, you’ll find that the only difference is an option called sticky.</p>
<p>When its time to display the frame widget, the grid geometry manager loops over all widgets, calculating a suitable width for each row, and a suitable height for each column. For any widget where the resulting cell turns out to be larger than the widget, the widget is centered by default. The sticky option is used to modify this behavior. By setting it to one of E, W, S, N, NW, NE, SE, or SW, you can align the widget to any side or corner of the cell. But you can also use this option to stretch the widget if necessary; if you set the option to E+W, the widget will be stretched to occupy the full width of the cell. And if you set it to E+W+N+S (or NW+SE, etc), the widget will be stretched in both directions. In practice, the sticky option replaces the fill, expand, and anchor options used by the pack manager.</p>
<p>The grid manager provides many other options allowing you to tune the look and behavior of the resulting layout. These include padx and pady which are used to add extra padding to widget cells, and many others. See the Grid Geometry Manager chapter for details.</p>
<h2 id="Validating-Data"><a href="#Validating-Data" class="headerlink" title="Validating Data"></a>Validating Data</h2><p>What if the user types bogus data into the dialog? In our current example, the apply method will raise an exception if the contents of an entry field is not an integer. We could of course handle this with a try/except and a standard message box:</p>
<figure class="highlight livecodeserver"><table><tbody><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    def apply(self):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">first</span> = int(self.e1.<span class="built_in">get</span>())</span><br><span class="line">            <span class="keyword">second</span> = int(self.e2.<span class="built_in">get</span>())</span><br><span class="line">            dosomething((<span class="keyword">first</span>, <span class="keyword">second</span>))</span><br><span class="line">        except ValueError:</span><br><span class="line">            tkMessageBox.showwarning(</span><br><span class="line">                <span class="string">"Bad input"</span>,</span><br><span class="line">                <span class="string">"Illegal values, please try again"</span></span><br><span class="line">            )</span><br><span class="line"></span><br><span class="line">There’s <span class="keyword">a</span> problem <span class="keyword">with</span> this solution: <span class="keyword">the</span> ok method has already removed <span class="keyword">the</span> dialog <span class="built_in">from</span> <span class="keyword">the</span> screen when <span class="keyword">the</span> apply method is called, <span class="keyword">and</span> <span class="keyword">it</span> will destroy <span class="keyword">it</span> <span class="keyword">as</span> soon <span class="keyword">as</span> we <span class="literal">return</span>. This design is intentional; <span class="keyword">if</span> we carry out some potentially lengthy processing <span class="keyword">in</span> <span class="keyword">the</span> apply method, <span class="keyword">it</span> would be very confusing <span class="keyword">if</span> <span class="keyword">the</span> dialog wasn’t removed <span class="keyword">before</span> we finished. The Dialog class already contain hooks <span class="keyword">for</span> another solution: <span class="keyword">a</span> separate validate method which is called <span class="keyword">before</span> <span class="keyword">the</span> dialog is removed.</span><br><span class="line"></span><br><span class="line">In <span class="keyword">the</span> following example, we simply moved <span class="keyword">the</span> code <span class="built_in">from</span> apply <span class="built_in">to</span> validate, <span class="keyword">and</span> changed <span class="keyword">it</span> <span class="built_in">to</span> store <span class="keyword">the</span> <span class="built_in">result</span> <span class="keyword">in</span> <span class="keyword">an</span> instance attribute. This is <span class="keyword">then</span> used <span class="keyword">in</span> <span class="keyword">the</span> apply method <span class="built_in">to</span> carry out <span class="keyword">the</span> work.</span><br><span class="line"></span><br><span class="line">    ...</span><br><span class="line"></span><br><span class="line">    def validate(self):</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            <span class="keyword">first</span>= int(self.e1.<span class="built_in">get</span>())</span><br><span class="line">            <span class="keyword">second</span> = int(self.e2.<span class="built_in">get</span>())</span><br><span class="line">            self.<span class="built_in">result</span> = <span class="keyword">first</span>, <span class="keyword">second</span></span><br><span class="line">            <span class="literal">return</span> <span class="number">1</span></span><br><span class="line">        except ValueError:</span><br><span class="line">            tkMessageBox.showwarning(</span><br><span class="line">                <span class="string">"Bad input"</span>,</span><br><span class="line">                <span class="string">"Illegal values, please try again"</span></span><br><span class="line">            )</span><br><span class="line">            <span class="literal">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    def apply(self):</span><br><span class="line">        dosomething(self.<span class="built_in">result</span>)</span><br></pre></td></tr></tbody></table></figure>

<p>Note that if we left the processing to the calling program (as shown above), we don’t even have to implement the apply method.</p>

    </div>

    
    
    
        <div class="reward-container">
  <div>处无为之事，行不言之教；作而弗始，生而弗有，为而弗恃，功成不居!</div>
  <button onclick="var qr = document.getElementById('qr'); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.JPG" alt="郭大侠 微信支付">
        <p>微信支付</p>
      </div>
      
      <div style="display: inline-block;">
        <img src="/images/alipay.JPG" alt="郭大侠 支付宝">
        <p>支付宝</p>
      </div>

  </div>
</div>

        

  <div class="followme">
    <p>欢迎关注我的其它发布渠道</p>

    <div class="social-list">

        <div class="social-item">
          <a target="_blank" class="social-link" href="/images/wechat_channel.jpg">
            <span class="icon">
              <i class="fab fa-weixin"></i>
            </span>

            <span class="label">WeChat</span>
          </a>
        </div>
    </div>
  </div>


      <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/python/" rel="tag"># python</a>
              <a href="/tags/tkinter/" rel="tag"># tkinter</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2018/01/01/python-tkinter-1-2-hello-tkinter/" rel="prev" title="Python Tkinter 你好">
      <i class="fa fa-chevron-left"></i> Python Tkinter 你好
    </a></div>
      <div class="post-nav-item">
    <a href="/2018/01/01/python-tkinter-1-1-what-is-tkinter/" rel="next" title="Python 什么是Tkinter">
      Python 什么是Tkinter <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  



          </div>
          
      <div class="tabs tabs-comment">
        <ul class="nav-tabs">
            <li class="tab"><a href="#comment-disqus">disqus</a></li>
            <li class="tab"><a href="#comment-valine">valine</a></li>
        </ul>
        <div class="tab-content">
            <div class="tab-pane disqus" id="comment-disqus">
              
  <div class="comments">
    <div id="disqus_thread">
      <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
    </div>
  </div>
  
            </div>
            <div class="tab-pane valine" id="comment-valine">
              <div class="comments" id="valine-comments"></div>
            </div>
        </div>
      </div>

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Dialog-Windows"><span class="nav-number">1.</span> <span class="nav-text">Dialog Windows</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Creating-a-simple-dialog"><span class="nav-number">1.1.</span> <span class="nav-text">Creating a simple dialog</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#A-dialog-support-class-File-tkSimpleDialog-py"><span class="nav-number">1.2.</span> <span class="nav-text">A dialog support class (File: tkSimpleDialog.py)</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Creating-a-simple-dialog-revisited"><span class="nav-number">1.3.</span> <span class="nav-text">Creating a simple dialog, revisited</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Running-the-dialog2-py-script"><span class="nav-number">1.4.</span> <span class="nav-text">Running the dialog2.py script</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Grid-Layouts"><span class="nav-number">1.5.</span> <span class="nav-text">Grid Layouts</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Using-the-grid-manager"><span class="nav-number">1.6.</span> <span class="nav-text">Using the grid manager</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Validating-Data"><span class="nav-number">1.7.</span> <span class="nav-text">Validating Data</span></a></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">郭大侠</p>
  <div class="site-description" itemprop="description">郭大侠的博客</div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">998</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">181</span>
        <span class="site-state-item-name">分类</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">1450</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>


  <div class="links-of-blogroll motion-element">
    <div class="links-of-blogroll-title"><i class="fa fa-link fa-fw"></i>
      友情链接
    </div>
    <ul class="links-of-blogroll-list">
        <li class="links-of-blogroll-item">
          <a href="http://macshuo.com/" title="http:&#x2F;&#x2F;macshuo.com&#x2F;" rel="noopener" target="_blank">MacTalk</a>
        </li>
        <li class="links-of-blogroll-item">
          <a href="https://huhuidong.wordpress.com/" title="https:&#x2F;&#x2F;huhuidong.wordpress.com&#x2F;" rel="noopener" target="_blank">小胡</a>
        </li>
    </ul>
  </div>

      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 2007 – 
  <span itemprop="copyrightYear">2025</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">郭大侠</span>
</div>
  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://muse.theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Muse</a> 强力驱动
  </div>

        






<script>
  (function() {
    function leancloudSelector(url) {
      url = encodeURI(url);
      return document.getElementById(url).querySelector('.leancloud-visitors-count');
    }

    function addCount(Counter) {
      var visitors = document.querySelector('.leancloud_visitors');
      var url = decodeURI(visitors.id);
      var title = visitors.dataset.flagTitle;

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url })))
        .then(response => response.json())
        .then(({ results }) => {
          if (results.length > 0) {
            var counter = results[0];
            leancloudSelector(url).innerText = counter.time + 1;
            Counter('put', '/classes/Counter/' + counter.objectId, { time: { '__op': 'Increment', 'amount': 1 } })
              .catch(error => {
                console.error('Failed to save visitor count', error);
              });
          } else {
              leancloudSelector(url).innerText = 'Counter not initialized! More info at console err msg.';
              console.error('ATTENTION! LeanCloud counter has security bug, see how to solve it here: https://github.com/theme-next/hexo-leancloud-counter-security. \n However, you can still use LeanCloud without security, by setting `security` option to `false`.');
            
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    function showTime(Counter) {
      var visitors = document.querySelectorAll('.leancloud_visitors');
      var entries = [...visitors].map(element => {
        return decodeURI(element.id);
      });

      Counter('get', '/classes/Counter?where=' + encodeURIComponent(JSON.stringify({ url: { '$in': entries } })))
        .then(response => response.json())
        .then(({ results }) => {
          for (let url of entries) {
            let target = results.find(item => item.url === url);
            leancloudSelector(url).innerText = target ? target.time : 0;
          }
        })
        .catch(error => {
          console.error('LeanCloud Counter Error', error);
        });
    }

    let { app_id, app_key, server_url } = {"enable":true,"app_id":"vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz","app_key":"NTHrGJp71GzEGvNUEUFumVcR","server_url":null,"security":true};
    function fetchData(api_server) {
      var Counter = (method, url, data) => {
        return fetch(`${api_server}/1.1${url}`, {
          method,
          headers: {
            'X-LC-Id'     : app_id,
            'X-LC-Key'    : app_key,
            'Content-Type': 'application/json',
          },
          body: JSON.stringify(data)
        });
      };
      if (CONFIG.page.isPost) {
        if (CONFIG.hostname !== location.hostname) return;
        addCount(Counter);
      } else if (document.querySelectorAll('.post-title-link').length >= 1) {
        showTime(Counter);
      }
    }

    let api_server = app_id.slice(-9) !== '-MdYXbMMI' ? server_url : `https://${app_id.slice(0, 8).toLowerCase()}.api.lncldglobal.com`;

    if (api_server) {
      fetchData(api_server);
    } else {
      fetch('https://app-router.leancloud.cn/2/route?appId=' + app_id)
        .then(response => response.json())
        .then(({ api_server }) => {
          fetchData('https://' + api_server);
        });
    }
  })();
</script>


      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/muse.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  

<script>
  function loadCount() {
    var d = document, s = d.createElement('script');
    s.src = 'https://shaoguangleo.disqus.com/count.js';
    s.id = 'dsq-count-scr';
    (d.head || d.body).appendChild(s);
  }
  // defer loading until the whole page loading is completed
  window.addEventListener('load', loadCount, false);
</script>
<script>
  var disqus_config = function() {
    this.page.url = "http://shaoguangleo.github.io/2018/01/01/python-tkinter-1-10-dialog-windows/";
    this.page.identifier = "2018/01/01/python-tkinter-1-10-dialog-windows/";
    this.page.title = "Python Tkinter对话窗口";
    };
  NexT.utils.loadComments(document.querySelector('#disqus_thread'), () => {
    if (window.DISQUS) {
      DISQUS.reset({
        reload: true,
        config: disqus_config
      });
    } else {
      var d = document, s = d.createElement('script');
      s.src = 'https://shaoguangleo.disqus.com/embed.js';
      s.setAttribute('data-timestamp', '' + +new Date());
      (d.head || d.body).appendChild(s);
    }
  });
</script>


<script>
NexT.utils.loadComments(document.querySelector('#valine-comments'), () => {
  NexT.utils.getScript('//unpkg.com/valine/dist/Valine.min.js', () => {
    var GUEST = ['nick', 'mail', 'link'];
    var guest = 'nick,mail,link';
    guest = guest.split(',').filter(item => {
      return GUEST.includes(item);
    });
    new Valine({
      el         : '#valine-comments',
      verify     : false,
      notify     : true,
      appId      : 'vIjrLnlboDVaaseO2yYcVSQF-gzGzoHsz',
      appKey     : 'NTHrGJp71GzEGvNUEUFumVcR',
      placeholder: "路过，即是缘分...",
      avatar     : 'mm',
      meta       : guest,
      pageSize   : '10' || 10,
      visitor    : false,
      lang       : '' || 'zh-cn',
      path       : location.pathname,
      recordIP   : false,
      serverURLs : ''
    });
  }, window.Valine);
});
</script>

</body>
</html>
